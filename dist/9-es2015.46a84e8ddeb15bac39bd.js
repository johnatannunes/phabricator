(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2niU":function(e,t,i){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},AHN0:function(e,t,i){"use strict";t.isArray=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},CMMe:function(e,t,i){"use strict";i.r(t),i.d(t,"options",(function(){return Dn})),i.d(t,"RegisterModule",(function(){return En}));var o=i("Xnbg"),r=i("Yvf7");class n{static formateDataAndHourDDMMAA(e,t){return new r.f("en-US").transform(e,"dd/MM/yyyy")+" "+t+" Hs"}static formateDataAndHour(e,t){return new r.f("en-US").transform(e,"yyyy-MM-dd")+"T"+t}static formateData(e){return new r.f("en-US").transform(e,"yyyy-MM-dd")}static formateDataRegister(e){return e.indexOf("-")>-1?e:n.parse(e)+"T"}static formateDataYMD(e){return new r.f("en-US").transform(e,"yyyy/MM/dd")}static formateDataDDMMAA(e){return new r.f("en-US").transform(e,"dd/MM/yyyy")}static formateDataDDMMAAByString(e){let t=new Date(e);return new r.f("en-US").transform(t,"dd/MM/yyyy")}static formateDataDDMMAAByStringHr(e){let t=new Date(e);return new r.f("en-US").transform(t,"dd/MM/yyyy HH:mm")}static formateDataDDMMAAHMSByString(e){let t=new Date(e);return new r.f("en-US").transform(t,"dd/MM/yyyy HH:mm")}static formateDateHours24(e,t){let i=new Date(e).toLocaleTimeString("pt-PT",{hour12:!1});return 1==t?n.formateDataAndHourDDMMAA(e,i):n.formateDataAndHour(e,i)}static parse(e){let t=(e=e.replace(/\D+/g,"")).substring(0,2),i=e.substring(2,4)+"-";return e.substring(4,9)+"-"+i+t}static invalidDate(e){if(null==e||""==e||null==e)return!0;let t;return 10!==e.length||(t=e.indexOf("-")>-1?e:n.parse(e),t=new Date(t),"Invalid Date"==t)}}var a=i("jUEA"),s=i("O5/X"),l=i("frK+"),c=i("AxLL"),b=i("eevI"),p=i("O6Zd"),d=i("+3x0");const u=function(e){const t=document.getElementById(e);return Object(b.a)(t,"keyup").pipe(Object(p.a)(e=>e.currentTarget.value),Object(d.a)(500))};var m=i("ZmOM"),h=i("8VHZ");const v=function(e){return e.formBuilder.group({title:["",[h.E.required]],description:["",[h.E.required]]})},f=function(e){e.details=e.detailsFormGroup.get("details"),e.details.push(v(e))},g=function(e,t){e.details.removeAt(t)},S=function(e){return e.formBuilder.group({details:e.formBuilder.array([v(e)])})};var R=i("VriU"),y=i("QNc9");class I{constructor(e,t,i,o,r,n,a,s,l){this.formBuilder=t,this.msg=i,this.cep=o,this.primengConfig=r,this.spinner=n,this.service=a,this.router=s,this.breadcrumbService=l,this.loactionForm={day:[""],postalCode:["",[h.E.required]],street:["",[h.E.required]],number:["",[h.E.required]],neighborhood:["",[h.E.required]],city:["",[h.E.required]],state:["",[h.E.required]],complement:[""],latlng:[""]},this.addDetail=f,this.removeDetail=g,this.teams=new Array,this.drivers=new Array,this.vehicles=new Array,this.suppleries=new Array,this.types=new Array,this.driver="",this.subscription=new y.Subscription,this.yearOptions=`${(new Date).getFullYear()}:${(new Date).getFullYear()+10}`,this.origin={lat:"",lng:""},this.destination={lat:"",lng:""}}loadFormGroup(){this.originFormGroup=this.formBuilder.group(this.loactionForm),this.destinationFormGroup=this.formBuilder.group(this.loactionForm),this.managementFormGroup=this.formBuilder.group({driverName:[""],driverId:[""],startKm:[null],endKm:[null],vehicleRegistration:[""],vehicleId:[""],customerName:[""],customerId:[""],typeName:[""],typeId:[""],status:[R.a.WAITING],teamId:[""],teamName:[""],teamOwnerId:["",[h.E.required]]}),this.moneyFormGroup=this.formBuilder.group({tariff:["",[h.E.required]],invoice:["",[h.E.required]],weightKilograms:["",[h.E.required]],registeredValue:["",[h.E.required]],negotiatedValue:["",[h.E.required]],estimatedValue:[""],negotiatedPercentage:[""],estimatedPercentage:[""],tariffPercentage:[""],currentTariff:[""],gainPerKilo:[""],valuePerKilo:[""]}),this.detailsFormGroup=S(this)}buildLinkGoogleMaps(e){const t=e.value;Object(m.a)(t,this)}calculateValues(){const e=this.moneyFormGroup.value;e.weightKilograms&&e.registeredValue&&(this.moneyFormGroup.get("valuePerKilo").setValue(e.registeredValue/e.weightKilograms),e.tariff&&e.weightKilograms&&this.moneyFormGroup.get("gainPerKilo").setValue(e.tariff/e.weightKilograms)),e.registeredValue&&e.negotiatedValue&&(this.moneyFormGroup.get("tariff").setValue(e.registeredValue-e.negotiatedValue),this.moneyFormGroup.get("estimatedValue").setValue(this.moneyFormGroup.value.tariff),this.moneyFormGroup.get("tariffPercentage").setValue((100*this.moneyFormGroup.value.tariff/e.registeredValue).toFixed(1)),this.moneyFormGroup.get("estimatedPercentage").setValue(this.moneyFormGroup.value.tariffPercentage),this.moneyFormGroup.get("negotiatedPercentage").setValue((100*e.negotiatedValue/e.registeredValue).toFixed(1)),e.tariff&&e.weightKilograms&&this.moneyFormGroup.get("gainPerKilo").setValue(e.tariff/e.weightKilograms))}keyUpcep(e,t){9==e.length&&(this.spinner.show(),this.cep.get(e).subscribe(e=>{e.cep||this.msg.toast(Object(s.a)("CEP n\xe3o encontrado!")),this.spinner.hide(),t.get("city").setValue(e.city),t.get("neighborhood").setValue(e.neighborhood),t.get("state").setValue(e.state),t.get("street").setValue(e.street)}))}onSelectVehicle(e,t,i){var o,r,n;i>0&&e.vehicleRegistration==(null===(o=t.controls[i-1].value)||void 0===o?void 0:o.vehicleRegistration)?this.msg.toast(Object(s.b)("Esse Ve\xedculo j\xe1 foi adicionado")):((null==e?void 0:e.associatedDriver)&&(t.controls[i].get("driverName").setValue(null===(r=e.associatedDriver)||void 0===r?void 0:r.name),t.controls[i].get("driverId").setValue(null===(n=e.associatedDriver)||void 0===n?void 0:n.id)),t.controls[i].get("vehicleRegistration").setValue(e.vehicleRegistration),t.controls[i].get("vehicleId").setValue(e.id),t.controls[i].get("startKm").setValue(e.currentKm))}vehicleSearch(e){const t=u(e).subscribe(e=>{var i;if(e){const t=this.service.get(""+l.a.VEHICLE,{sort:"name",search:e},null===(i=this.company)||void 0===i?void 0:i.id).subscribe(e=>{this.vehicles=(null==e?void 0:e.elements)?e.elements.filter(({operationalId:e})=>!e):new Array});this.subscription.add(t)}this.subscription.add(t)})}onChangeteams(e){var t,i,o;this.managementFormGroup.get("teamId").setValue(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.id),this.managementFormGroup.get("teamName").setValue(null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.name),this.company.id=null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.id}customerSearch(){u("supplierSearch").subscribe(e=>{var t;const i=this.service.myStorage.get();let o="",r={sort:"name",search:""+e,size:"999"};(null==i?void 0:i.teamId)==(null==i?void 0:i.headerId)&&(o="/all",r={});const n=this.service.get(`${l.a.CUSTOMER}${o}`,r,null===(t=this.company)||void 0===t?void 0:t.id).subscribe(e=>{setTimeout(()=>{this.suppleries=(null==e?void 0:e.elements)?o?e:null==e?void 0:e.elements:[]},300)});this.subscription.add(n)})}typeSearch(){var e;return this.service.get(l.a.TYPE_OPERATION+"/all",{},null===(e=this.company)||void 0===e?void 0:e.id).toPromise().then(e=>{if(e)return this.types=e,e;this.types=[]})}onChangeCustomer(e){this.managementFormGroup.get("customerId").setValue(null==e?void 0:e.id),this.managementFormGroup.get("customerName").setValue(null==e?void 0:e.name)}onChangeType(e){this.managementFormGroup.get("typeId").setValue(null==e?void 0:e.value.id),this.managementFormGroup.get("typeName").setValue(null==e?void 0:e.value.name)}setDays(e){var t;try{(null===(t=this.startAndEndDate)||void 0===t?void 0:t.length)&&(this.startAndEndDate[0]&&this.originFormGroup.get("day").setValue(c.a.formateDate(this.startAndEndDate[0],"dd/MM/yyyy")),this.startAndEndDate[1]&&this.destinationFormGroup.get("day").setValue(c.a.formateDate(this.startAndEndDate[1],"dd/MM/yyyy")))}catch(i){}e&&(null==e||e.next())}}var N=i("DqYx");const x=function(e){var t;let i=z(e.originFormGroup);i.day&&(i.day=i.day+"T00:00:00");let o=z(e.destinationFormGroup);return o.day&&(o.day=o.day+"T23:59:00"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.managementFormGroup.value),{description:e.description,details:e.detailsFormGroup.value.details,origin:i,destiny:o}),e.vehicleOperationFormGroup.value),e.moneyFormGroup.value),{wordsKeys:Object(N.a)({c:e.description,e:null===(t=e.managementFormGroup.value)||void 0===t?void 0:t.typeName,d:JSON.stringify(e.vehicleOperationFormGroup.value.vehicles)})})};function z(e){let t=null;if(e.value.latlng){const i=e.value.latlng.replace(" ","").split(",");t={lat:i[0],lng:i[1]}}return{day:c.a.parseDate(e.value.day),address:{postalCode:e.value.postalCode,street:e.value.street,number:e.value.number,neighborhood:e.value.neighborhood,complement:e.value.complement,city:e.value.city,state:e.value.state,location:t}}}var C=i("NUqc"),_=i("acuM"),F=i("01gL"),k=i("Ub9n"),w=i("pXgX"),G=i("RYuo");var O=i("FBrc");let D=(()=>{class e{constructor(e){this.httpClient=e}get(e){return this.httpClient.get(`https://viacep.com.br/ws/${e}/json`,{}).pipe(Object(p.a)(e=>({cep:e.cep,street:e.logradouro,neighborhood:e.bairro,city:e.localidade,state:e.uf})))}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(O.b))},e.\u0275prov=k.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=i("k+iJ"),A=i("989Q"),K=i("dPOq"),P=i("Fk62"),T=i("VZx1"),M=i("1W9G"),L=i("I0xz"),B=i("Cj2L"),V=i("LIHT"),j=i("yFoz"),U=i("gbjq"),q=i("51Yz"),$=i("4n0u"),X=i("nZmZ"),Y=i("mDLx"),H=i("E1Ew"),J=i("mj01");class W{static builder(){return new Z}}class Z{reset(e){for(const t in e.controls)switch(t){case"teamOwnerId":case"teamId":case"teamName":continue;default:Object.prototype.hasOwnProperty.call(e.controls,t)&&e.get(t).reset()}}}var Q=i("LM7X"),ee=i("63rz"),te=i("LAjR");function ie(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",10),k.Nb(1,"br"),k.Sb(2,"p-dropdown",23),k.ac("onChange",(function(t){return k.zc(e),k.ec(2).onChange(t)})),k.Rb(),k.Rb()}if(2&e){const e=k.ec(2);k.zb(2),k.lc("options",e.teams)}}function oe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",20),k.Sb(1,"button",24),k.ac("click",(function(){return k.zc(e),k.ec(2).dialog.showAlert=!1})),k.Rb(),k.Rb()}}function re(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",2),k.Sb(1,"div",3),k.Sb(2,"div",4),k.Sb(3,"form",5),k.Sb(4,"div"),k.Sb(5,"div"),k.Sb(6,"div",6),k.Sb(7,"h6"),k.Kc(8," Evento: "),k.Sb(9,"span",7),k.Sb(10,"small"),k.Kc(11),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(12,"div",8),k.Ic(13,ie,3,1,"div",9),k.Sb(14,"div",10),k.Nb(15,"br"),k.Sb(16,"p-dropdown",11),k.ac("onShow",(function(){return k.zc(e),k.ec().loadTypes()}))("onChange",(function(t){return k.zc(e),k.ec().onChangeType(t)})),k.Rb(),k.Rb(),k.Sb(17,"div",12),k.Nb(18,"br"),k.Nb(19,"input",13),k.Rb(),k.Sb(20,"div",12),k.Nb(21,"br"),k.Nb(22,"p-calendar",14),k.Rb(),k.Sb(23,"div",12),k.Nb(24,"br"),k.Sb(25,"p-multiSelect",15),k.ac("onPanelShow",(function(){return k.zc(e),k.ec().loadProfiles()})),k.Rb(),k.Sb(26,"small"),k.Kc(27," Ser\xe3o notificados todos os associados aos perfis selecionados"),k.Rb(),k.Rb(),k.Sb(28,"div",12),k.Nb(29,"br"),k.Sb(30,"p-multiSelect",16),k.ac("onPanelShow",(function(){return k.zc(e),k.ec().loadUsers()})),k.Rb(),k.Rb(),k.Sb(31,"div",12),k.Nb(32,"br"),k.Sb(33,"textarea",17),k.Kc(34,"                  "),k.Rb(),k.Rb(),k.Sb(35,"div",18),k.Nb(36,"br"),k.Nb(37,"p-colorPicker",19),k.Sb(38,"small"),k.Kc(39," Selecionar cor de prioridade "),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"div",8),k.Sb(41,"div",20),k.Sb(42,"button",21),k.ac("click",(function(){return k.zc(e),k.ec().save()})),k.Rb(),k.Rb(),k.Ic(43,oe,2,0,"div",22),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(3),k.lc("formGroup",e.alertFormGroup),k.zb(8),k.Mc(" ",e.alertFormGroup.value.title," "),k.zb(2),k.lc("ngIf",e.userOwner&&!e.loadApp),k.zb(3),k.lc("disabled",!e.alertFormGroup.value.teamId)("options",e.types),k.zb(3),k.lc("readonly",!e.alertFormGroup.value.teamId),k.zb(3),k.lc("showIcon",!0)("readonlyInput",!0)("monthNavigator",!0)("touchUI",!0)("readonlyInput",!0),k.zb(3),k.lc("readonly",!e.alertFormGroup.value.teamId)("options",e.profiles),k.zb(5),k.lc("readonly",!e.alertFormGroup.value.teamId)("options",e.users),k.zb(3),k.lc("readonly",!e.alertFormGroup.value.teamId),k.zb(4),k.lc("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),k.zb(5),k.lc("disabled",!e.alertFormGroup.valid),k.zb(1),k.lc("ngIf",e.id)}}function ne(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Kc(1," A fun\xe7\xe3o de enviar eventos n\xe3o est\xe1 habilitada para o seu perfil. "),k.Nb(2,"br"),k.Nb(3,"br"),k.Sb(4,"button",25),k.ac("click",(function(){return k.zc(e),k.ec().dialog.showAlert=!1})),k.Rb(),k.Rb()}}let ae=(()=>{class e{constructor(e,t,i,o,r,n,a){var s;this.startPerfilIn=e,this.formBuilder=t,this.msg=i,this.primengConfig=o,this.spinner=r,this.service=n,this.breadcrumbService=a,this.page=new J.a,this.profiles=new Array,this.users=new Array,this.teams=new Array,this.types=new Array,this.userOwner=F.a.isOwner(),this.titleBreadCrum=!0,this.user=this.service.myStorage.get(),this.postEnabled=this.startPerfilIn.listItemsMenuPerfil.indexOf("event_post")>-1,this.teamId=null===(s=this.service.myStorage.get())||void 0===s?void 0:s.teamId,this.titleBreadCrum&&this.breadcrumbService.setItems([{label:"Registrar Eventos"}])}loadFormGroup(){this.alertFormGroup=this.formBuilder.group({title:[null,[h.E.required]],note:[null],notifiesIds:[""],notifiesProfilesIds:[""],redirectPath:[null],typeId:[null],typeName:[null],path:[null],priorityColor:["#696969"],alertDay:[null,[h.E.required]],teamId:[null],teamName:[null],teamOwnerId:[null],wordsKeys:[null]})}loadProfiles(){var e;this.spinner.show(),this.service.get(l.a.PROFILE+"/hierarchys",{hierarchy:null===(e=this.service.myStorage.get())||void 0===e?void 0:e.profileHierarchy}).subscribe(e=>{const t=[];e.forEach(e=>{t.push({label:e.name,value:e.id})}),this.profiles=t,this.spinner.hide()})}loadUsers(){this.spinner.show(),this.service.get(""+l.a.USER,{sort:"name",size:"9999"}).subscribe(e=>{var t;const i=[];null===(t=null==e?void 0:e.elements)||void 0===t||t.forEach(e=>{i.push({label:e.name,value:e.id})}),this.users=i,this.spinner.hide()})}loadTypes(){this.spinner.show(),this.service.get(""+l.a.TYPE_EVENTS,{sort:"name",size:"9999"}).subscribe(e=>{this.types=null==e?void 0:e.elements,this.spinner.hide()})}onChange(e){var t;this.alertFormGroup.get("teamId").setValue(null==e?void 0:e.value),this.alertFormGroup.get("teamName").setValue(null===(t=this.teams.find(({id:t})=>t===(null==e?void 0:e.value)))||void 0===t?void 0:t.name)}onChangeType(e){var t;this.alertFormGroup.get("typeId").setValue(null==e?void 0:e.value),this.alertFormGroup.get("typeName").setValue(null===(t=this.types.find(({id:t})=>t===(null==e?void 0:e.value)))||void 0===t?void 0:t.name)}save(){this.setPath(),this.service.post(l.a.EVENT,function(e){var t,i,o,r;e.alertFormGroup.value.notifiesIds=[...e.alertFormGroup.value.notifiesIds,...e.alertFormGroup.value.notifiesProfilesIds,e.service.myStorage.get().id];const n=Object.assign({},e.alertFormGroup.value);return n.elementId=null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.id,n.elementDescription=e.elementDescription,n.alertDay=c.a.formateDate(n.alertDay,"yyyy-MM-dd")+"T00:00:00",n.wordsKeys=(null===(i=e.alertFormGroup.value)||void 0===i?void 0:i.title)+" "+(null===(o=e.alertFormGroup.value)||void 0===o?void 0:o.note)+" "+(null===(r=e.alertFormGroup.value)||void 0===r?void 0:r.path)+" "+e.elementDescription+" "+c.a.formateDate(n.alertDay,"dd/MM/yyyy"),n}(this)).subscribe(e=>{this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.alertFormGroup)})}setPath(){this.id&&this.alertFormGroup.get("redirectPath").setValue(`query/type/${this.path}/search/${this.elementDescription}`),this.alertFormGroup.get("path").setValue("query/type/event/search/"+this.buildResultRandomId())}buildResultRandomId(){return`${Date.now()}${(11*Math.random()).toPrecision(11).replace(".","")}`}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.alertFormGroup)}removeAlert(e){this.alerts.removeAt(e)}ngOnInit(){var e,t;this.primengConfig.setTranslation(C.a),this.startDefault(),(null===(e=this.user)||void 0===e?void 0:e.teamOwnerId)===(null===(t=this.user)||void 0===t?void 0:t.teamId)&&(this.loadApp=!1)}ngOnDestroy(){this.teams=new Array}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(Q.a),k.Lb(h.f),k.Lb(G.a),k.Lb(E.k),k.Lb(A.c),k.Lb(K.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-alert"]],inputs:{id:"id",path:"path",teamId:"teamId",loadApp:"loadApp",stepper:"stepper",dialog:"dialog",elementDescription:"elementDescription",titleBreadCrum:"titleBreadCrum"},decls:2,vars:2,consts:[["class","p-grid p-fluid",4,"ngIf"],[4,"ngIf"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2",2,"padding","0 !important"],["name","name"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","id","types","inputId","types","optionLabel","name","placeholder","Selecionar Tipo*",3,"disabled","options","onShow","onChange"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["name","name","formControlName","title","pInputText","","placeholder","T\xedtulo",3,"readonly"],["placeholder","Datas*","name","date","formControlName","alertDay","dateFormat","dd/mm/yy","inputId","touchui",3,"showIcon","readonlyInput","monthNavigator","touchUI"],["placeholder","Selecionar perfis","formControlName","notifiesProfilesIds",3,"readonly","options","onPanelShow"],["placeholder","Selecionar usu\xe1rios","formControlName","notifiesIds",3,"readonly","options","onPanelShow"],["type","text","formControlName","note","pInputTextarea","","placeholder","Observa\xe7\xe3o",3,"readonly"],[1,"p-col-12","p-mb-1","p-lg-2","p-mb-lg-1"],["formControlName","priorityColor",3,"showTransitionOptions","hideTransitionOptions"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Salvar Evento","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["class","p-col-12 p-mb-4 p-lg-2 p-mb-lg-0",4,"ngIf"],["optionValue","id","id","teams","inputId","teams","optionLabel","name","formControlName","teamId","placeholder","Selecionar Empresa*",3,"options","onChange"],["pButton","","label","Fechar","type","button",1,"p-button-success","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Fechar",1,"p-button-success","p-mr-2","p-mb-2",3,"click"]],template:function(e,t){1&e&&(k.Ic(0,re,44,20,"div",0),k.Ic(1,ne,5,0,"div",1)),2&e&&(k.lc("ngIf",t.postEnabled),k.zb(1),k.lc("ngIf",!t.postEnabled))},directives:[r.t,h.G,h.r,h.i,B.a,h.c,h.q,h.h,$.a,U.a,ee.a,V.a,te.a,j.b],styles:[""]}),e})();var se=i("bb6g"),le=i("21f/");function ce(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",3),k.Sb(1,"button",6),k.ac("click",(function(){return k.zc(e),k.ec(2).stepper.previous()})),k.Rb(),k.Rb()}}function be(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",3),k.Sb(1,"button",7),k.ac("click",(function(){return k.zc(e),k.ec(2).stepper.next()})),k.Rb(),k.Rb()}}function pe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",3),k.Sb(1,"button",8),k.ac("click",(function(){return k.zc(e),k.ec(2).dialog.showImage=!1})),k.Rb(),k.Rb()}}function de(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"h4"),k.Kc(2,"Anexar documentos"),k.Rb(),k.Sb(3,"div"),k.Sb(4,"div"),k.Sb(5,"p-fileUpload",1),k.ac("onSelect",(function(t){return k.zc(e),k.ec().onSelectImg(t)}))("onClear",(function(){return k.zc(e),k.ec().onClear()})),k.Rb(),k.Rb(),k.Rb(),k.Nb(6,"br"),k.Nb(7,"br"),k.Sb(8,"div",2),k.Sb(9,"div",3),k.Sb(10,"button",4),k.ac("click",(function(){k.zc(e);const t=k.ec();return t.sendImg(t.stepper)})),k.Rb(),k.Rb(),k.Ic(11,ce,2,0,"div",5),k.Ic(12,be,2,0,"div",5),k.Kc(13," \xa0 \xa0 \xa0 \xa0 "),k.Ic(14,pe,2,0,"div",5),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(5),k.lc("showUploadButton",!1),k.zb(6),k.lc("ngIf",e.loadApp),k.zb(1),k.lc("ngIf",e.loadApp),k.zb(2),k.lc("ngIf",!e.loadApp)}}function ue(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Kc(1," A fun\xe7\xe3o de enviar imagens n\xe3o est\xe1 habilitada para o seu perfil. "),k.Nb(2,"br"),k.Nb(3,"br"),k.Sb(4,"button",8),k.ac("click",(function(){return k.zc(e),k.ec().dialog.showImage=!1})),k.Rb(),k.Rb()}}let me=(()=>{class e{constructor(e,t,i,o){this.startPerfilIn=e,this.spinner=t,this.apiService=i,this.msg=o,this.uploadedFiles=new Array,this.loadApp=!0,this.imagePost=this.startPerfilIn.listItemsMenuPerfil.indexOf("image_post")>-1,this.base64=new Array}onSelectImg(e){for(const t of e.currentFiles){const e=new FileReader;e.onload=this._handleReaderLoaded.bind(this),e.readAsBinaryString(t)}}_handleReaderLoaded(e){this.base64.push(btoa(e.target.result))}onClear(){this.uploadedFiles=[]}sendImg(e){return Object(se.a)(this,void 0,void 0,(function*(){this.spinner.show();for(const e of this.base64)yield this.apiService.post(""+l.a.IMAGE,this.buildPayload(e)).toPromise();this.spinner.hide(),e&&e.next(),this.dialog&&(this.dialog.showImage=!1),this.msg.toast(Object(s.c)("Processo de envio conclu\xeddo"))}))}buildPayload(e){var t,i,o,r;return{elementId:null===(t=this.data)||void 0===t?void 0:t.id,name:"",imgUrl:e,note:"",wordsKeys:"",companyId:null===(i=this.data)||void 0===i?void 0:i.companyId,headId:null===(o=this.data)||void 0===o?void 0:o.headId,companyName:null===(r=this.data)||void 0===r?void 0:r.companyName}}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(Q.a),k.Lb(A.c),k.Lb(K.a),k.Lb(G.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-img"]],inputs:{stepper:"stepper",data:"data",loadApp:"loadApp",dialog:"dialog"},decls:2,vars:2,consts:[[4,"ngIf"],["name","demo[]","chooseLabel","Selecionar imagens","chooseIcon","pi pi-images","cancelLabel","Limpar","multiple","multiple","accept","image/*","maxFileSize","33000000",3,"showUploadButton","onSelect","onClear"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Enviar",1,"p-mr-2","p-mb-2",3,"click"],["class","p-col-12 p-mb-4 p-lg-2 p-mb-lg-0",4,"ngIf"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Pular",1,"p-button-success","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Fechar",1,"p-button-success","p-mr-2","p-mb-2",3,"click"]],template:function(e,t){1&e&&(k.Ic(0,de,15,4,"div",0),k.Ic(1,ue,5,0,"div",0)),2&e&&(k.lc("ngIf",t.imagePost),k.zb(1),k.lc("ngIf",!t.imagePost))},directives:[r.t,le.a,j.b],styles:[""]}),e})();function he(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",7),k.Sb(1,"p-dropdown",50),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().company=t}))("onChange",(function(t){return k.zc(e),k.ec().onChangeteams(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)("ngModel",e.company)}}function ve(e,t){if(1&e&&(k.Sb(0,"div",51),k.Sb(1,"div",52),k.Sb(2,"span",53),k.Kc(3),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",null==e?null:e.fantasyName," ")}}function fe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",59),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeVehicles(i,t)})),k.Rb()}}function ge(e,t){if(1&e&&(k.Sb(0,"h6"),k.Kc(1," Ultimo Km registrado: "),k.Sb(2,"span"),k.Kc(3),k.Rb(),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.Mc(" ",e.value.currentKm," ")}}function Se(e,t){if(1&e&&(k.Sb(0,"h6"),k.Kc(1),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(1),k.Mc(" Motorista assossiado ao ve\xedculo: ",e.value.driverName," ")}}function Re(e,t){if(1&e&&(k.Sb(0,"div",60),k.Sb(1,"div"),k.Sb(2,"strong"),k.Kc(3,"Nome: "),k.Rb(),k.Kc(4),k.Nb(5,"br"),k.Sb(6,"strong"),k.Kc(7,"Placa: "),k.Rb(),k.Kc(8),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.name," "),k.zb(4),k.Mc(" ",e.vehicleRegistration," ")}}const ye=function(){return{standalone:!0}};function Ie(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",54),k.Sb(1,"div",55),k.Sb(2,"h6"),k.Ic(3,fe,1,0,"i",56),k.Rb(),k.Ic(4,ge,4,1,"h6",49),k.Ic(5,Se,2,1,"h6",49),k.Rb(),k.Sb(6,"div",57),k.Sb(7,"div",23),k.Sb(8,"p-autoComplete",58),k.ac("onSelect",(function(i){k.zc(e);const o=t.index,r=k.ec();return r.onSelectVehicle(i,r.vehicleOperationFormGroup.get("vehicles"),o)}))("onFocus",(function(){k.zc(e);const i=t.index;return k.ec().vehicleSearch("search_vehicle"+i)})),k.Ic(9,Re,9,2,"ng-template",9),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.vehicleOperationFormGroup.get("vehicles").controls.length>1),k.zb(1),k.lc("ngIf",e.value.currentKm),k.zb(1),k.lc("ngIf",e.value.driverName),k.zb(1),k.lc("formGroupName",i),k.zb(2),k.lc("suggestions",o.vehicles)("ngModelOptions",k.oc(8,ye))("disabled",!o.company)("inputId","search_vehicle"+i)}}function Ne(e,t){if(1&e&&(k.Sb(0,"div",5),k.Sb(1,"div",18),k.Sb(2,"strong"),k.Kc(3,"Datas selecionadas"),k.Rb(),k.Kc(4),k.Rb(),k.Rb()),2&e){const e=k.ec();k.zb(4),k.Mc(" : ",null==e.startDateAndEndDate?null:e.startDateAndEndDate.toString()," ")}}function xe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",59),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function ze(e,t){if(1&e&&(k.Sb(0,"div",61),k.Sb(1,"div",55),k.Sb(2,"h6"),k.Ic(3,xe,1,0,"i",56),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",62),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",57),k.Sb(9,"div",23),k.Nb(10,"br"),k.Nb(11,"input",63),k.Rb(),k.Sb(12,"div",23),k.Nb(13,"br"),k.Sb(14,"textarea",64),k.Kc(15,"                    "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function Ce(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",5),k.Sb(1,"div",32),k.Sb(2,"button",65),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",66),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function _e(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",67),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function Fe(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",68),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}let ke=(()=>{class e extends I{constructor(e,t,i,o,r,n,a,s,l,c){super(e,t,i,o,r,n,a,s,c),this.loginCookieStorage=e,this.route=l,this.startDateAndEndDate=[null,null],this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Editar Servi\xe7o"}])}setData(e){var t,i,o,r,a,s,l,c,b,p,d,u,m,h,v,f,g,S,R,y,I;this.company=this.teams.find(t=>(null==t?void 0:t.id)==(null==e?void 0:e.teamId)),this.typeSearch().then(t=>{this.types=t,this.type=this.types.find(t=>(null==t?void 0:t.id)==(null==e?void 0:e.typeId))}),document.getElementById("supplierSearch").value=e.customerName,this.description=(null==e?void 0:e.description)+" ",this.managementFormGroup.get("teamId").setValue(null===(t=this.company)||void 0===t?void 0:t.id),this.vehicles=null==e?void 0:e.vehicles;for(let n=0;n<(null==e?void 0:e.vehicles.length);n++){const t=null==e?void 0:e.vehicles[n];null===(o=null===(i=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===i?void 0:i.get("vehicleRegistration"))||void 0===o||o.setValue(null==t?void 0:t.vehicleRegistration),null===(a=null===(r=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===r?void 0:r.get("vehicleId"))||void 0===a||a.setValue(null==t?void 0:t.vehicleId),null===(l=null===(s=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===s?void 0:s.get("driverName"))||void 0===l||l.setValue(null==t?void 0:t.driverName),null===(b=null===(c=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===c?void 0:c.get("driverId"))||void 0===b||b.setValue(null==t?void 0:t.driverId),null===(d=null===(p=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===p?void 0:p.get("startKm"))||void 0===d||d.setValue(null==t?void 0:t.startKm),null===(m=null===(u=this.vehicleOperationFormGroup.get("vehicles").controls[n])||void 0===u?void 0:u.get("endKm"))||void 0===m||m.setValue(null==t?void 0:t.endKm),document.getElementById("search_vehicle"+n).value=null==t?void 0:t.vehicleRegistration}const N=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.originFormGroup.value),this.detailsFormGroup.value),{destiny:{},origin:{}}),this.moneyFormGroup.value),this.vehicleOperations.value),this.managementFormGroup.value);for(const z in N)if(Object.prototype.hasOwnProperty.call(N,z)){const t=e[z];try{e[z]&&this.originFormGroup.get(z).setValue(e[z])}catch(x){}"destiny"==z&&((null==t?void 0:t.day)&&(this.startDateAndEndDate[1]=n.formateDataDDMMAA(null==t?void 0:t.day)),this.buildAddress(this.destinationFormGroup,null==t?void 0:t.address)),"origin"==z&&((null==t?void 0:t.day)&&(this.startDateAndEndDate[0]=n.formateDataDDMMAA(null==t?void 0:t.day)),this.buildAddress(this.originFormGroup,null==t?void 0:t.address));try{if("details"==z){for(let t=0;t<(null===(h=e[z])||void 0===h?void 0:h.length);t++)this.addDetail(this),null===(f=null===(v=this.detailsFormGroup.get("details").controls[t])||void 0===v?void 0:v.get("title"))||void 0===f||f.setValue(null===(g=e[z][t])||void 0===g?void 0:g.title),null===(R=null===(S=this.detailsFormGroup.get("details").controls[t])||void 0===S?void 0:S.get("description"))||void 0===R||R.setValue(null===(y=e[z][t])||void 0===y?void 0:y.description);for(let e=0;e<(null===(I=this.detailsFormGroup.value.details)||void 0===I?void 0:I.length);e++){const t=this.detailsFormGroup.value.details[e];(null==t?void 0:t.title)||this.removeDetail(this,e)}}}catch(x){}try{e[z]&&(this.moneyFormGroup.get(z).setValue(e[z]),this.calculateValues())}catch(x){}try{e[z]&&(this.vehicleOperationFormGroup.get(z).setValue(e[z]),this.calculateValues())}catch(x){}try{e[z]&&(this.managementFormGroup.get(z).setValue(e[z]),this.calculateValues())}catch(x){}}}disabled(){return this.vehicleOperationFormGroup.invalid||this.managementFormGroup.invalid||this.detailsFormGroup.invalid||!this.type}save(){this.spinner.show(),this.calculateValues(),this.setDays();const e=this.service.update(`${l.a.OPERATION}/${this.id}`,x(this)).subscribe(e=>{this.response=e,this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),this.router.navigate(["/query/type/operation"])});this.subscription.add(e)}loadUpdateData(){this.spinner.show(),this.service.get(`${l.a.OPERATION}/${this.id}`,{}).subscribe(e=>{this.response=e,this.setData(e),this.spinner.hide()})}buildAddress(e,t){const i=Object.assign(Object.assign({},e.value),{location:null});for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const i=t[r];try{i&&("location"==r?i&&e.get("latlng").setValue(`${null==i?void 0:i.lat}, ${null==i?void 0:i.lng}`):e.get(r).setValue(i))}catch(o){}}}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.managementFormGroup)}ngOnInit(){this.startDefault(),this.primengConfig.setTranslation(C.a),this.route.params.subscribe(e=>{this.id=null==e?void 0:e.id,this.loadUpdateData()})}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(w.a),k.Lb(h.f),k.Lb(G.a),k.Lb(D),k.Lb(E.k),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(P.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-edit-operations"]],features:[k.wb],decls:203,vars:38,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["inputId","supplierSearch","field","fantasyName","placeholder","Cliente*","name","fantasyName",3,"disabled","suggestions","size","minLength","onSelect","onKeyUp"],["pTemplate","item"],["id","ctype","inputId","cttype","optionLabel","name","placeholder","Selecionar tipo*",3,"options","ngModel","disabled","ngModelChange","onChange","onShow"],["type","text","pInputTextarea","","placeholder","Descri\xe7\xe3o*",3,"ngModel","ngModelChange"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[3,"formGroup"],["formArrayName","vehicles",4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem"],["class","p-grid p-formgrid",4,"ngIf"],["showButtonBar","true","selectionMode","range","dateFormat","dd/mm/yy","inputId","touchui",3,"showIcon","monthNavigator","yearNavigator","yearRange","ngModel","touchUI","readonlyInput","ngModelChange"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["formControlName","latlng","type","text","pInputText","","placeholder","Latitude/Longitude"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formArrayName","details",4,"ngFor","ngForOf"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"click"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],["formControlName","invoice","type","text","pInputText","","placeholder",""],["formControlName","weightKilograms","pKeyFilter","money","type","text","pInputText","","placeholder","",3,"keyup"],["formControlName","registeredValue","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["formControlName","negotiatedValue","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["readonly","","formControlName","tariff","currencyMask","","type","text","pInputText","","placeholder","Tarifa*",3,"keyup"],["readonly","","type","text","pInputText","","placeholder","",3,"value","keyup"],["readonly","","formControlName","valuePerKilo","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["readonly","","formControlName","gainPerKilo","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],[2,"color","red"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","Salvar",1,"p-button-success","p-mr-2","p-mb-2",3,"disabled","click"],[3,"closable","visible"],[4,"ngIf"],["inputId","cteams","optionLabel","name","placeholder","Selecionar Empresa*",3,"options","ngModel","ngModelChange","onChange"],[1,"ui-helper-clearfix",2,"border-bottom","1px solid #D5D5D5"],[1,"autoComplete"],[2,"text-transform","capitalize"],["formArrayName","vehicles"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["placeholder","pesquisar ve\xedculo","field","vehicleRegistration",3,"suggestions","ngModelOptions","disabled","inputId","onSelect","onFocus"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],[1,"country-item"],["formArrayName","details"],["name","name"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais do Servi\xe7o"),k.Rb(),k.Sb(8,"div"),k.Sb(9,"div",5),k.Ic(10,he,3,2,"div",6),k.Sb(11,"div",7),k.Sb(12,"p-autoComplete",8),k.ac("onSelect",(function(e){return t.onChangeCustomer(e)}))("onKeyUp",(function(){return t.customerSearch()})),k.Ic(13,ve,4,1,"ng-template",9),k.Rb(),k.Nb(14,"br"),k.Rb(),k.Sb(15,"div",7),k.Sb(16,"p-dropdown",10),k.ac("ngModelChange",(function(e){return t.type=e}))("onChange",(function(e){return t.onChangeType(e)}))("onShow",(function(){return t.typeSearch()})),k.Rb(),k.Rb(),k.Sb(17,"div",7),k.Sb(18,"textarea",11),k.ac("ngModelChange",(function(e){return t.description=e})),k.Kc(19,"              "),k.Rb(),k.Rb(),k.Rb(),k.Nb(20,"br"),k.Nb(21,"br"),k.Sb(22,"div",5),k.Sb(23,"div",7),k.Sb(24,"button",12),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(25,"mat-step"),k.Sb(26,"h4"),k.Kc(27,"Adicionar Veiculos"),k.Rb(),k.Sb(28,"form",13),k.Sb(29,"div"),k.Ic(30,Ie,10,9,"div",14),k.Rb(),k.Sb(31,"div",5),k.Sb(32,"div",15),k.Sb(33,"button",16),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(34,"div",15),k.Sb(35,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(36,"div",18),k.Sb(37,"i",19),k.Kc(38," info "),k.Sb(39,"small"),k.Kc(40,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(41,"mat-step"),k.Sb(42,"div",5),k.Sb(43,"div",18),k.Sb(44,"h5"),k.Kc(45,"Selecione a data inical e a data final do servi\xe7o "),k.Rb(),k.Rb(),k.Rb(),k.Ic(46,Ne,5,1,"div",20),k.Nb(47,"br"),k.Nb(48,"br"),k.Sb(49,"div",5),k.Sb(50,"div",18),k.Sb(51,"p-calendar",21),k.ac("ngModelChange",(function(e){return t.startAndEndDate=e})),k.Rb(),k.Rb(),k.Rb(),k.Nb(52,"br"),k.Nb(53,"br"),k.Sb(54,"div",5),k.Sb(55,"div",15),k.Sb(56,"button",22),k.ac("click",(function(){k.zc(e);const t=k.yc(4);return null==t?null:t.next()})),k.Rb(),k.Rb(),k.Sb(57,"div",15),k.Sb(58,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(59,"mat-step"),k.Sb(60,"h4"),k.Kc(61,"Origem"),k.Rb(),k.Sb(62,"form",13),k.Sb(63,"div",5),k.Sb(64,"div",23),k.Sb(65,"input",24),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value,t.originFormGroup)})),k.Rb(),k.Rb(),k.Sb(66,"div",23),k.Nb(67,"input",25),k.Rb(),k.Sb(68,"div",23),k.Nb(69,"input",26),k.Rb(),k.Sb(70,"div",23),k.Nb(71,"input",27),k.Rb(),k.Sb(72,"div",23),k.Nb(73,"input",28),k.Rb(),k.Sb(74,"div",23),k.Nb(75,"input",29),k.Rb(),k.Sb(76,"div",23),k.Nb(77,"input",30),k.Nb(78,"br"),k.Nb(79,"br"),k.Rb(),k.Sb(80,"div",23),k.Nb(81,"input",31),k.Rb(),k.Sb(82,"div",32),k.Sb(83,"a",33),k.ac("click",(function(){return t.buildLinkGoogleMaps(t.originFormGroup)})),k.Sb(84,"small"),k.Kc(85," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(86,"br"),k.Nb(87,"br"),k.Rb(),k.Rb(),k.Sb(88,"div",5),k.Sb(89,"div",15),k.Sb(90,"button",12),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(91,"div",15),k.Sb(92,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(93,"mat-step"),k.Sb(94,"h4"),k.Kc(95,"Destino"),k.Rb(),k.Sb(96,"form",13),k.Sb(97,"div",5),k.Sb(98,"div",23),k.Sb(99,"input",24),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value,t.destinationFormGroup)})),k.Rb(),k.Rb(),k.Sb(100,"div",23),k.Nb(101,"input",25),k.Rb(),k.Sb(102,"div",23),k.Nb(103,"input",26),k.Rb(),k.Sb(104,"div",23),k.Nb(105,"input",27),k.Rb(),k.Sb(106,"div",23),k.Nb(107,"input",28),k.Rb(),k.Sb(108,"div",23),k.Nb(109,"input",29),k.Rb(),k.Sb(110,"div",23),k.Nb(111,"input",30),k.Nb(112,"br"),k.Nb(113,"br"),k.Rb(),k.Sb(114,"div",23),k.Nb(115,"input",31),k.Rb(),k.Sb(116,"div",32),k.Sb(117,"a",33),k.ac("click",(function(){return t.buildLinkGoogleMaps(t.destinationFormGroup)})),k.Sb(118,"small"),k.Kc(119," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(120,"br"),k.Nb(121,"br"),k.Rb(),k.Rb(),k.Sb(122,"div",5),k.Sb(123,"div",15),k.Sb(124,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(125,"div",15),k.Sb(126,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(127,"mat-step"),k.Sb(128,"h4"),k.Kc(129,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(130,"form",13),k.Sb(131,"div"),k.Ic(132,ze,16,3,"div",34),k.Rb(),k.Sb(133,"div",5),k.Sb(134,"div",15),k.Sb(135,"button",35),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(136,"div",15),k.Sb(137,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(138,"div",18),k.Sb(139,"i",36),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(140," info "),k.Sb(141,"small"),k.Kc(142,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(143,"mat-step"),k.Sb(144,"h4"),k.Kc(145,"Dados de gest\xe3o financeira"),k.Rb(),k.Sb(146,"form",13),k.Sb(147,"div",5),k.Sb(148,"div",23),k.Sb(149,"label"),k.Kc(150,"NFs"),k.Rb(),k.Nb(151,"input",37),k.Rb(),k.Sb(152,"div",23),k.Sb(153,"label"),k.Kc(154,"Peso da carga Kg"),k.Rb(),k.Sb(155,"input",38),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(156,"div",23),k.Sb(157,"label"),k.Kc(158,"Valor"),k.Rb(),k.Sb(159,"input",39),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(160,"div",23),k.Sb(161,"label"),k.Kc(162,"Valor negociado"),k.Rb(),k.Sb(163,"input",40),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(164,"div",23),k.Sb(165,"label"),k.Kc(166,"Lucro estimado"),k.Rb(),k.Sb(167,"input",41),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(168,"div",23),k.Sb(169,"label"),k.Kc(170,"Margem negociada"),k.Rb(),k.Sb(171,"input",42),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(172,"div",23),k.Sb(173,"label"),k.Kc(174,"Lucro sobre o valor do servi\xe7o"),k.Rb(),k.Sb(175,"input",42),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(176,"div",23),k.Sb(177,"label"),k.Kc(178,"Valor por Kg"),k.Rb(),k.Sb(179,"input",43),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(180,"div",23),k.Sb(181,"label"),k.Kc(182,"Ganho por Kg"),k.Rb(),k.Sb(183,"input",44),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Rb(),k.Sb(184,"div",5),k.Sb(185,"div",15),k.Sb(186,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(187,"div",5),k.Sb(188,"div",18),k.Sb(189,"small"),k.Kc(190,"Campos obrigat\xf3rios "),k.Sb(191,"span",45),k.Kc(192,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Nb(193,"br"),k.Nb(194,"br"),k.Sb(195,"div",5),k.Sb(196,"div",46),k.Sb(197,"button",47),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(198,Ce,4,0,"div",20),k.Sb(199,"p-dialog",48),k.Ic(200,_e,2,4,"div",49),k.Rb(),k.Sb(201,"p-dialog",48),k.Ic(202,Fe,2,3,"div",49),k.Rb()}2&e&&(k.zb(3),k.lc("linear",!0),k.zb(7),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("disabled",!t.company)("suggestions",t.suppleries)("size",30)("minLength",1),k.zb(4),k.lc("options",t.types)("ngModel",t.type)("disabled",!t.company),k.zb(2),k.lc("ngModel",t.description),k.zb(6),k.lc("disabled",!t.company||!(null!=t.managementFormGroup.value&&t.managementFormGroup.value.customerId)||!t.description),k.zb(4),k.lc("formGroup",t.vehicleOperationFormGroup),k.zb(2),k.lc("ngForOf",t.vehicleOperationFormGroup.get("vehicles").controls),k.zb(3),k.lc("disabled",!t.vehicleOperationFormGroup.valid),k.zb(13),k.lc("ngIf",!(null!=t.startAndEndDate&&t.startAndEndDate.length)&&t.startDateAndEndDate[0]),k.zb(5),k.lc("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearOptions)("ngModel",t.startAndEndDate)("touchUI",!0)("readonlyInput",!0),k.zb(11),k.lc("formGroup",t.originFormGroup),k.zb(28),k.lc("disabled",t.originFormGroup.invalid),k.zb(6),k.lc("formGroup",t.destinationFormGroup),k.zb(34),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(14),k.lc("formGroup",t.moneyFormGroup),k.zb(25),k.lc("value",t.moneyFormGroup.value.negotiatedPercentage+"%"),k.zb(4),k.lc("value",t.moneyFormGroup.value.tariffPercentage+"%"),k.zb(22),k.lc("disabled",t.disabled()),k.zb(1),k.lc("ngIf",t.response),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage))},directives:[M.a,M.b,r.t,L.a,E.l,B.a,h.q,h.t,h.c,V.a,j.b,h.G,h.r,h.i,r.s,U.a,q.a,h.h,$.a,X.a,Y.b,H.a,h.e,h.j,ae,me],styles:[""]}),e})();var we=i("9fGg"),Ge=i("ry98"),Oe=i("ynLW");class De{constructor(e,t,i,o,r,n,a){this.formBuilder=e,this.loginCookieStorage=t,this.msg=i,this.spinner=o,this.service=r,this.router=n,this.cep=a,this.addDetail=f,this.removeDetail=g,this.subscription=new Ge.a,this.mobile=we.a.mobileType(),this.isLinear=!1,this.teams=new Array}loadFormGroup(){this.companyFormGroup=this.formBuilder.group({name:[null],fantasyName:["",[h.E.required]],taxId:["",[Oe.a.validateCNPJ]],stateRegistration:[null],municipalRegistration:[null],teamId:["",[h.E.nullValidator]],teamName:["",[h.E.nullValidator]],teamOwnerId:[""]}),this.addressFormGroup=this.formBuilder.group({address:this.formBuilder.array([this.createFormAddress()])}),this.detailsFormGroup=S(this)}createFormPhone(){return this.formBuilder.group({phone:["",[h.E.required]]})}addPhone(e){this.phones=this.addressFormGroup.get("address").controls[e].get("phones").controls,this.phones.push(this.createFormPhone())}removePhone(e){this.phones.removeAt(e)}createFormAddress(){return this.formBuilder.group({postalCode:["",[h.E.required]],street:["",[h.E.required]],number:["",[h.E.required]],neighborhood:["",[h.E.required]],complement:[""],city:["",[h.E.required]],state:["",[h.E.required]],phones:this.formBuilder.array([this.createFormPhone()]),email:[""],latlng:["",[h.E.required]]})}buildLinkGoogleMaps(e){const t=this.addressFormGroup.get("address").controls[e].value;Object(m.a)(t,this)}addPhoneAddress(){this.phones=this.addressFormGroup.get("address").controls.get("phones").controls,this.phones.push(this.createFormPhone())}addPAddress(){this.address=this.addressFormGroup.get("address"),this.address.push(this.createFormAddress())}removeAddress(e){this.address.removeAt(e)}cancelAlert(){this.alertSh=!1}reset(e){this.loadFormGroup(),e.reset()}onChange(e){var t;this.companyFormGroup.get("teamId").setValue(null==e?void 0:e.value),this.companyFormGroup.get("teamName").setValue(null===(t=this.teams.find(({id:t})=>t==(null==e?void 0:e.value)))||void 0===t?void 0:t.name)}keyUpcep(e,t){9==e.length&&(this.spinner.show(),this.cep.get(e).subscribe(e=>{e.cep||this.msg.toast(Object(s.a)("CEP n\xe3o encontrado!")),this.spinner.hide(),this.addressFormGroup.get("address").controls[t].get("city").setValue(e.city),this.addressFormGroup.get("address").controls[t].get("neighborhood").setValue(e.neighborhood),this.addressFormGroup.get("address").controls[t].get("state").setValue(e.state),this.addressFormGroup.get("address").controls[t].get("street").setValue(e.street)}))}}const Ee=function(e){return Object.assign(Object.assign(Object.assign({},e.companyFormGroup.value),e.detailsFormGroup.value),{companyData:Ae(e),wordsKeys:Object(N.a)(Object.assign({},e.companyFormGroup.value))})};function Ae(e){return e.addressFormGroup.value.address.map(e=>{let t=null;if(e.latlng){const i=e.latlng.replace(" ","").split(",");t={lat:i[0],lng:i[1]}}return{address:{postalCode:e.postalCode,street:e.street,number:e.number,neighborhood:e.neighborhood,complement:e.complement,city:e.city,state:e.state,location:t},contact:{email:e.email,phones:e.phones.map(e=>e.phone)}}})}const Ke=["stepper"];function Pe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",29),k.Sb(1,"p-dropdown",30),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function Te(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removeAddress(t)})),k.Rb()}}function Me(e,t){1&e&&k.Nb(0,"br")}function Le(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec(2).index;return k.ec().removePhone(t)})),k.Rb()}}function Be(e,t){if(1&e&&(k.Sb(0,"div",48),k.Sb(1,"div",49),k.Ic(2,Le,1,0,"i",33),k.Nb(3,"input",50),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec().index,o=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",o.addressFormGroup.get("address").controls[i].get("phones").controls.length>1)}}function Ve(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",31),k.Sb(1,"div",32),k.Ic(2,Te,1,0,"i",33),k.Rb(),k.Sb(3,"div",34),k.Sb(4,"div",8),k.Sb(5,"input",35),k.ac("keyup",(function(i){k.zc(e);const o=t.index;return k.ec().keyUpcep(i.target.value,o)})),k.Rb(),k.Rb(),k.Sb(6,"div",8),k.Nb(7,"input",36),k.Rb(),k.Sb(8,"div",8),k.Nb(9,"input",37),k.Rb(),k.Sb(10,"div",8),k.Nb(11,"input",38),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"input",39),k.Rb(),k.Sb(14,"div",8),k.Nb(15,"input",40),k.Rb(),k.Sb(16,"div",8),k.Nb(17,"input",41),k.Nb(18,"br"),k.Nb(19,"br"),k.Rb(),k.Sb(20,"div",8),k.Nb(21,"input",42),k.Rb(),k.Sb(22,"div",24),k.Sb(23,"a",43),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().buildLinkGoogleMaps(i)})),k.Sb(24,"small"),k.Kc(25," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(26,"br"),k.Nb(27,"br"),k.Rb(),k.Sb(28,"div",24),k.Sb(29,"strong"),k.Kc(30,"Contatos"),k.Rb(),k.Nb(31,"br"),k.Nb(32,"br"),k.Rb(),k.Sb(33,"div",8),k.Ic(34,Me,1,0,"br",28),k.Nb(35,"input",44),k.Rb(),k.Ic(36,Be,4,2,"div",45),k.Rb(),k.Sb(37,"div",14),k.Sb(38,"i",46),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().addPhone(i)})),k.Kc(39,"smartphone "),k.Sb(40,"small"),k.Kc(41,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.index,i=k.ec();k.zb(2),k.lc("ngIf",i.addressFormGroup.get("address").controls.length>1),k.zb(1),k.lc("formGroupName",e),k.zb(31),k.lc("ngIf",i.addressFormGroup.get("address").controls[e].get("phones").controls.length>1),k.zb(2),k.lc("ngForOf",i.addressFormGroup.get("address").controls[e].get("phones").controls)}}function je(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function Ue(e,t){if(1&e&&(k.Sb(0,"div",51),k.Sb(1,"div",32),k.Sb(2,"h6"),k.Ic(3,je,1,0,"i",33),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",52),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",34),k.Sb(9,"div",8),k.Nb(10,"br"),k.Nb(11,"input",53),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"br"),k.Sb(14,"textarea",54),k.Kc(15,"                  "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function qe(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",6),k.Sb(1,"div",55),k.Sb(2,"button",56),k.ac("click",(function(){return k.zc(e),k.ec().save()})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(2),k.lc("disabled",!e.companyFormGroup.valid||!e.addressFormGroup.valid||!e.detailsFormGroup.valid)}}function $e(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",57),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function Xe(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",58),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const Ye=function(){return{"text-transform":"capitalize"}};let He=(()=>{class e extends De{constructor(e,t,i,o,r,n,a,s,l){super(e,t,i,o,r,n,a),this.route=s,this.breadcrumbService=l,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Editar Clientes"}])}setData(e){var t,i,o,r,n,a,s,l,c;const b=Object.assign(Object.assign(Object.assign({},this.companyFormGroup.value),this.detailsFormGroup.value),{details:[],wordsKeys:""});for(const d in b)if(Object.prototype.hasOwnProperty.call(b,d)){try{e[d]&&this.companyFormGroup.get(d).setValue(e[d])}catch(p){}try{if("details"==d){for(let l=0;l<(null===(t=e[d])||void 0===t?void 0:t.length);l++)this.addDetail(this),null===(o=null===(i=this.detailsFormGroup.get("details").controls[l])||void 0===i?void 0:i.get("title"))||void 0===o||o.setValue(null===(r=e[d][l])||void 0===r?void 0:r.title),null===(a=null===(n=this.detailsFormGroup.get("details").controls[l])||void 0===n?void 0:n.get("description"))||void 0===a||a.setValue(null===(s=e[d][l])||void 0===s?void 0:s.description);(null===(l=e[d])||void 0===l?void 0:l.length)||this.removeDetail(this,(null===(c=this.detailsFormGroup.value.details)||void 0===c?void 0:c.length)-1)}}catch(p){}}this.setAddress(e),this.setContact(e)}setContact(e){var t,i,o,r;let n;if(null===(t=null==e?void 0:e.companyData)||void 0===t?void 0:t.length){n=null===(i=null==e?void 0:e.companyData[0])||void 0===i?void 0:i.contact;const t=Object.assign({},n);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))try{if("phones"==e){const t=n[e];for(let e=0;e<(null==t?void 0:t.length);e++)null===(r=null===(o=this.addressFormGroup.get("address").controls[0].get("phones").controls[e])||void 0===o?void 0:o.get("phone"))||void 0===r||r.setValue(t[e])}else{const t=n[e];t&&this.addressFormGroup.get("address").controls[0].get(e).setValue(t)}}catch(a){console.error(a);continue}}}setAddress(e){var t,i,o,r,n,a,s,l,c;let b;if(null===(t=null==e?void 0:e.companyData)||void 0===t?void 0:t.length){b=null===(i=null==e?void 0:e.companyData[0])||void 0===i?void 0:i.address;const t=Object.assign({},b);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&("location"==e&&(null===(r=null===(o=this.addressFormGroup.get("address").controls[0])||void 0===o?void 0:o.get("latlng"))||void 0===r||r.setValue(`${null===(n=b[e])||void 0===n?void 0:n.lat},${null===(a=b[e])||void 0===a?void 0:a.lng}`)),null===(l=null===(s=this.addressFormGroup.get("address").controls[0])||void 0===s?void 0:s.get(e))||void 0===l||l.setValue(b[e]));this.removeDetail(this,(null===(c=this.detailsFormGroup.value.details)||void 0===c?void 0:c.length)-1)}}save(){this.spinner.show();const e=this.service.update(`${l.a.CUSTOMER}/${this.id}`,Ee(this)).subscribe(e=>{this.response=e,this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),this.router.navigate(["/query/type/customer"])});this.subscription.add(e)}loadUpdateData(){this.spinner.show(),this.service.get(`${l.a.CUSTOMER}/${this.id}`,{}).subscribe(e=>{this.setData(e),this.data=e,this.spinner.hide()})}loadRoutParamsAndloadUpdateData(){this.route.params.subscribe(e=>{this.id=null==e?void 0:e.id,this.loadUpdateData()})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.companyFormGroup)}ngOnInit(){this.startDefault(),this.loadRoutParamsAndloadUpdateData()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(w.a),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(D),k.Lb(P.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-edit-customer"]],viewQuery:function(e,t){var i;1&e&&k.Oc(Ke,!0),2&e&&k.xc(i=k.bc())&&(t.stepper=i.first)},features:[k.wb],decls:69,vars:24,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","CNPJ*"],["formControlName","name","type","text","pInputText","","placeholder","Raz\xe3o social",3,"ngStyle"],["formControlName","fantasyName","type","text","pInputText","","placeholder","Nome fantasia*",3,"ngStyle"],["formControlName","stateRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o estadual",3,"ngStyle"],["formControlName","municipalRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o municipal",3,"ngStyle"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],["formArrayName","address",4,"ngFor","ngForOf"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],["formArrayName","details",4,"ngFor","ngForOf"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"closable","visible"],[4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["formControlName","teamId","optionValue","id","id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa",3,"options","onChange"],["formArrayName","address"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2",2,"padding","0 !important"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["required","","formControlName","latlng","type","text","pInputText","","placeholder","Latitude/Longitude*"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formControlName","email","type","text","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],["formArrayName","details"],["name","name"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","Salvar",1,"p-mr-2","p-mb-2","p-button-success",3,"disabled","click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais"),k.Rb(),k.Sb(8,"form",5),k.Sb(9,"div",6),k.Ic(10,Pe,3,1,"div",7),k.Sb(11,"div",8),k.Nb(12,"input",9),k.Rb(),k.Sb(13,"div",8),k.Nb(14,"input",10),k.Rb(),k.Sb(15,"div",8),k.Nb(16,"input",11),k.Rb(),k.Sb(17,"div",8),k.Nb(18,"input",12),k.Rb(),k.Sb(19,"div",8),k.Nb(20,"input",13),k.Rb(),k.Rb(),k.Sb(21,"div",6),k.Sb(22,"div",14),k.Sb(23,"button",15),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step"),k.Sb(25,"h4"),k.Kc(26,"Endere\xe7o"),k.Rb(),k.Sb(27,"form",5),k.Sb(28,"div"),k.Ic(29,Ve,42,4,"div",16),k.Rb(),k.Sb(30,"div",6),k.Sb(31,"div",14),k.Sb(32,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(33,"div",14),k.Sb(34,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(35,"div",19),k.Sb(36,"i",20),k.ac("click",(function(){return t.addPAddress()})),k.Kc(37," info "),k.Sb(38,"small"),k.Kc(39,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"mat-step"),k.Sb(41,"h4"),k.Kc(42,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(43,"form",5),k.Sb(44,"div"),k.Ic(45,Ue,16,3,"div",21),k.Rb(),k.Sb(46,"div",6),k.Sb(47,"div",14),k.Sb(48,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(49,"div",19),k.Sb(50,"i",20),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(51," info "),k.Sb(52,"small"),k.Kc(53,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(54,"div",6),k.Sb(55,"div",19),k.Sb(56,"small"),k.Kc(57,"Campos obrigat\xf3rios "),k.Sb(58,"span",22),k.Kc(59,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(60,qe,3,1,"div",23),k.Rb(),k.Rb(),k.Sb(61,"div",6),k.Sb(62,"div",24),k.Sb(63,"button",25),k.ac("click",(function(){return t.showAlert=!0})),k.Rb(),k.Sb(64,"button",26),k.ac("click",(function(){return t.showImage=!0})),k.Rb(),k.Rb(),k.Rb(),k.Sb(65,"p-dialog",27),k.Ic(66,$e,2,4,"div",28),k.Rb(),k.Sb(67,"p-dialog",27),k.Ic(68,Xe,2,3,"div",28),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(5),k.lc("formGroup",t.companyFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(4),k.lc("ngStyle",k.oc(20,Ye)),k.zb(2),k.lc("ngStyle",k.oc(21,Ye)),k.zb(2),k.lc("ngStyle",k.oc(22,Ye)),k.zb(2),k.lc("ngStyle",k.oc(23,Ye)),k.zb(3),k.lc("disabled",!t.companyFormGroup.valid),k.zb(4),k.lc("formGroup",t.addressFormGroup),k.zb(2),k.lc("ngForOf",t.addressFormGroup.get("address").controls),k.zb(5),k.lc("disabled",!t.addressFormGroup.valid),k.zb(9),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(15),k.lc("ngIf",e.selectedIndex<=2),k.zb(5),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,q.a,h.c,h.q,h.h,$.a,r.w,j.b,r.s,H.a,B.a,h.e,h.j,X.a,h.B,V.a,ae,me],styles:[""]}),e})();const Je=function(e){var t,i;let o=Object.assign(Object.assign({},e.personalDataFormGroup.value),{rg:e.docFormGroup.value,contact:{email:e.contactFormGroup.value.email,phones:e.contactFormGroup.value.phones.map(e=>e.phone)},address:[e.addressFormGroup.value],professionalData:[{taxId:e.professionalDataFormGroup.value.taxId,profession:e.profession,note:e.professionalDataFormGroup.value.note,date:(new Date).toISOString()}],wordsKeys:e.personalDataFormGroup.value.wordskeys});return(null===(t=null==o?void 0:o.gender)||void 0===t?void 0:t.code)&&(o.gender=null===(i=null==o?void 0:o.gender)||void 0===i?void 0:i.code),o.birthday=c.a.parseDate(o.birthday),o.rg.rgDateEmitter=c.a.parseDate(o.rg.rgDateEmitter),o.wordsKeys=Object(N.a)(Object.assign(Object.assign(Object.assign({},e.personalDataFormGroup.value),o.contact),o.professionalData[0])),o},We=[{label:"Solteiro (a)",value:"SOLTEIRO"},{label:"Casado (a)",value:"CASADO"},{label:"Outros",value:"OUTRO"}],Ze=[{code:"MASCULINO",name:"Masculino"},{code:"FEMININO",name:"Feminino"}];let Qe=(()=>{class e{static set(t){sessionStorage.setItem(e.DVREG,JSON.stringify(t))}static get(){return JSON.parse(sessionStorage.getItem(e.DVREG))}static remove(){sessionStorage.removeItem(e.DVREG)}static setType(t){sessionStorage.setItem(e.TYPE_EMPLOYEE,JSON.stringify(t))}static getType(){return JSON.parse(sessionStorage.getItem(e.TYPE_EMPLOYEE))}static removeType(){sessionStorage.removeItem(e.TYPE_EMPLOYEE)}}return e.DVREG="DVREG",e.TYPE_EMPLOYEE="TPL",e})();class et{constructor(e,t,i,o,r,n,a,s){this.formBuilder=e,this.msg=t,this.spinner=i,this.service=o,this.loginCookieStorage=r,this.router=n,this.myStorage=a,this.cep=s,this.addDetail=f,this.removeDetail=g,this.genders=Ze,this.subscription=new Ge.a,this.maritalStatus=We,this.allowLogin=!1,this.mobile=we.a.mobileType(),this.profession="",this.pageTypeEmployee=new J.a,this.pagePerfil=new J.a,this.functions=[],this.teams=new Array,this.perfis=[],this.isLinear=!1,this.userOwner=F.a.isOwner()}loadFormGroup(){this.personalDataFormGroup=this.formBuilder.group({name:["",[h.E.required]],gender:["",[h.E.required]],maritalStatus:["",[h.E.required]],birthday:["",[h.E.required,c.a.validateDateString]],taxId:["",[h.E.required,Oe.a.validateCPF]],teamId:["",[h.E.nullValidator]],teamName:["",[h.E.nullValidator]],teamOwnerId:[""]}),this.contactFormGroup=this.formBuilder.group({phones:this.formBuilder.array([this.createFormPhone()]),email:["",h.E.email]}),this.addressFormGroup=this.formBuilder.group({postalCode:["",[h.E.required]],street:["",[h.E.required]],number:["",[h.E.required]],neighborhood:["",[h.E.required]],complement:[""],city:["",[h.E.required]],state:["",[h.E.required]]}),this.professionalDataFormGroup=this.formBuilder.group({taxId:[""],note:[""]}),this.docFormGroup=this.formBuilder.group({rg:[""],rgEmitter:[""],rgDateEmitter:[""],motherName:[""]}),this.detailsFormGroup=S(this)}cancelAlert(){this.alertSh=!1,this.alertFormGroup.reset()}ifTypeEmployeeDrivre(){return this.profession.toLowerCase().indexOf("motorista")>-1}createFormPhone(){return this.formBuilder.group({phone:["",[h.E.required]]})}addPhone(){this.phones=this.contactFormGroup.get("phones"),this.phones.push(this.createFormPhone())}removePhone(e){this.phones.removeAt(e)}reset(e){this.loadFormGroup(),e.reset()}keyUpcep(e){9===e.length&&(this.spinner.show(),this.cep.get(e).subscribe(e=>{e.cep||this.msg.toast(Object(s.a)("CEP n\xe3o encontrado!")),this.spinner.hide(),this.addressFormGroup.get("city").setValue(e.city),this.addressFormGroup.get("neighborhood").setValue(e.neighborhood),this.addressFormGroup.get("state").setValue(e.state),this.addressFormGroup.get("street").setValue(e.street)}))}driverRegister(){this.spinner.show(),this.service.post(""+l.a.EMPLOYEE,Je(this)).subscribe(e=>{this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),Qe.set(e.id),Qe.setType(this.profession),this.router.navigate(["register/employee/driver"])})}loadTypeEmployee(e){var t;this.spinner.show(),this.service.get(""+l.a.TYPE_EMPLOYEE,{sort:"name",size:"999"},null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId).subscribe(t=>{null==e||e.next(),this.functions=t.elements,this.spinner.hide()})}onChange(e){var t;this.personalDataFormGroup.get("teamId").setValue(null==e?void 0:e.value),this.personalDataFormGroup.get("teamName").setValue(null===(t=this.teams.find(({id:t})=>t==(null==e?void 0:e.value)))||void 0===t?void 0:t.name)}}class tt extends et{constructor(e,t,i,o,r,n,a,s,l){super(e,t,i,o,r,n,a,s),this.route=l}ifTypeEmployeeDrivre(){return this.profession.toLowerCase().indexOf("motorista")>-1}loadUpdateData(){this.spinner.show(),this.service.get(`${l.a.EMPLOYEE}/${this.id}`,{}).subscribe(e=>{this.setData(e),this.response=e,this.data=e,this.spinner.hide()})}disabled(){if(this.personalDataFormGroup.invalid)return!0}setData(e){var t,i,o,r,n,a,s;const l=Object.assign(Object.assign({},this.personalDataFormGroup.value),{details:[],wordsKeys:""});for(const p in l)if(Object.prototype.hasOwnProperty.call(l,p)){const l=e[p];try{switch(p){case"details":for(let e=0;e<(null==l?void 0:l.length);e++)this.addDetail(this),null===(i=null===(t=this.detailsFormGroup.get("details").controls[e])||void 0===t?void 0:t.get("title"))||void 0===i||i.setValue(null===(o=l[e])||void 0===o?void 0:o.title),null===(n=null===(r=this.detailsFormGroup.get("details").controls[e])||void 0===r?void 0:r.get("description"))||void 0===n||n.setValue(null===(a=l[e])||void 0===a?void 0:a.description);(null==l?void 0:l.length)&&this.removeDetail(this,(null===(s=this.detailsFormGroup.value.details)||void 0===s?void 0:s.length)-1);continue;default:l&&("birthday"==p?this.personalDataFormGroup.get(p).setValue(c.a.parseDateBrFormat(l)):this.personalDataFormGroup.get(p).setValue(l))}}catch(b){console.error(b);continue}}this.setDataDoc(null==e?void 0:e.rg),this.setDataAddress(e),this.setDataContact(null==e?void 0:e.contact),this.setDataProfessional(e)}setDataDoc(e){const t=Object.assign({},this.docFormGroup.value);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o))try{const t=e[o];t&&this.docFormGroup.get(o).setValue(t)}catch(i){console.error(i);continue}}setDataAddress(e){const t=Object.assign({},this.addressFormGroup.value);let i;if(null==e?void 0:e.address){i=null==e?void 0:e.address[0];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))try{const t=i[e];t&&this.addressFormGroup.get(e).setValue(t)}catch(o){console.error(o);continue}}}setDataProfessional(e){const t=Object.assign(Object.assign({},this.professionalDataFormGroup.value),{profession:""});let i;if(null==e?void 0:e.professionalData){i=null==e?void 0:e.professionalData[0];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))try{const t=i[e];t&&("profession"==e?this.profession=t:this.professionalDataFormGroup.get(e).setValue(t))}catch(o){console.error(o);continue}}}setDataContact(e){var t,i;const o=Object.assign({},this.contactFormGroup.value);for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n))try{const o=e[n];if("phones"==n)for(let e=0;e<(null==o?void 0:o.length);e++)null===(i=null===(t=this.contactFormGroup.get("phones").controls[e])||void 0===t?void 0:t.get("phone"))||void 0===i||i.setValue(o[e]);else o&&this.contactFormGroup.get(n).setValue(o)}catch(r){console.error(r);continue}}loadRoutParamsAndloadUpdateData(){this.route.params.subscribe(e=>{this.id=null==e?void 0:e.id,this.loadUpdateData()})}}var it=i("DT98");const ot=["stepper"];function rt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",56),k.Sb(1,"p-dropdown",57),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function nt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",62),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removePhone(t)})),k.Rb()}}function at(e,t){if(1&e&&(k.Sb(0,"div",58),k.Sb(1,"div",59),k.Ic(2,nt,1,0,"i",60),k.Nb(3,"br"),k.Nb(4,"input",61),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",i.contactFormGroup.get("phones").controls.length>1)}}function st(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",62),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function lt(e,t){if(1&e&&(k.Sb(0,"div",63),k.Sb(1,"div",64),k.Sb(2,"h6"),k.Ic(3,st,1,0,"i",60),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",65),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",66),k.Sb(9,"div",9),k.Nb(10,"br"),k.Nb(11,"input",67),k.Rb(),k.Sb(12,"div",9),k.Nb(13,"br"),k.Sb(14,"textarea",68),k.Kc(15,"                    "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function ct(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",69),k.Sb(1,"button",72),k.ac("click",(function(){return k.zc(e),k.ec(2).goToDriverRegister()})),k.Rb(),k.Rb()}if(2&e){const e=k.ec(2);k.zb(1),k.lc("disabled",e.disabled())}}function bt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",7),k.Sb(1,"div",69),k.Sb(2,"button",70),k.ac("click",(function(){return k.zc(e),k.ec().save()})),k.Rb(),k.Rb(),k.Ic(3,ct,2,1,"div",71),k.Rb()}if(2&e){const e=k.ec();k.zb(2),k.lc("disabled",e.disabled()),k.zb(1),k.lc("ngIf",e.personalDataFormGroup.valid&&e.ifTypeEmployeeDrivre()&&!(null!=e.data&&e.data.driver))}}function pt(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",73),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function dt(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",74),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const ut=function(){return{"text-transform":"capitalize"}},mt=function(){return{"text-align":"center"}},ht=function(){return{standalone:!0}};let vt=(()=>{class e extends tt{constructor(e,t,i,o,r,n,a,s,l,c){super(e,t,i,o,r,n,a,s,l),this.breadcrumbService=c,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Duplicar Colaborador"}])}save(){this.spinner.show(),this.professionalDataFormGroup.value.profession=this.profession;const e=this.service.post(""+l.a.EMPLOYEE,Je(this)).subscribe(e=>{this.response=e,this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.personalDataFormGroup)});this.subscription.add(e)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.personalDataFormGroup)}ngOnInit(){this.startDefault(),this.loadRoutParamsAndloadUpdateData(),this.loadTypeEmployee()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(w.a),k.Lb(P.c),k.Lb(w.a),k.Lb(D),k.Lb(P.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-doubles-employee"]],viewQuery:function(e,t){var i;1&e&&k.Oc(ot,!0),2&e&&k.xc(i=k.bc())&&(t.stepper=i.first)},features:[k.wb],decls:124,vars:38,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],["label","Dados Pessoais"],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["formControlName","name","type","text","pInputText","","placeholder","Nome*",3,"readonly","ngStyle"],["formControlName","maritalStatus","placeholder","Estado civ\xedl*",3,"options","readonly"],["formControlName","birthday","mask","00/00/0000","type","text","pInputText","","placeholder","Data de nascimento*",3,"dropSpecialCharacters","readonly","hiddenInput"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4",2,"position","relative"],["optionValue","code","formControlName","gender","optionLabel","name",3,"options"],[2,"position","absolute","top","-10","right","15px","color","#758bb8"],["type","text","formControlName","taxId","mask","000.000.000-00","pInputText","","placeholder","CPF*",3,"readonly"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Pr\xf3ximo",1,"p-mr-2","p-mb-2",3,"disabled","click"],["label","RG"],["type","text","pKeyFilter","int","formControlName","rg","pInputText","","placeholder","RG"],["type","text","formControlName","rgEmitter","pInputText","","placeholder","Emissor/UF",2,"text-transform","uppercase"],["type","text","formControlName","rgDateEmitter","mask","00/00/0000","pInputText","","placeholder","Data de emiss\xe3o"],["type","text","name","name","formControlName","motherName","pInputText","","placeholder","Nome da m\xe3e"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["label","Endere\xe7o"],[3,"formGroup","ngStyle"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["pButton","","label","Pr\xf3ximo","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["label","Contato"],["type","email","formControlName","email","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["pButton","","label","Pr\xf3ximo","type","submit",1,"p-mr-2","p-mb-2",3,"disabled","click"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],["label","Dados profissionais"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","N\xfamero de cadastro MEI (CPNJ)"],[1,"p-col-12","p-mb-2","p-lg4","p-mb-lg-0"],["optionValue","name","id","office","inputId","office","optionLabel","name","placeholder","Selecionar Fun\xe7\xe3o",3,"options","ngModel","ngModelOptions","ngModelChange"],["type","text","formControlName","note","pInputTextarea","","placeholder","Observa\xe7\xf5es"],["label","Detalhes e Informa\xe7\xf5es"],["formArrayName","details",4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"closable","visible"],[4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","id","teams","inputId","teams","optionLabel","name","formControlName","teamId","placeholder","Selecionar Empresa*",3,"options","onChange"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","details"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["name","name"],[1,"p-grid","p-formgrid",3,"formGroupName"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","Salvar",1,"p-button-success","p-mr-2","p-mb-2",3,"disabled","click"],["class","p-col-12 p-mb-4 p-lg-2 p-mb-lg-4",4,"ngIf"],["pButton","","label","Continuar Cadastro do motorista",1,"p-button-secondary","p-mr-2","p-mb-2",3,"disabled","click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step",5),k.Sb(6,"form",6),k.Sb(7,"div",7),k.Ic(8,rt,3,1,"div",8),k.Sb(9,"div",9),k.Nb(10,"input",10),k.Rb(),k.Sb(11,"div",9),k.Nb(12,"p-dropdown",11),k.Rb(),k.Sb(13,"div",9),k.Nb(14,"input",12),k.Rb(),k.Sb(15,"div",13),k.Nb(16,"p-selectButton",14),k.Sb(17,"span",15),k.Kc(18,"*"),k.Rb(),k.Rb(),k.Sb(19,"div",9),k.Nb(20,"input",16),k.Rb(),k.Rb(),k.Sb(21,"div",7),k.Sb(22,"div",17),k.Sb(23,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step",19),k.Sb(25,"form",6),k.Sb(26,"div",7),k.Sb(27,"div",9),k.Nb(28,"input",20),k.Rb(),k.Sb(29,"div",9),k.Nb(30,"input",21),k.Rb(),k.Sb(31,"div",9),k.Nb(32,"input",22),k.Rb(),k.Sb(33,"div",9),k.Nb(34,"input",23),k.Rb(),k.Rb(),k.Sb(35,"div",7),k.Sb(36,"div",17),k.Sb(37,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(38,"div",17),k.Sb(39,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"mat-step",25),k.Sb(41,"form",26),k.Sb(42,"div",7),k.Sb(43,"div",9),k.Sb(44,"input",27),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value)})),k.Rb(),k.Rb(),k.Sb(45,"div",9),k.Nb(46,"input",28),k.Rb(),k.Sb(47,"div",9),k.Nb(48,"input",29),k.Rb(),k.Sb(49,"div",9),k.Nb(50,"input",30),k.Rb(),k.Sb(51,"div",9),k.Nb(52,"input",31),k.Rb(),k.Sb(53,"div",9),k.Nb(54,"input",32),k.Rb(),k.Sb(55,"div",9),k.Nb(56,"input",33),k.Rb(),k.Rb(),k.Sb(57,"div",7),k.Sb(58,"div",17),k.Sb(59,"button",34),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(60,"div",17),k.Sb(61,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(62,"mat-step",35),k.Sb(63,"form",6),k.Sb(64,"div",7),k.Sb(65,"div",9),k.Nb(66,"br"),k.Nb(67,"input",36),k.Rb(),k.Ic(68,at,5,2,"div",37),k.Rb(),k.Sb(69,"div",7),k.Sb(70,"div",17),k.Sb(71,"button",38),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.loadTypeEmployee(i)})),k.Rb(),k.Rb(),k.Sb(72,"div",17),k.Sb(73,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(74,"div",17),k.Sb(75,"i",39),k.ac("click",(function(){return t.addPhone()})),k.Kc(76,"smartphone "),k.Sb(77,"small"),k.Kc(78,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(79,"mat-step",40),k.Sb(80,"form",6),k.Sb(81,"div",7),k.Sb(82,"div",9),k.Nb(83,"input",41),k.Rb(),k.Sb(84,"div",42),k.Sb(85,"p-dropdown",43),k.ac("ngModelChange",(function(e){return t.profession=e})),k.Rb(),k.Nb(86,"br"),k.Rb(),k.Sb(87,"div",9),k.Sb(88,"textarea",44),k.Kc(89," "),k.Rb(),k.Rb(),k.Rb(),k.Sb(90,"div",7),k.Sb(91,"div",17),k.Sb(92,"button",38),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(93,"div",17),k.Sb(94,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(95,"mat-step",45),k.Sb(96,"form",6),k.Sb(97,"div"),k.Ic(98,lt,16,3,"div",46),k.Rb(),k.Sb(99,"div",7),k.Sb(100,"div",17),k.Sb(101,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(102,"div",47),k.Sb(103,"i",48),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(104," info "),k.Sb(105,"small"),k.Kc(106,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(107,"div",7),k.Sb(108,"div",47),k.Sb(109,"small"),k.Kc(110,"Campos obrigat\xf3rios "),k.Sb(111,"span",49),k.Kc(112,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Nb(113,"br"),k.Nb(114,"br"),k.Ic(115,bt,4,2,"div",50),k.Rb(),k.Rb(),k.Rb(),k.Sb(116,"div",7),k.Sb(117,"div",51),k.Sb(118,"button",52),k.ac("click",(function(){return t.showAlert=!0})),k.Rb(),k.Sb(119,"button",53),k.ac("click",(function(){return t.showImage=!0})),k.Rb(),k.Rb(),k.Rb(),k.Sb(120,"p-dialog",54),k.Ic(121,pt,2,4,"div",55),k.Rb(),k.Sb(122,"p-dialog",54),k.Ic(123,dt,2,3,"div",55),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(3),k.lc("formGroup",t.personalDataFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("readonly",!t.personalDataFormGroup.value.teamId)("ngStyle",k.oc(35,ut)),k.zb(2),k.lc("options",t.maritalStatus)("readonly",!t.personalDataFormGroup.value.teamId),k.zb(2),k.lc("dropSpecialCharacters",!1)("readonly",!t.personalDataFormGroup.value.teamId)("hiddenInput",!0),k.zb(2),k.lc("options",t.genders),k.zb(4),k.lc("readonly",!t.personalDataFormGroup.value.teamId),k.zb(3),k.lc("disabled",!t.personalDataFormGroup.valid),k.zb(2),k.lc("formGroup",t.docFormGroup),k.zb(12),k.lc("disabled",!t.docFormGroup.valid),k.zb(4),k.lc("formGroup",t.addressFormGroup)("ngStyle",k.oc(36,mt)),k.zb(18),k.lc("disabled",!t.addressFormGroup.valid),k.zb(4),k.lc("formGroup",t.contactFormGroup),k.zb(5),k.lc("ngForOf",t.contactFormGroup.get("phones").controls),k.zb(3),k.lc("disabled",!t.contactFormGroup.valid),k.zb(9),k.lc("formGroup",t.professionalDataFormGroup),k.zb(5),k.lc("options",t.functions)("ngModel",t.profession)("ngModelOptions",k.oc(37,ht)),k.zb(7),k.lc("disabled",!t.profession||!t.professionalDataFormGroup.valid),k.zb(4),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(17),k.lc("ngIf",e.selectedIndex<=5),k.zb(5),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,h.c,h.q,h.h,$.a,r.w,B.a,q.a,it.a,j.b,X.a,r.s,h.t,V.a,H.a,h.e,h.j,ae,me],styles:[""]}),e})(),ft=(()=>{class e{constructor(e,t,i,o,r){this.formBuilder=e,this.msg=t,this.spinner=i,this.service=o,this.breadcrumbService=r,this.breadcrumbService.setItems([{label:"Registrar tipo de Servi\xe7o"}])}loadFormGroup(){var e,t,i,o;this.registerFormGroup=this.formBuilder.group({name:["",[h.E.required]],description:["",[h.E.required]],teamId:[null===(e=this.service.myStorage.get())||void 0===e?void 0:e.teamId],teamOwnerId:[null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId],teamName:[null===(o=null===(i=this.service.myStorage.get())||void 0===i?void 0:i.companiesView.find(({id:e})=>{var t;return e===(null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamId)}))||void 0===o?void 0:o.name],wordsKeys:[""]})}save(){this.registerFormGroup.value.wordsKeys=Object(N.a)(this.registerFormGroup.value),this.spinner.show(),this.service.post(l.a.TYPE_OPERATION,this.registerFormGroup.value).subscribe(()=>{W.builder().reset(this.registerFormGroup),this.spinner.hide(),this.msg.toast(Object(s.c)(a.d))})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.registerFormGroup)}ngOnInit(){this.startDefault()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-type-operations"]],decls:16,vars:2,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],["name","name","formControlName","name","type","text","pInputText","","placeholder","Nome*"],["formControlName","description","type","text","pInputText","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Cadastrar",1,"p-mr-2","p-mb-2",3,"disabled","click"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"form",3),k.Sb(4,"div",4),k.Sb(5,"div",5),k.Sb(6,"h6",6),k.Kc(7,"Registrar Tipo de Servi\xe7os"),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",4),k.Sb(9,"div",5),k.Nb(10,"input",7),k.Rb(),k.Sb(11,"div",5),k.Nb(12,"input",8),k.Rb(),k.Rb(),k.Sb(13,"div",4),k.Sb(14,"div",9),k.Sb(15,"button",10),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(3),k.lc("formGroup",t.registerFormGroup),k.zb(12),k.lc("disabled",!t.registerFormGroup.valid))},directives:[h.G,h.r,h.i,h.c,h.q,h.h,$.a,j.b],styles:[""]}),e})();function gt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",7),k.Sb(1,"p-dropdown",54),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().company=t}))("onChange",(function(t){return k.zc(e),k.ec().onChangeteams(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)("ngModel",e.company)}}function St(e,t){if(1&e&&(k.Sb(0,"div",55),k.Sb(1,"div",56),k.Sb(2,"span",57),k.Kc(3),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",null==e?null:e.fantasyName," ")}}function Rt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",63),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeVehicles(i,t)})),k.Rb()}}function yt(e,t){if(1&e&&(k.Sb(0,"h6"),k.Kc(1," Ultimo Km registrado: "),k.Sb(2,"span"),k.Kc(3),k.Rb(),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.Mc(" ",e.value.currentKm," ")}}function It(e,t){if(1&e&&(k.Sb(0,"h6"),k.Kc(1),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(1),k.Mc(" Motorista assossiado ao ve\xedculo: ",e.value.driverName," ")}}function Nt(e,t){if(1&e&&(k.Sb(0,"div",64),k.Sb(1,"div"),k.Sb(2,"strong"),k.Kc(3,"Nome: "),k.Rb(),k.Kc(4),k.Nb(5,"br"),k.Sb(6,"strong"),k.Kc(7,"Placa: "),k.Rb(),k.Kc(8),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.name," "),k.zb(4),k.Mc(" ",e.vehicleRegistration," ")}}const xt=function(){return{standalone:!0}};function zt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",58),k.Sb(1,"div",59),k.Sb(2,"h6"),k.Ic(3,Rt,1,0,"i",60),k.Rb(),k.Ic(4,yt,4,1,"h6",53),k.Ic(5,It,2,1,"h6",53),k.Rb(),k.Sb(6,"div",61),k.Sb(7,"div",22),k.Sb(8,"p-autoComplete",62),k.ac("onSelect",(function(i){k.zc(e);const o=t.index,r=k.ec();return r.onSelectVehicle(i,r.vehicleOperationFormGroup.get("vehicles"),o)}))("onFocus",(function(){k.zc(e);const i=t.index;return k.ec().vehicleSearch("search_vehicle"+i)})),k.Ic(9,Nt,9,2,"ng-template",9),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.vehicleOperationFormGroup.get("vehicles").controls.length>1),k.zb(1),k.lc("ngIf",e.value.currentKm),k.zb(1),k.lc("ngIf",e.value.driverName),k.zb(1),k.lc("formGroupName",i),k.zb(2),k.lc("suggestions",o.vehicles)("ngModelOptions",k.oc(8,xt))("disabled",!o.company)("inputId","search_vehicle"+i)}}function Ct(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",63),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function _t(e,t){if(1&e&&(k.Sb(0,"div",65),k.Sb(1,"div",59),k.Sb(2,"h6"),k.Ic(3,Ct,1,0,"i",60),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",66),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",61),k.Sb(9,"div",22),k.Nb(10,"br"),k.Nb(11,"input",67),k.Rb(),k.Sb(12,"div",22),k.Nb(13,"br"),k.Sb(14,"textarea",68),k.Kc(15,"                    "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function Ft(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",5),k.Sb(1,"div",31),k.Sb(2,"button",69),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",70),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function kt(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",71),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function wt(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",72),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const Gt=function(){return{"text-align":"center"}};let Ot=(()=>{class e extends I{constructor(e,t,i,o,r,n,a,s,l){super(e,t,i,o,r,n,a,s,l),this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Registrar Servi\xe7o"}])}reset(e){e.reset()}save(e){this.calculateValues(),this.spinner.show();const t=this.service.post(""+l.a.OPERATION,x(this)).subscribe(t=>{e.next(),this.spinner.hide(),this.response=t,this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.managementFormGroup)});this.subscription.add(t)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.managementFormGroup)}ngOnInit(){this.startDefault(),this.primengConfig.setTranslation(C.a)}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(w.a),k.Lb(h.f),k.Lb(G.a),k.Lb(D),k.Lb(E.k),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-operations"]],features:[k.wb],decls:216,vars:40,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["inputId","supplierSearch","field","fantasyName","placeholder","Cliente*","name","fantasyName",3,"disabled","suggestions","size","minLength","onSelect","onKeyUp"],["pTemplate","item"],["id","ctype","inputId","type","optionLabel","name","placeholder","Selecionar tipo*",3,"options","ngModel","disabled","ngModelChange","onChange","onShow"],["type","text","pInputTextarea","","placeholder","Descri\xe7\xe3o*",3,"ngModel","ngModelChange"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[3,"formGroup"],["formArrayName","vehicles",4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["showButtonBar","true","selectionMode","range","dateFormat","dd/mm/yy","inputId","touchui",3,"showIcon","monthNavigator","yearNavigator","yearRange","ngModel","touchUI","readonlyInput","ngModelChange"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"click"],["pButton","","label","Pular",1,"p-button-success","p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["formControlName","latlng","type","text","pInputText","","placeholder","Latitude/Longitude"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formArrayName","details",4,"ngFor","ngForOf"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"click"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],["formControlName","invoice","type","text","pInputText","","placeholder",""],["formControlName","weightKilograms","pKeyFilter","money","type","text","pInputText","","placeholder","",3,"keyup"],["formControlName","registeredValue","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["formControlName","negotiatedValue","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["readonly","","formControlName","tariff","currencyMask","","type","text","pInputText","","placeholder","Tarifa*",3,"keyup"],["readonly","","type","text","pInputText","","placeholder","",3,"value","keyup"],["readonly","","formControlName","valuePerKilo","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["readonly","","formControlName","gainPerKilo","currencyMask","","type","text","pInputText","","placeholder","",3,"keyup"],["pButton","","label","Registrar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[2,"text-transform","capitalize","font-weight","400"],[1,"pi","pi-check",2,"color","rgb(0, 180, 0)","font-size","1.5rem"],[3,"ngStyle"],["pButton","","label","Voltar ao in\xedcio","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],["label","Servi\xe7os",1,"p-mr-2","p-mb-2",3,"click"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[3,"closable","visible"],[4,"ngIf"],["id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa*",3,"options","ngModel","ngModelChange","onChange"],[1,"ui-helper-clearfix",2,"border-bottom","1px solid #D5D5D5"],[1,"autoComplete"],[2,"text-transform","capitalize"],["formArrayName","vehicles"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["placeholder","pesquisar ve\xedculo","field","vehicleRegistration",3,"suggestions","ngModelOptions","disabled","inputId","onSelect","onFocus"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],[1,"country-item"],["formArrayName","details"],["name","name"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais do Servi\xe7o"),k.Rb(),k.Sb(8,"div"),k.Sb(9,"div",5),k.Ic(10,gt,3,2,"div",6),k.Sb(11,"div",7),k.Sb(12,"p-autoComplete",8),k.ac("onSelect",(function(e){return t.onChangeCustomer(e)}))("onKeyUp",(function(){return t.customerSearch()})),k.Ic(13,St,4,1,"ng-template",9),k.Rb(),k.Nb(14,"br"),k.Rb(),k.Sb(15,"div",7),k.Sb(16,"p-dropdown",10),k.ac("ngModelChange",(function(e){return t.type=e}))("onChange",(function(e){return t.onChangeType(e)}))("onShow",(function(){return t.typeSearch()})),k.Rb(),k.Rb(),k.Sb(17,"div",7),k.Sb(18,"textarea",11),k.ac("ngModelChange",(function(e){return t.description=e})),k.Kc(19,"              "),k.Rb(),k.Rb(),k.Rb(),k.Nb(20,"br"),k.Nb(21,"br"),k.Sb(22,"div",5),k.Sb(23,"div",7),k.Sb(24,"button",12),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(25,"mat-step"),k.Sb(26,"h4"),k.Kc(27,"Adicionar Veiculos"),k.Rb(),k.Sb(28,"form",13),k.Sb(29,"div"),k.Ic(30,zt,10,9,"div",14),k.Rb(),k.Sb(31,"div",5),k.Sb(32,"div",15),k.Sb(33,"button",16),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(34,"div",15),k.Sb(35,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(36,"mat-step"),k.Sb(37,"div",5),k.Sb(38,"div",18),k.Sb(39,"h5"),k.Kc(40,"Selecione a data inical e a data final do servi\xe7o "),k.Rb(),k.Rb(),k.Rb(),k.Sb(41,"div",5),k.Sb(42,"div",18),k.Sb(43,"p-calendar",19),k.ac("ngModelChange",(function(e){return t.startAndEndDate=e})),k.Rb(),k.Rb(),k.Rb(),k.Nb(44,"br"),k.Nb(45,"br"),k.Sb(46,"div",5),k.Sb(47,"div",15),k.Sb(48,"button",20),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.setDays(i)})),k.Rb(),k.Rb(),k.Sb(49,"div",15),k.Sb(50,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(51,"div",7),k.Sb(52,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(53,"mat-step"),k.Sb(54,"h4"),k.Kc(55,"Origem"),k.Rb(),k.Sb(56,"form",13),k.Sb(57,"div",5),k.Sb(58,"div",22),k.Sb(59,"input",23),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value,t.originFormGroup)})),k.Rb(),k.Rb(),k.Sb(60,"div",22),k.Nb(61,"input",24),k.Rb(),k.Sb(62,"div",22),k.Nb(63,"input",25),k.Rb(),k.Sb(64,"div",22),k.Nb(65,"input",26),k.Rb(),k.Sb(66,"div",22),k.Nb(67,"input",27),k.Rb(),k.Sb(68,"div",22),k.Nb(69,"input",28),k.Rb(),k.Sb(70,"div",22),k.Nb(71,"input",29),k.Nb(72,"br"),k.Nb(73,"br"),k.Rb(),k.Sb(74,"div",22),k.Nb(75,"input",30),k.Rb(),k.Sb(76,"div",31),k.Sb(77,"a",32),k.ac("click",(function(){return t.buildLinkGoogleMaps(t.originFormGroup)})),k.Sb(78,"small"),k.Kc(79," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(80,"br"),k.Nb(81,"br"),k.Rb(),k.Rb(),k.Sb(82,"div",5),k.Sb(83,"div",15),k.Sb(84,"button",12),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(85,"div",15),k.Sb(86,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(87,"div",7),k.Sb(88,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(89,"mat-step"),k.Sb(90,"h4"),k.Kc(91,"Destino"),k.Rb(),k.Sb(92,"form",13),k.Sb(93,"div",5),k.Sb(94,"div",22),k.Sb(95,"input",23),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value,t.destinationFormGroup)})),k.Rb(),k.Rb(),k.Sb(96,"div",22),k.Nb(97,"input",24),k.Rb(),k.Sb(98,"div",22),k.Nb(99,"input",25),k.Rb(),k.Sb(100,"div",22),k.Nb(101,"input",26),k.Rb(),k.Sb(102,"div",22),k.Nb(103,"input",27),k.Rb(),k.Sb(104,"div",22),k.Nb(105,"input",28),k.Rb(),k.Sb(106,"div",22),k.Nb(107,"input",29),k.Nb(108,"br"),k.Nb(109,"br"),k.Rb(),k.Sb(110,"div",22),k.Nb(111,"input",30),k.Rb(),k.Sb(112,"div",31),k.Sb(113,"a",32),k.ac("click",(function(){return t.buildLinkGoogleMaps(t.destinationFormGroup)})),k.Sb(114,"small"),k.Kc(115," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(116,"br"),k.Nb(117,"br"),k.Rb(),k.Rb(),k.Sb(118,"div",5),k.Sb(119,"div",15),k.Sb(120,"button",12),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(121,"div",15),k.Sb(122,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(123,"div",7),k.Sb(124,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(125,"mat-step"),k.Sb(126,"h4"),k.Kc(127,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(128,"form",13),k.Sb(129,"div"),k.Ic(130,_t,16,3,"div",33),k.Rb(),k.Sb(131,"div",5),k.Sb(132,"div",15),k.Sb(133,"button",34),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(134,"div",15),k.Sb(135,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(136,"div",18),k.Sb(137,"i",35),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(138," info "),k.Sb(139,"small"),k.Kc(140,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(141,"mat-step"),k.Sb(142,"h4"),k.Kc(143,"Dados de gest\xe3o financeira"),k.Rb(),k.Sb(144,"form",13),k.Sb(145,"div",5),k.Sb(146,"div",22),k.Sb(147,"label"),k.Kc(148,"NFs"),k.Rb(),k.Nb(149,"input",36),k.Rb(),k.Sb(150,"div",22),k.Sb(151,"label"),k.Kc(152,"Peso da carga Kg"),k.Rb(),k.Sb(153,"input",37),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(154,"div",22),k.Sb(155,"label"),k.Kc(156,"Valor"),k.Rb(),k.Sb(157,"input",38),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(158,"div",22),k.Sb(159,"label"),k.Kc(160,"Valor negociado"),k.Rb(),k.Sb(161,"input",39),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(162,"div",22),k.Sb(163,"label"),k.Kc(164,"Lucro estimado"),k.Rb(),k.Sb(165,"input",40),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(166,"div",22),k.Sb(167,"label"),k.Kc(168,"Margem negociada"),k.Rb(),k.Sb(169,"input",41),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(170,"div",22),k.Sb(171,"label"),k.Kc(172,"Lucro sobre o valor do servi\xe7o"),k.Rb(),k.Sb(173,"input",41),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(174,"div",22),k.Sb(175,"label"),k.Kc(176,"Valor por Kg"),k.Rb(),k.Sb(177,"input",42),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Sb(178,"div",22),k.Sb(179,"label"),k.Kc(180,"Ganho por Kg"),k.Rb(),k.Sb(181,"input",43),k.ac("keyup",(function(){return t.calculateValues()})),k.Rb(),k.Rb(),k.Rb(),k.Sb(182,"div",5),k.Sb(183,"div",15),k.Sb(184,"button",44),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.save(i)})),k.Rb(),k.Rb(),k.Sb(185,"div",15),k.Sb(186,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(187,"mat-step"),k.Sb(188,"h4"),k.Nb(189,"span",45),k.Kc(190," Cadastrado com sucesso! "),k.Nb(191,"i",46),k.Rb(),k.Nb(192,"br"),k.Sb(193,"form",47),k.Sb(194,"div",5),k.Sb(195,"div",22),k.Sb(196,"h6"),k.Kc(197,"Cadastrar nova Jornada"),k.Rb(),k.Sb(198,"div",2),k.Sb(199,"button",48),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.reset(i)})),k.Rb(),k.Rb(),k.Rb(),k.Sb(200,"div",22),k.Sb(201,"h6"),k.Kc(202,"Visualizar servi\xe7os"),k.Rb(),k.Sb(203,"div",2),k.Sb(204,"p-button",49),k.ac("click",(function(){return t.router.navigate(["/query/type/operation"])})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(205,"div",5),k.Sb(206,"div",18),k.Sb(207,"small"),k.Kc(208,"Campos obrigat\xf3rios "),k.Sb(209,"span",50),k.Kc(210,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(211,Ft,4,0,"div",51),k.Sb(212,"p-dialog",52),k.Ic(213,kt,2,4,"div",53),k.Rb(),k.Sb(214,"p-dialog",52),k.Ic(215,wt,2,3,"div",53),k.Rb()}2&e&&(k.zb(3),k.lc("linear",!0),k.zb(7),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("disabled",!t.company)("suggestions",t.suppleries)("size",30)("minLength",1),k.zb(4),k.lc("options",t.types)("ngModel",t.type)("disabled",!t.company),k.zb(2),k.lc("ngModel",t.description),k.zb(6),k.lc("disabled",!(null!=t.managementFormGroup.value&&t.managementFormGroup.value.customerId&&t.type&&t.company&&t.description)),k.zb(4),k.lc("formGroup",t.vehicleOperationFormGroup),k.zb(2),k.lc("ngForOf",t.vehicleOperationFormGroup.get("vehicles").controls),k.zb(3),k.lc("disabled",!t.vehicleOperationFormGroup.valid),k.zb(10),k.lc("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearOptions)("ngModel",t.startAndEndDate)("touchUI",!0)("readonlyInput",!0),k.zb(13),k.lc("formGroup",t.originFormGroup),k.zb(28),k.lc("disabled",t.originFormGroup.invalid),k.zb(8),k.lc("formGroup",t.destinationFormGroup),k.zb(28),k.lc("disabled",t.destinationFormGroup.invalid),k.zb(8),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(14),k.lc("formGroup",t.moneyFormGroup),k.zb(25),k.lc("value",t.moneyFormGroup.value.negotiatedPercentage+"%"),k.zb(4),k.lc("value",t.moneyFormGroup.value.tariffPercentage+"%"),k.zb(11),k.lc("disabled",!t.moneyFormGroup.value.tariff),k.zb(9),k.lc("ngStyle",k.oc(39,Gt)),k.zb(18),k.lc("ngIf",t.response),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage))},directives:[M.a,M.b,r.t,L.a,E.l,B.a,h.q,h.t,h.c,V.a,j.b,h.G,h.r,h.i,r.s,U.a,q.a,h.h,$.a,X.a,Y.b,h.s,r.w,j.a,H.a,h.e,h.j,ae,me],styles:[".mat-horizontal-stepper-header{pointer-events:none!important}"]}),e})();const Dt=["stepper"];function Et(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",37),k.Sb(1,"p-dropdown",38),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function At(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",56),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removeAddress(t)})),k.Rb()}}function Kt(e,t){1&e&&k.Nb(0,"br")}function Pt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",56),k.ac("click",(function(){k.zc(e);const t=k.ec(2).index;return k.ec().removePhone(t)})),k.Rb()}}function Tt(e,t){if(1&e&&(k.Sb(0,"div",57),k.Sb(1,"div",58),k.Ic(2,Pt,1,0,"i",41),k.Nb(3,"input",59),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec().index,o=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",o.addressFormGroup.get("address").controls[i].get("phones").controls.length>1)}}function Mt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",39),k.Sb(1,"div",40),k.Ic(2,At,1,0,"i",41),k.Rb(),k.Sb(3,"div",42),k.Sb(4,"div",8),k.Sb(5,"input",43),k.ac("keyup",(function(i){k.zc(e);const o=t.index;return k.ec().keyUpcep(i.target.value,o)})),k.Rb(),k.Rb(),k.Sb(6,"div",8),k.Nb(7,"input",44),k.Rb(),k.Sb(8,"div",8),k.Nb(9,"input",45),k.Rb(),k.Sb(10,"div",8),k.Nb(11,"input",46),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"input",47),k.Rb(),k.Sb(14,"div",8),k.Nb(15,"input",48),k.Rb(),k.Sb(16,"div",8),k.Nb(17,"input",49),k.Nb(18,"br"),k.Nb(19,"br"),k.Rb(),k.Sb(20,"div",8),k.Nb(21,"input",50),k.Rb(),k.Sb(22,"div",51),k.Sb(23,"a",52),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().buildLinkGoogleMaps(i)})),k.Sb(24,"small"),k.Kc(25," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(26,"br"),k.Nb(27,"br"),k.Rb(),k.Sb(28,"div",51),k.Sb(29,"strong"),k.Kc(30,"Contatos"),k.Rb(),k.Nb(31,"br"),k.Nb(32,"br"),k.Rb(),k.Sb(33,"div",8),k.Ic(34,Kt,1,0,"br",36),k.Nb(35,"input",53),k.Rb(),k.Ic(36,Tt,4,2,"div",54),k.Rb(),k.Sb(37,"div",14),k.Sb(38,"i",55),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().addPhone(i)})),k.Kc(39,"smartphone "),k.Sb(40,"small"),k.Kc(41,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.index,i=k.ec();k.zb(2),k.lc("ngIf",i.addressFormGroup.get("address").controls.length>1),k.zb(1),k.lc("formGroupName",e),k.zb(31),k.lc("ngIf",i.addressFormGroup.get("address").controls[e].get("phones").controls.length>1),k.zb(2),k.lc("ngForOf",i.addressFormGroup.get("address").controls[e].get("phones").controls)}}function Lt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",56),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function Bt(e,t){if(1&e&&(k.Sb(0,"div",60),k.Sb(1,"div",40),k.Sb(2,"h6"),k.Ic(3,Lt,1,0,"i",41),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",24),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",42),k.Sb(9,"div",8),k.Nb(10,"br"),k.Nb(11,"input",61),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"br"),k.Sb(14,"textarea",62),k.Kc(15,"                  "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function Vt(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",6),k.Sb(1,"div",51),k.Sb(2,"button",63),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",64),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function jt(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",65),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function Ut(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",66),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const qt=function(){return{"text-transform":"capitalize"}},$t=function(){return{"text-align":"center"}};let Xt=(()=>{class e extends De{constructor(e,t,i,o,r,n,a,s){super(e,t,i,o,r,n,a),this.breadcrumbService=s,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Registrar Fornecedor"}])}save(e){this.spinner.show();const t=this.service.post(""+l.a.SUPPLIERS,Ee(this)).subscribe(t=>{this.response=t,e.next(),this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.companyFormGroup)});this.subscription.add(t)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.companyFormGroup)}ngOnInit(){this.startDefault()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(w.a),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(D),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-register-supplier"]],viewQuery:function(e,t){var i;1&e&&k.Oc(Dt,!0),2&e&&k.xc(i=k.bc())&&(t.stepper=i.first)},features:[k.wb],decls:100,vars:29,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","CNPJ*"],["formControlName","name","type","text","pInputText","","placeholder","Raz\xe3o social",3,"ngStyle"],["formControlName","fantasyName","type","text","pInputText","","placeholder","Nome fantasia*",3,"ngStyle"],["formControlName","stateRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o estadual",3,"ngStyle"],["formControlName","municipalRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o municipal",3,"ngStyle"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],["formArrayName","address",4,"ngFor","ngForOf"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["formArrayName","details",4,"ngFor","ngForOf"],["pButton","","label","Pular","type","button",1,"p-button-success","p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],[1,"p-col-12","p-mb-12","p-lg-6","p-mb-lg-12"],["name","name"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["label","Registrar",1,"p-mr-2","p-mb-2",3,"click"],["pButton","","label","voltar","type","button",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],[2,"text-transform","capitalize","font-weight","400"],[1,"pi","pi-check",2,"color","rgb(0, 180, 0)","font-size","1.5rem"],[3,"ngStyle"],["pButton","","label","Voltar ao in\xedcio","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],["label","Fornecedores",1,"p-mr-2","p-mb-2",3,"click"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[3,"closable","visible"],[4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa",3,"options","onChange"],["formArrayName","address"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2",2,"padding","0 !important"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["required","","formControlName","latlng","type","text","pInputText","","placeholder","Latitude/Longitude*"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formControlName","email","type","text","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],["formArrayName","details"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais"),k.Rb(),k.Sb(8,"form",5),k.Sb(9,"div",6),k.Ic(10,Et,3,1,"div",7),k.Sb(11,"div",8),k.Nb(12,"input",9),k.Rb(),k.Sb(13,"div",8),k.Nb(14,"input",10),k.Rb(),k.Sb(15,"div",8),k.Nb(16,"input",11),k.Rb(),k.Sb(17,"div",8),k.Nb(18,"input",12),k.Rb(),k.Sb(19,"div",8),k.Nb(20,"input",13),k.Rb(),k.Rb(),k.Sb(21,"div",6),k.Sb(22,"div",14),k.Sb(23,"button",15),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step"),k.Sb(25,"h4"),k.Kc(26,"Endere\xe7o"),k.Rb(),k.Sb(27,"form",5),k.Sb(28,"div"),k.Ic(29,Mt,42,4,"div",16),k.Rb(),k.Sb(30,"div",6),k.Sb(31,"div",14),k.Sb(32,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(33,"div",14),k.Sb(34,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(35,"mat-step"),k.Sb(36,"h4"),k.Kc(37,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(38,"form",5),k.Sb(39,"div"),k.Ic(40,Bt,16,3,"div",19),k.Rb(),k.Sb(41,"div",6),k.Sb(42,"div",14),k.Sb(43,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(44,"div",14),k.Sb(45,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(46,"div",14),k.Sb(47,"button",20),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(48,"div",21),k.Sb(49,"i",22),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(50," info "),k.Sb(51,"small"),k.Kc(52,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(53,"mat-step"),k.Sb(54,"h4"),k.Kc(55,"Registrar"),k.Rb(),k.Nb(56,"br"),k.Sb(57,"form"),k.Sb(58,"div",6),k.Sb(59,"div",23),k.Sb(60,"h6"),k.Kc(61,"Continuar cadastro do fornecedor "),k.Sb(62,"span",24),k.Kc(63),k.Rb(),k.Kc(64,". "),k.Rb(),k.Rb(),k.Rb(),k.Sb(65,"div",6),k.Sb(66,"div",25),k.Sb(67,"p-button",26),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.save(i)})),k.Rb(),k.Rb(),k.Sb(68,"div",25),k.Sb(69,"button",27),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(70,"mat-step"),k.Sb(71,"h4"),k.Sb(72,"span",28),k.Kc(73),k.Rb(),k.Kc(74," Cadastrado com sucesso! "),k.Nb(75,"i",29),k.Rb(),k.Nb(76,"br"),k.Sb(77,"form",30),k.Sb(78,"div",6),k.Sb(79,"div",8),k.Sb(80,"h6"),k.Kc(81,"Cadastrar novo fornecedor"),k.Rb(),k.Sb(82,"div",2),k.Sb(83,"button",31),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.reset(i)})),k.Rb(),k.Rb(),k.Rb(),k.Sb(84,"div",8),k.Sb(85,"h6"),k.Kc(86,"Visualizar Fornecedores"),k.Rb(),k.Sb(87,"div",2),k.Sb(88,"p-button",32),k.ac("click",(function(){return t.router.navigate(["/query/type/supplier"])})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(89,"div",6),k.Sb(90,"div",21),k.Sb(91,"small"),k.Kc(92,"Campos obrigat\xf3rios "),k.Sb(93,"span",33),k.Kc(94,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(95,Vt,4,0,"div",34),k.Sb(96,"p-dialog",35),k.Ic(97,jt,2,4,"div",36),k.Rb(),k.Sb(98,"p-dialog",35),k.Ic(99,Ut,2,3,"div",36),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(5),k.lc("formGroup",t.companyFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(4),k.lc("ngStyle",k.oc(24,qt)),k.zb(2),k.lc("ngStyle",k.oc(25,qt)),k.zb(2),k.lc("ngStyle",k.oc(26,qt)),k.zb(2),k.lc("ngStyle",k.oc(27,qt)),k.zb(3),k.lc("disabled",!t.companyFormGroup.valid),k.zb(4),k.lc("formGroup",t.addressFormGroup),k.zb(2),k.lc("ngForOf",t.addressFormGroup.get("address").controls),k.zb(5),k.lc("disabled",!t.addressFormGroup.valid),k.zb(4),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(3),k.lc("disabled",!t.detailsFormGroup.valid),k.zb(20),k.Mc(" ",t.companyFormGroup.value.fantasyName," "),k.zb(10),k.Mc(" ",t.companyFormGroup.value.fantasyName," "),k.zb(4),k.lc("ngStyle",k.oc(28,$t)),k.zb(18),k.lc("ngIf",(null==e?null:e.selectedIndex)>3),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,q.a,h.c,h.q,h.h,$.a,r.w,j.b,r.s,h.s,j.a,H.a,B.a,h.e,h.j,X.a,h.B,V.a,ae,me],styles:[".mat-horizontal-stepper-header{pointer-events:none!important}"]}),e})();var Yt=i("Xhjk");let Ht=(()=>{class e{constructor(e,t,i,o,r){this.formBuilder=e,this.msg=t,this.spinner=i,this.service=o,this.breadcrumbService=r,this.breadcrumbService.setItems([{label:"Registrar tipo de Despesa"}])}loadFormGroup(){var e,t,i,o;this.typeMaintenanceFormGroup=this.formBuilder.group({name:["",[h.E.required]],description:[""],liquid:[!1],weight:[!1],length:[!1],width:[!1],depth:[!1],key:["",[h.E.required]],teamId:[null===(e=this.service.myStorage.get())||void 0===e?void 0:e.teamId],teamOwnerId:[null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId],teamName:[null===(o=null===(i=this.service.myStorage.get())||void 0===i?void 0:i.companiesView.find(({id:e})=>{var t;return e==(null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamId)}))||void 0===o?void 0:o.name],wordsKeys:[""]})}save(){const e=this.typeMaintenanceFormGroup.value;this.spinner.show(),this.typeMaintenanceFormGroup.get("wordsKeys").setValue(Object(N.a)({e:null==e?void 0:e.name,d:null==e?void 0:e.description})),this.service.post(l.a.TYPE_EXPENSE,this.typeMaintenanceFormGroup.value).subscribe(()=>{this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.typeMaintenanceFormGroup)})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.typeMaintenanceFormGroup)}ngOnInit(){this.startDefault()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-type-expense"]],decls:54,vars:4,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[3,"formGroup"],[1,"card"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],["name","name","formControlName","name","type","text","pInputText","","placeholder","Nome*"],["formControlName","description","type","text","pInputText","","placeholder","Descri\xe7\xe3o*"],["type","radio","id","y","formControlName","key",3,"value"],["for","y"],["type","radio","id","n","formControlName","key",3,"value"],["for","n"],["formControlName","liquid"],["formControlName","weight"],["formControlName","length"],["formControlName","width"],["formControlName","depth"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Register",1,"p-mr-2","p-mb-2",3,"disabled","click"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"form",2),k.Sb(3,"div",3),k.Sb(4,"div",4),k.Sb(5,"div",5),k.Sb(6,"h6",6),k.Kc(7,"Registrar tipo de Despesa"),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",4),k.Sb(9,"div",5),k.Nb(10,"input",7),k.Rb(),k.Sb(11,"div",5),k.Nb(12,"input",8),k.Rb(),k.Rb(),k.Sb(13,"div",4),k.Sb(14,"div",5),k.Sb(15,"h6"),k.Kc(16,"Despesa direcionada a:"),k.Rb(),k.Nb(17,"input",9),k.Sb(18,"label",10),k.Kc(19,"Ve\xedculo"),k.Rb(),k.Nb(20,"br"),k.Nb(21,"input",11),k.Sb(22,"label",12),k.Kc(23,"Motorista"),k.Rb(),k.Nb(24,"br"),k.Rb(),k.Rb(),k.Rb(),k.Sb(25,"div",3),k.Sb(26,"div",4),k.Sb(27,"div",5),k.Sb(28,"h6",6),k.Kc(29,"Incluir Campos Adicionais"),k.Rb(),k.Rb(),k.Rb(),k.Sb(30,"div",4),k.Sb(31,"div",5),k.Sb(32,"h6"),k.Kc(33,"Litros"),k.Rb(),k.Nb(34,"p-inputSwitch",13),k.Rb(),k.Sb(35,"div",5),k.Sb(36,"h6"),k.Kc(37,"Peso"),k.Rb(),k.Nb(38,"p-inputSwitch",14),k.Rb(),k.Sb(39,"div",5),k.Sb(40,"h6"),k.Kc(41,"Comprimeto"),k.Rb(),k.Nb(42,"p-inputSwitch",15),k.Rb(),k.Sb(43,"div",5),k.Sb(44,"h6"),k.Kc(45,"Largura"),k.Rb(),k.Nb(46,"p-inputSwitch",16),k.Rb(),k.Sb(47,"div",5),k.Sb(48,"h6"),k.Kc(49,"Profundidade"),k.Rb(),k.Nb(50,"p-inputSwitch",17),k.Rb(),k.Rb(),k.Sb(51,"div",4),k.Sb(52,"div",18),k.Sb(53,"button",19),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(2),k.lc("formGroup",t.typeMaintenanceFormGroup),k.zb(15),k.lc("value","Vehicle"),k.zb(4),k.lc("value","Employee"),k.zb(32),k.lc("disabled",!t.typeMaintenanceFormGroup.valid))},directives:[h.G,h.r,h.i,h.c,h.q,h.h,$.a,h.y,Yt.a,j.b],styles:[""]}),e})();const Jt=function(e){var t,i,o,r,n;return e.formBuilder.group({title:["",h.E.required],liquid:["",(null===(t=e.typeExpense)||void 0===t?void 0:t.liquid)?h.E.required:null],weight:["",(null===(i=e.typeExpense)||void 0===i?void 0:i.weight)?h.E.required:null],length:["",(null===(o=e.typeExpense)||void 0===o?void 0:o.length)?h.E.required:null],width:["",(null===(r=e.typeExpense)||void 0===r?void 0:r.width)?h.E.required:null],depth:["",(null===(n=e.typeExpense)||void 0===n?void 0:n.depth)?h.E.required:null],description:[""],value:["",h.E.required]})},Wt=function(e){e.values=e.amountFormGroup.get("values"),e.values.push(Jt(e))},Zt=function(e,t){e.values.removeAt(t)};var Qt=i("zDNl");function ei(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",7),k.Sb(1,"p-dropdown",41),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChangeteams(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function ti(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"div",5),k.Sb(2,"div",17),k.Sb(3,"h5"),k.Kc(4,"Deseja vincular despesa a um fornecedor?"),k.Rb(),k.Rb(),k.Rb(),k.Sb(5,"div",5),k.Sb(6,"div",10),k.Sb(7,"button",42),k.ac("click",(function(){return k.zc(e),k.ec().supplierSh=!0})),k.Rb(),k.Rb(),k.Sb(8,"div",43),k.Sb(9,"button",44),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(10,"div",10),k.Sb(11,"button",21),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb()}}function ii(e,t){if(1&e&&(k.Sb(0,"div",48),k.Sb(1,"div",49),k.Sb(2,"span",50),k.Kc(3),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",null==e?null:e.fantasyName," ")}}function oi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"div",5),k.Sb(2,"div",7),k.Sb(3,"p-autoComplete",45),k.ac("onSelect",(function(t){return k.zc(e),k.ec().onChangeSuplier(t)}))("onKeyUp",(function(t){return k.zc(e),k.ec().suplierSearch(t)})),k.Ic(4,ii,4,1,"ng-template",26),k.Rb(),k.Nb(5,"br"),k.Rb(),k.Rb(),k.Sb(6,"div",5),k.Sb(7,"div",10),k.Sb(8,"button",46),k.ac("click",(function(){k.zc(e),k.ec();const t=k.yc(4);return null==t?null:t.next()})),k.Rb(),k.Rb(),k.Sb(9,"div",10),k.Sb(10,"button",47),k.ac("click",(function(){return k.zc(e),k.ec().supplierSh=!1})),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(3),k.lc("placeholder","Fornecedor")("suggestions",e.suppleries)("size",30)("minLength",1)}}function ri(e,t){if(1&e&&(k.Sb(0,"li"),k.Sb(1,"strong"),k.Sb(2,"span"),k.Kc(3),k.fc(4,"date"),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",k.hc(4,1,e,"dd/MM/yyyy"),"")}}function ni(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"br"),k.Sb(2,"strong"),k.Kc(3,"Km: "),k.Rb(),k.Sb(4,"span"),k.Kc(5),k.Rb(),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(5),k.Mc(" ",e.km,"")}}function ai(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",51),k.Sb(1,"i",52),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().removeElement(i)})),k.Rb(),k.Sb(2,"div",53),k.Sb(3,"strong"),k.Kc(4),k.Rb(),k.Sb(5,"span"),k.Kc(6),k.Rb(),k.Ic(7,ni,6,1,"div",12),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit,i=k.ec();k.zb(4),k.Mc("\u25cf ",i.placeholder,": "),k.zb(2),k.Mc(" ",e.elementDescription,""),k.zb(1),k.lc("ngIf","Vehicle"==(null==i.typeExpense?null:i.typeExpense.key))}}function si(e,t){if(1&e&&(k.Sb(0,"div"),k.Sb(1,"strong"),k.Sb(2,"span"),k.Kc(3),k.fc(4,"date"),k.Rb(),k.Rb(),k.Nb(5,"br"),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",k.hc(4,1,e,"dd/MM/yyyy"),"")}}function li(e,t){if(1&e&&(k.Sb(0,"div",48),k.Sb(1,"div",49),k.Sb(2,"span",50),k.Kc(3),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",null!=e&&e.vehicleRegistration?null==e?null:e.vehicleRegistration:e.name," ")}}function ci(e,t){if(1&e){const e=k.Ub();k.Sb(0,"button",20),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).next()})),k.Rb()}if(2&e){const e=k.ec();k.lc("disabled",!(e.elementsPayloadList.length&&!e.element.elementId))}}function bi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"button",20),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).next()})),k.Rb()}if(2&e){const e=k.ec();k.lc("disabled",!e.elementsPayloadList.length)}}function pi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",63),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeAmount(i,t)})),k.Rb()}}function di(e,t){1&e&&(k.Sb(0,"span"),k.Kc(1,"Valor:"),k.Rb())}function ui(e,t){1&e&&(k.Sb(0,"small"),k.Kc(1,"\xa0 L"),k.Rb())}function mi(e,t){if(1&e&&(k.Sb(0,"div",17),k.Nb(1,"br"),k.Nb(2,"input",64),k.Ic(3,ui,2,0,"small",12),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.lc("ngIf",e.value.liquid)}}function hi(e,t){1&e&&(k.Sb(0,"small"),k.Kc(1,"\xa0 Kg"),k.Rb())}function vi(e,t){if(1&e&&(k.Sb(0,"div",17),k.Nb(1,"br"),k.Nb(2,"input",65),k.Ic(3,hi,2,0,"small",12),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.lc("ngIf",null==e.value?null:e.value.weight)}}function fi(e,t){1&e&&(k.Sb(0,"small"),k.Kc(1,"\xa0 Comprimeto M"),k.Rb())}function gi(e,t){if(1&e&&(k.Sb(0,"div",17),k.Nb(1,"br"),k.Nb(2,"input",66),k.Ic(3,fi,2,0,"small",12),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.lc("ngIf",null==e.value?null:e.value.length)}}function Si(e,t){1&e&&(k.Sb(0,"small"),k.Kc(1,"\xa0 Largura M"),k.Rb())}function Ri(e,t){if(1&e&&(k.Sb(0,"div",17),k.Nb(1,"br"),k.Nb(2,"input",67),k.Ic(3,Si,2,0,"small",12),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.lc("ngIf",null==e.value?null:e.value.width)}}function yi(e,t){1&e&&(k.Sb(0,"small"),k.Kc(1,"\xa0 Profundidade M"),k.Rb())}function Ii(e,t){if(1&e&&(k.Sb(0,"div",17),k.Nb(1,"br"),k.Nb(2,"input",68),k.Ic(3,yi,2,0,"small",12),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(3),k.lc("ngIf",null==e.value?null:e.value.depth)}}const Ni=function(){return{style:"currency",currency:"BRL"}},xi=function(){return{prefix:"R$ ",thousands:".",decimal:","}};function zi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",54),k.Sb(1,"div",5),k.Sb(2,"div",55),k.Sb(3,"h6"),k.Ic(4,pi,1,0,"i",56),k.Ic(5,di,2,0,"span",12),k.Sb(6,"span",57),k.Sb(7,"small"),k.Kc(8),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(9,"div",58),k.Sb(10,"div",5),k.Sb(11,"div",17),k.Nb(12,"br"),k.Nb(13,"input",59),k.Rb(),k.Ic(14,mi,4,1,"div",60),k.Ic(15,vi,4,1,"div",60),k.Ic(16,gi,4,1,"div",60),k.Ic(17,Ri,4,1,"div",60),k.Ic(18,Ii,4,1,"div",60),k.Sb(19,"div",17),k.Nb(20,"br"),k.Sb(21,"input",61),k.ac("keyup",(function(){return k.zc(e),k.ec().calculate()})),k.Rb(),k.Rb(),k.Rb(),k.Sb(22,"div",5),k.Sb(23,"div",17),k.Nb(24,"br"),k.Nb(25,"textarea",62),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(4),k.lc("ngIf",o.amountFormGroup.get("values").controls.length>1),k.zb(1),k.lc("ngIf",e.value.value),k.zb(3),k.Mc(" ",null==e.value.value?null:e.value.value.toLocaleString("pt-BR",k.oc(10,Ni))," "),k.zb(1),k.lc("formGroupName",i),k.zb(5),k.lc("ngIf",null==o.typeExpense?null:o.typeExpense.liquid),k.zb(1),k.lc("ngIf",null==o.typeExpense?null:o.typeExpense.weight),k.zb(1),k.lc("ngIf",null==o.typeExpense?null:o.typeExpense.length),k.zb(1),k.lc("ngIf",null==o.typeExpense?null:o.typeExpense.width),k.zb(1),k.lc("ngIf",null==o.typeExpense?null:o.typeExpense.depth),k.zb(3),k.lc("options",k.oc(11,xi))}}function Ci(e,t){if(1&e&&(k.Sb(0,"div"),k.Sb(1,"strong"),k.Sb(2,"span"),k.Kc(3),k.fc(4,"date"),k.Rb(),k.Rb(),k.Nb(5,"br"),k.Rb()),2&e){const e=t.$implicit;k.zb(3),k.Mc(" ",k.hc(4,1,e,"dd/MM/yyyy"),"")}}function _i(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"br"),k.Sb(2,"strong"),k.Kc(3,"Km: "),k.Rb(),k.Sb(4,"span"),k.Kc(5),k.Rb(),k.Rb()),2&e){const e=k.ec().$implicit;k.zb(5),k.Mc(" ",e.km,"")}}function Fi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",51),k.Sb(1,"i",52),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().removeElement(i)})),k.Rb(),k.Sb(2,"div",53),k.Sb(3,"strong"),k.Kc(4),k.Rb(),k.Sb(5,"span"),k.Kc(6),k.Rb(),k.Ic(7,_i,6,1,"div",12),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit,i=k.ec();k.zb(4),k.Mc("\u25cf ",i.placeholder,": "),k.zb(2),k.Mc(" ",e.elementDescription,""),k.zb(1),k.lc("ngIf","Vehicle"==(null==i.typeExpense?null:i.typeExpense.key))}}function ki(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",5),k.Sb(1,"div",69),k.Sb(2,"button",70),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",71),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function wi(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",72),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function Gi(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",73),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const Oi=function(){return{"text-align":"center"}};let Di=(()=>{class e{constructor(e,t,i,o,r,n,a,s,l){var c;this.formBuilder=e,this.msg=t,this.primengConfig=i,this.spinner=o,this.service=r,this.loginCookieStorage=n,this.router=a,this.cep=s,this.breadcrumbService=l,this.addDetails=f,this.removeDetails=g,this.addAmount=Wt,this.removeAmount=Zt,this.subscription=new Ge.a,this.typeExpense="",this.teams=new Array,this.expenseTypes=new Array,this.elements=new Array,this.suppleries=new Array,this.fiedleName="name",this.placeholder="",this.yearOptions=`${(new Date).getFullYear()}:${(new Date).getFullYear()+10}`,this.operationals=new Array,this.elementsPayloadList=new Array,this.payloadList=new Array,this.element={elementId:"",km:null,date:"",elementDescription:""},this.userOwner=F.a.isOwner(),this.status=[{status:R.a.WAITING,name:"Status Aguardando"},{status:R.a.CONFIRMED,name:"Status Confirmado"},{status:R.a.REFUSED,name:"Status Recusado"}],this.mobile=we.a.mobileType(),this.breadcrumbService.setItems([{label:"Registrar Despesas"}]),this.companyId=null===(c=this.service.myStorage.get())||void 0===c?void 0:c.companyId}loadFormGroup(){this.amountFormGroup=this.formBuilder.group({status:[R.a.WAITING],typeId:["",[h.E.required]],typeName:["",[h.E.required]],active:[!0],operationalId:[""],operationName:[""],elementId:["",[h.E.required]],elementDescription:[""],supplierId:[""],km:[0],supplierName:[""],date:["",[h.E.required]],companyId:["",[h.E.required]],headId:["",[h.E.required]],companyName:[""],amount:[0],values:this.formBuilder.array([Jt(this)]),wordsKeys:[""]}),this.detailsFormGroup=S(this)}calculate(){const e=this.amountFormGroup.value.values.reduce((function(e,t){return e+t.value}),0);this.amountFormGroup.get("amount").setValue(e)}onChangeStatus(e){var t;this.amountFormGroup.get("status").setValue(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.status)}onChangeteams(e){var t,i;this.amountFormGroup.get("companyId").setValue(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.id),this.amountFormGroup.get("companyName").setValue(null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.name),this.companyId=null==e?void 0:e.value.id}onChangeType(e){var t,i;this.typeExpense=e.value,this.amountFormGroup.get("typeId").setValue(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.id),this.amountFormGroup.get("typeName").setValue(null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.name),this.getUrlApi()}onChangeElementId(e){var t;switch(this.amountFormGroup.get("elementId").setValue(null==e?void 0:e.id),(null==e?void 0:e.operationalId)&&this.amountFormGroup.get("operationalId").setValue(null==e?void 0:e.operationalId),null===(t=this.typeExpense)||void 0===t?void 0:t.key){case"Vehicle":return this.amountFormGroup.get("km").setValue(null==e?void 0:e.currentKm),this.amountFormGroup.get("elementDescription").setValue(null==e?void 0:e.vehicleRegistration),this.element.elementDescription=null==e?void 0:e.vehicleRegistration,this.element.km=null==e?void 0:e.currentKm,this.element.elementId=null==e?void 0:e.id,void this.addElement();default:this.amountFormGroup.get("elementDescription").setValue(null==e?void 0:e.name),this.element.elementDescription=null==e?void 0:e.name,this.element.elementId=null==e?void 0:e.id,this.addElement()}}onChangeSuplier(e){this.amountFormGroup.get("supplierId").setValue(null==e?void 0:e.id),this.amountFormGroup.get("supplierName").setValue(null==e?void 0:e.name)}addElement(){this.elementsPayloadList.push(Object.assign({},this.element)),this.element=Object.assign({elementId:"",km:"",date:"",elementDescription:""}),document.getElementById("searchElement").value=null}removeElement(e){this.elementsPayloadList.splice(e,1)}addPayload(e){var t;e&&e.next();const i=Object.assign(Object.assign({},this.amountFormGroup.value),this.detailsFormGroup.value);"Vehicle"===(null===(t=this.typeExpense)||void 0===t?void 0:t.key)?this.payloadList=[i]:this.payloadList.push(i)}removePayload(e){this.payloadList.splice(e,1)}getUrlApi(){var e;switch(null===(e=this.typeExpense)||void 0===e?void 0:e.key){case"Vehicle":return this.placeholder="Ve\xedculo",this.fiedleName="vehicleRegistration",l.a.VEHICLE+"/filters";case"Employee":return this.placeholder="Motorista",l.a.EMPLOYEE+"/filters"}}operationSearch(){const e=u("operationSearch").subscribe(e=>{const t=this.service.get(l.a.OPERATION,{sort:"description",search:e,size:"20"},this.companyId).subscribe(e=>{this.operationals=(null==e?void 0:e.elements)?e.elements:new Array});this.subscription.add(t)});this.subscription.add(e)}elementSearch(){const e=u("searchElement").subscribe(e=>{var t,i;const o={sort:"name",wordsKeys:e,currentDriverId:null===(t=this.service.myStorage.get())||void 0===t?void 0:t.employeeId,size:"20"};(null===(i=this.service.myStorage.get())||void 0===i?void 0:i.employeeId)||delete o.currentDriverId;const r=this.service.get(this.getUrlApi(),o,this.companyId).subscribe(e=>{this.elements=(null==e?void 0:e.elements)?e.elements.filter(e=>null==e?void 0:e.operationalId):new Array});this.subscription.add(r)});this.subscription.add(e)}suplierSearch(e){u("supplierSearch").subscribe(e=>{const t=this.service.get(""+l.a.SUPPLIERS,{sort:"name",search:""+e,size:"20"},this.companyId).subscribe(e=>{this.suppleries=(null==e?void 0:e.elements)?e.elements:new Array});this.subscription.add(t)})}loadTypeExpense(){var e;this.expenseTypes.length||(this.spinner.show(),this.service.get(l.a.TYPE_EXPENSE+"/all",{},null===(e=this.amountFormGroup.value)||void 0===e?void 0:e.headId).subscribe(e=>{e?this.expenseTypes=e:this.suppleries=new Array,this.spinner.hide()}))}buildPayload(){const e=[],t=[];return this.elementsPayloadList.forEach(t=>{this.payloadList.forEach(i=>{i.elementId=t.elementId,i.elementDescription=t.elementDescription,i.km=null==t?void 0:t.km,e.push(Object.assign({},i))})}),this.elementsDates.forEach(i=>{e.forEach(e=>{e.date=c.a.formateDate(i,"yyyy-MM-dd")+"T00:00:00",e.wordsKeys=Object(N.a)({e:null==e?void 0:e.elementDescription,c:null==e?void 0:e.typeName,a:null==e?void 0:e.supplierName,r:null==e?void 0:e.typeServiceName}),t.push(Object.assign({},e))})}),t}reset(e){e.reset(),this.amountFormGroup.reset(),this.element={elementId:"",km:null,date:"",elementDescription:""},this.elementsDates=void 0,this.elementsPayloadList=new Array}partialReset(e){let t=4;for(;t>0;)t--,null==e||e.previous()}save(e){const t=this.buildPayload();this.spinner.show();const i=this.service.post(l.a.EXPENSES+"/batch",t).subscribe(t=>{this.response=t[0],this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),this.amountFormGroup.get("values").reset(),e.next(),W.builder().reset(this.amountFormGroup)});this.subscription.add(i)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.amountFormGroup)}ngOnInit(){this.startDefault(),this.primengConfig.setTranslation(C.a)}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(E.k),k.Lb(A.c),k.Lb(K.a),k.Lb(w.a),k.Lb(P.c),k.Lb(D),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-expense"]],decls:154,vars:49,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["id","typeExp","inputId","typeExp","optionLabel","name","placeholder","Tipo de Despesa",3,"options","onShow","onChange"],["inputId","status","optionLabel","name",3,"options","placeholder","onChange"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[4,"ngIf"],[2,"display","flex","align-items","center","position","relative"],[1,"material-icons",2,"position","absolute","top","-13px","color","#0d89ec"],[2,"list-style","outside"],[4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["placeholder","Datas*","name","date","dateFormat","dd/mm/yy","selectionMode","multiple","inputId","touchui",3,"showIcon","readonlyInput","ngModel","monthNavigator","yearNavigator","yearRange","touchUI","ngModelChange"],["dateFull",""],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[1,"material-icons",2,"position","relative","top","-15px","margin-right","4px","font-size","32px"],["class","p-col-12 p-mb-2 p-lg-12 p-mb-lg-0",4,"ngFor","ngForOf"],[1,"material-icons",2,"position","relative","top","7px","color","#0d89ec","margin-right","17px"],["inputId","searchElement","name","search",3,"field","placeholder","suggestions","size","minLength","onSelect","onKeyUp"],["pTemplate","item"],["pButton","","label","Continuar","type","button","class","p-mr-2 p-mb-2",3,"disabled","click",4,"ngIf"],[3,"formGroup"],["formArrayName","values",4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar novo valor",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],["pButton","","label","Salvar","type","button",1,"p-mr-2","p-mb-2",3,"click"],[2,"text-transform","capitalize","font-weight","400"],[1,"pi","pi-check",2,"color","rgb(0, 180, 0)","font-size","1.5rem"],[3,"ngStyle"],["pButton","","label","Cadastrar com mesmos dados iniciais","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],["pButton","","label","Voltar ao in\xedcio","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",2,"background","#96afbb",3,"click"],["routerLink","/query/type/expenses","label","Despesas",1,"p-mr-2","p-mb-2"],["class","p-grid p-formgrid",4,"ngIf"],[3,"closable","visible"],["id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa",3,"options","onChange"],["pButton","","label","Sim","type","button",1,"p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-2","p-lg-2","p-mb-lg-0"],["pButton","","label","Pular","type","button",1,"p-button-success","p-mr-2","p-mb-2",3,"click"],["inputId","supplierSearch","field","fantasyName","name","fantasyName",3,"placeholder","suggestions","size","minLength","onSelect","onKeyUp"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"click"],["pButton","","label","Cancelar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[1,"ui-helper-clearfix",2,"border-bottom","1px solid #D5D5D5"],[1,"autoComplete"],[2,"text-transform","capitalize"],[1,"p-col-12","p-mb-2","p-lg-12","p-mb-lg-0"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem","float","right","position","relative",3,"click"],[2,"position","relative","width","90%","word-break","break-word"],["formArrayName","values"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],["name","name"],[3,"formGroupName"],["name","name","formControlName","title","pInputText","","placeholder","Titulo"],["class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngIf"],["type","text","currencyMask","","formControlName","value","pInputText","","placeholder","Valor",3,"options","keyup"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["pKeyFilter","money","type","number","formControlName","liquid","pInputText","","placeholder","Litros"],["type","number","pKeyFilter","money","formControlName","weight","pInputText","","placeholder","Kg"],["type","number","pKeyFilter","money","formControlName","length","pInputText","","placeholder","Comprimento em Metros"],["type","number","pKeyFilter","money","formControlName","width","pInputText","","placeholder","Largura em Metros"],["type","number","pKeyFilter","money","formControlName","depth","pInputText","","placeholder","Profundidade em Metros"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Iniciar Cadastro"),k.Rb(),k.Sb(8,"div",5),k.Ic(9,ei,3,1,"div",6),k.Sb(10,"div",7),k.Sb(11,"p-dropdown",8),k.ac("onShow",(function(){return t.loadTypeExpense()}))("onChange",(function(e){return t.onChangeType(e)})),k.Rb(),k.Nb(12,"br"),k.Rb(),k.Sb(13,"div",7),k.Sb(14,"p-dropdown",9),k.ac("onChange",(function(e){return t.onChangeStatus(e)})),k.Rb(),k.Nb(15,"br"),k.Rb(),k.Rb(),k.Sb(16,"div",5),k.Sb(17,"div",10),k.Sb(18,"button",11),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(19,"mat-step"),k.Sb(20,"h4"),k.Kc(21," Fornecedor "),k.Rb(),k.Ic(22,ti,12,0,"div",12),k.Ic(23,oi,11,4,"div",12),k.Rb(),k.Sb(24,"mat-step"),k.Sb(25,"form"),k.Sb(26,"div",7),k.Sb(27,"p-card"),k.Sb(28,"div",13),k.Sb(29,"span",14),k.Kc(30," event "),k.Rb(),k.Sb(31,"ul",15),k.Ic(32,ri,5,4,"li",16),k.Rb(),k.Rb(),k.Rb(),k.Nb(33,"br"),k.Rb(),k.Sb(34,"div",5),k.Sb(35,"div",17),k.Sb(36,"p-calendar",18,19),k.ac("ngModelChange",(function(e){return t.elementsDates=e})),k.Rb(),k.Rb(),k.Rb(),k.Sb(38,"div",5),k.Sb(39,"div",10),k.Sb(40,"button",20),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(41,"div",10),k.Sb(42,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(43,"mat-step"),k.Sb(44,"form"),k.Sb(45,"div",5),k.Sb(46,"div",7),k.Nb(47,"br"),k.Sb(48,"p-card"),k.Sb(49,"div"),k.Sb(50,"span",22),k.Kc(51),k.Rb(),k.Rb(),k.Ic(52,ai,8,3,"div",23),k.Rb(),k.Nb(53,"br"),k.Rb(),k.Sb(54,"div",7),k.Nb(55,"br"),k.Sb(56,"p-card"),k.Sb(57,"span",24),k.Kc(58," event "),k.Rb(),k.Nb(59,"br"),k.Nb(60,"br"),k.Ic(61,si,6,4,"div",16),k.Rb(),k.Nb(62,"br"),k.Rb(),k.Rb(),k.Sb(63,"div",5),k.Sb(64,"div",7),k.Sb(65,"p-autoComplete",25),k.ac("onSelect",(function(e){return t.onChangeElementId(e)}))("onKeyUp",(function(){return t.elementSearch()})),k.Ic(66,li,4,1,"ng-template",26),k.Rb(),k.Nb(67,"br"),k.Rb(),k.Rb(),k.Sb(68,"div",5),k.Sb(69,"div",10),k.Ic(70,ci,1,1,"button",27),k.Ic(71,bi,1,1,"button",27),k.Rb(),k.Sb(72,"div",10),k.Sb(73,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(74,"mat-step"),k.Sb(75,"div",28),k.Sb(76,"div",5),k.Sb(77,"div",7),k.Sb(78,"h4"),k.Kc(79,"Total: "),k.Sb(80,"small"),k.Kc(81),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(82,"div"),k.Ic(83,zi,26,12,"div",29),k.Rb(),k.Sb(84,"div",5),k.Sb(85,"div",10),k.Sb(86,"button",20),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.addPayload(i)})),k.Rb(),k.Rb(),k.Sb(87,"div",10),k.Sb(88,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(89,"div",30),k.Sb(90,"i",31),k.ac("click",(function(){return t.addAmount(t)})),k.Kc(91," attach_money "),k.Sb(92,"small"),k.Kc(93,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(94,"mat-step"),k.Sb(95,"h4"),k.Kc(96,"Conferir Informa\xe7\xf5es"),k.Rb(),k.Sb(97,"div",5),k.Sb(98,"div",7),k.Nb(99,"br"),k.Sb(100,"p-card"),k.Sb(101,"span",24),k.Kc(102," event "),k.Rb(),k.Nb(103,"br"),k.Nb(104,"br"),k.Ic(105,Ci,6,4,"div",16),k.Rb(),k.Nb(106,"br"),k.Rb(),k.Sb(107,"div",7),k.Nb(108,"br"),k.Sb(109,"p-card"),k.Sb(110,"div"),k.Sb(111,"span",22),k.Kc(112),k.Rb(),k.Rb(),k.Ic(113,Fi,8,3,"div",23),k.Rb(),k.Nb(114,"br"),k.Rb(),k.Rb(),k.Sb(115,"div",5),k.Sb(116,"div",7),k.Sb(117,"h4"),k.Kc(118," Total de despesas: "),k.Sb(119,"small"),k.Kc(120),k.Rb(),k.Nb(121,"br"),k.Sb(122,"small"),k.Kc(123),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(124,"div",5),k.Sb(125,"div",10),k.Sb(126,"button",32),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.save(i)})),k.Rb(),k.Rb(),k.Sb(127,"div",10),k.Sb(128,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(129,"mat-step"),k.Sb(130,"h4"),k.Nb(131,"span",33),k.Kc(132," Cadastrado com sucesso! "),k.Nb(133,"i",34),k.Rb(),k.Nb(134,"br"),k.Sb(135,"form",35),k.Sb(136,"div",5),k.Sb(137,"div",17),k.Sb(138,"h6"),k.Kc(139,"Cadastrar nova Despesa"),k.Rb(),k.Sb(140,"div",2),k.Sb(141,"button",36),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.partialReset(i)})),k.Rb(),k.Nb(142,"br"),k.Sb(143,"button",37),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.reset(i)})),k.Rb(),k.Rb(),k.Rb(),k.Sb(144,"div",17),k.Sb(145,"h6"),k.Kc(146,"Visualizar Despesas"),k.Rb(),k.Sb(147,"div",2),k.Nb(148,"p-button",38),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(149,ki,4,0,"div",39),k.Sb(150,"p-dialog",40),k.Ic(151,wi,2,4,"div",12),k.Rb(),k.Sb(152,"p-dialog",40),k.Ic(153,Gi,2,3,"div",12),k.Rb()}2&e&&(k.zb(3),k.lc("linear",!0),k.zb(6),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("options",t.expenseTypes),k.zb(3),k.lc("options",t.status)("placeholder",t.status[0].name),k.zb(4),k.lc("disabled",!(null!=t.amountFormGroup.value&&t.amountFormGroup.value.typeId)),k.zb(4),k.lc("ngIf",!t.supplierSh),k.zb(1),k.lc("ngIf",t.supplierSh),k.zb(9),k.lc("ngForOf",t.elementsDates),k.zb(4),k.lc("showIcon",!0)("readonlyInput",!0)("ngModel",t.elementsDates)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearOptions)("touchUI",!0)("readonlyInput",!0),k.zb(4),k.lc("disabled",!(null!=t.elementsDates&&t.elementsDates.length)),k.zb(11),k.Mc(" ","Vehicle"==(null==t.typeExpense?null:t.typeExpense.key)?"directions_car":"person"," "),k.zb(1),k.lc("ngForOf",t.elementsPayloadList),k.zb(9),k.lc("ngForOf",t.elementsDates),k.zb(4),k.lc("field",t.fiedleName)("placeholder","Pesquisar por "+t.placeholder)("suggestions",t.elements)("size",30)("minLength",1),k.zb(5),k.lc("ngIf","Vehicle"==(null==t.typeExpense?null:t.typeExpense.key)),k.zb(1),k.lc("ngIf","Vehicle"!==(null==t.typeExpense?null:t.typeExpense.key)),k.zb(4),k.lc("formGroup",t.amountFormGroup),k.zb(6),k.Mc(" ",null==t.amountFormGroup.value.amount?null:t.amountFormGroup.value.amount.toLocaleString("pt-BR",k.oc(45,Ni))," "),k.zb(2),k.lc("ngForOf",t.amountFormGroup.get("values").controls),k.zb(3),k.lc("disabled",t.amountFormGroup.controls.values.invalid),k.zb(19),k.lc("ngForOf",t.elementsDates),k.zb(7),k.Mc(" ","Vehicle"==(null==t.typeExpense?null:t.typeExpense.key)?"directions_car":"person"," "),k.zb(1),k.lc("ngForOf",t.elementsPayloadList),k.zb(7),k.Mc(" ",(null==t.elementsPayloadList?null:t.elementsPayloadList.length)*t.amountFormGroup.value.amount==null?null:((null==t.elementsPayloadList?null:t.elementsPayloadList.length)*t.amountFormGroup.value.amount).toLocaleString("pt-BR",k.oc(46,Ni))," "),k.zb(3),k.Mc(" Valor registrado ",null==t.amountFormGroup.value.amount?null:t.amountFormGroup.value.amount.toLocaleString("pt-BR",k.oc(47,Ni))," "),k.zb(12),k.lc("ngStyle",k.oc(48,Oi)),k.zb(14),k.lc("ngIf",t.response),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage))},directives:[M.a,M.b,r.t,B.a,j.b,h.G,h.r,h.s,Qt.a,r.s,U.a,h.q,h.t,L.a,E.l,h.i,r.w,j.a,P.d,H.a,h.e,h.j,h.c,h.h,$.a,Y.b,V.a,h.w,X.a,ae,me],pipes:[r.f],styles:[".mat-horizontal-stepper-header{pointer-events:none!important}"]}),e})(),Ei=(()=>{class e{constructor(e,t,i,o,r,n){this.formBuilder=e,this.msg=t,this.spinner=i,this.myStorage=o,this.service=r,this.breadcrumbService=n,this.breadcrumbService.setItems([{label:"Registrar tipo fun\xe7\xe3o de colaboradores"}])}loadFormGroup(){var e,t,i,o;this.functionFormGroup=this.formBuilder.group({name:["",[h.E.required]],description:["",[h.E.required]],teamId:[null===(e=this.service.myStorage.get())||void 0===e?void 0:e.teamId],teamOwnerId:[null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId],teamName:[null===(o=null===(i=this.service.myStorage.get())||void 0===i?void 0:i.companiesView.find(({id:e})=>{var t;return e==(null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamId)}))||void 0===o?void 0:o.name],wordsKeys:[""]})}save(){const e=this.functionFormGroup.value;this.functionFormGroup.get("wordsKeys").setValue(Object(N.a)({e:null==e?void 0:e.name,d:null==e?void 0:e.description})),this.spinner.show(),this.service.post(""+l.a.TYPE_EMPLOYEE,this.functionFormGroup.value).subscribe(()=>{this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.functionFormGroup)})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.functionFormGroup)}ngOnInit(){this.loadFormGroup()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(w.a),k.Lb(K.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-register-function"]],decls:16,vars:2,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],["name","name","formControlName","name","type","text","pInputText","","placeholder","Nome*"],["formControlName","description","type","text","pInputText","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Cadastrar",1,"p-mr-2","p-mb-2",3,"disabled","click"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"form",3),k.Sb(4,"div",4),k.Sb(5,"div",5),k.Sb(6,"h6",6),k.Kc(7,"Registrar Fun\xe7\xe3o de colaborador"),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",4),k.Sb(9,"div",5),k.Nb(10,"input",7),k.Rb(),k.Sb(11,"div",5),k.Nb(12,"input",8),k.Rb(),k.Rb(),k.Sb(13,"div",4),k.Sb(14,"div",9),k.Sb(15,"button",10),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(3),k.lc("formGroup",t.functionFormGroup),k.zb(12),k.lc("disabled",!t.functionFormGroup.valid))},directives:[h.G,h.r,h.i,h.c,h.q,h.h,$.a,j.b],styles:[""]}),e})();function Ai(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",49),k.Sb(1,"p-dropdown",50),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function Ki(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",55),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removePhone(t)})),k.Rb()}}function Pi(e,t){if(1&e&&(k.Sb(0,"div",51),k.Sb(1,"div",52),k.Ic(2,Ki,1,0,"i",53),k.Nb(3,"br"),k.Nb(4,"input",54),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",i.contactFormGroup.get("phones").controls.length>1)}}function Ti(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",55),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function Mi(e,t){if(1&e&&(k.Sb(0,"div",56),k.Sb(1,"div",57),k.Sb(2,"h6"),k.Ic(3,Ti,1,0,"i",53),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",58),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",59),k.Sb(9,"div",8),k.Nb(10,"br"),k.Nb(11,"input",60),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"br"),k.Sb(14,"textarea",61),k.Kc(15,"                    "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function Li(e,t){if(1&e){const e=k.Ub();k.Sb(0,"form"),k.Sb(1,"div",6),k.Sb(2,"div",62),k.Sb(3,"h6"),k.Kc(4,"Continuar cadastro do colaborador(a) "),k.Sb(5,"span",58),k.Kc(6),k.Rb(),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",6),k.Sb(9,"div",63),k.Sb(10,"p-button",64),k.ac("click",(function(){return k.zc(e),k.ec().driverRegister()})),k.Rb(),k.Rb(),k.Sb(11,"div",63),k.Sb(12,"button",65),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(6),k.Mc(" ",e.personalDataFormGroup.value.name," "),k.zb(1),k.Mc(" como ",e.profession,". "),k.zb(3),k.lc("type","submit")}}const Bi=function(){return{"text-align":"center"}};function Vi(e,t){if(1&e){const e=k.Ub();k.Sb(0,"form",66),k.Sb(1,"div",6),k.Sb(2,"div",62),k.Sb(3,"h6"),k.Kc(4,"Cadastrar colaborador(a) "),k.Sb(5,"span",58),k.Kc(6),k.Rb(),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",6),k.Sb(9,"div",63),k.Sb(10,"p-button",64),k.ac("click",(function(){k.zc(e);const t=k.ec(),i=k.yc(4);return t.save(i)})),k.Rb(),k.Rb(),k.Sb(11,"div",16),k.Sb(12,"button",22),k.ac("click",(function(){return k.zc(e),k.ec(),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.lc("ngStyle",k.oc(4,Bi)),k.zb(6),k.Mc(" ",e.personalDataFormGroup.value.name," "),k.zb(1),k.Mc(" como ",e.profession,". "),k.zb(3),k.lc("type","submit")}}function ji(e,t){if(1&e){const e=k.Ub();k.Sb(0,"mat-step"),k.Sb(1,"h4"),k.Sb(2,"span",67),k.Kc(3),k.Rb(),k.Kc(4," Cadastrado com sucesso! "),k.Nb(5,"i",68),k.Rb(),k.Nb(6,"br"),k.Sb(7,"form",66),k.Sb(8,"div",6),k.Sb(9,"div",8),k.Sb(10,"h6"),k.Kc(11,"Cadastrar novo colaborador"),k.Rb(),k.Sb(12,"div",2),k.Sb(13,"button",69),k.ac("click",(function(){k.zc(e);const t=k.ec(),i=k.yc(4);return t.reset(i)})),k.Rb(),k.Rb(),k.Rb(),k.Sb(14,"div",8),k.Sb(15,"h6"),k.Kc(16,"Visualizar Colaboradores"),k.Rb(),k.Sb(17,"div",2),k.Sb(18,"p-button",70),k.ac("click",(function(){return k.zc(e),k.ec().router.navigate(["/query/type/employee"])})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(3),k.Mc(" ",e.personalDataFormGroup.value.name," "),k.zb(4),k.lc("ngStyle",k.oc(2,Bi))}}function Ui(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",6),k.Sb(1,"div",71),k.Sb(2,"button",72),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",73),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function qi(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",74),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!1)("id",e.response)("dialog",e)}}function $i(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",75),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const Xi=function(){return{"text-transform":"capitalize"}},Yi=function(){return{standalone:!0}};let Hi=(()=>{class e extends et{constructor(e,t,i,o,r,n,a,s,l){super(e,t,i,o,r,n,a,s),this.breadcrumbService=l,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Registrar Colaborador"}])}save(e){this.spinner.show(),this.professionalDataFormGroup.value.profession=this.profession;const t=this.service.post(""+l.a.EMPLOYEE,Je(this)).subscribe(t=>{this.response=t,e.next(),this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),W.builder().reset(this.personalDataFormGroup)});this.subscription.add(t)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.personalDataFormGroup)}ngOnInit(){this.startDefault()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(w.a),k.Lb(P.c),k.Lb(w.a),k.Lb(D),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-register-employee"]],features:[k.wb],decls:139,vars:41,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["formControlName","name","type","text","pInputText","","placeholder","Nome*",3,"readonly","ngStyle"],["formControlName","maritalStatus","placeholder","Estado civ\xedl*",3,"options","readonly"],["formControlName","birthday","mask","00/00/0000","type","text","pInputText","","placeholder","Data de nascimento*",3,"dropSpecialCharacters","readonly","hiddenInput"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4",2,"position","relative"],["formControlName","gender","optionLabel","name",3,"options"],[2,"position","absolute","top","-10","right","15px","color","#758bb8"],["type","text","formControlName","taxId","mask","000.000.000-00","pInputText","","placeholder","CPF*",3,"readonly"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],["type","text","pKeyFilter","int","formControlName","rg","pInputText","","placeholder","RG"],["type","text","formControlName","rgEmitter","pInputText","","placeholder","Emissor/UF",2,"text-transform","uppercase"],["type","text","formControlName","rgDateEmitter","mask","00/00/0000","pInputText","","placeholder","Data de emiss\xe3o"],["type","text","name","name","formControlName","motherName","pInputText","","placeholder","Nome da m\xe3e"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[3,"formGroup","ngStyle"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["type","email","formControlName","email","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["pButton","","label","Continuar","type","submit",1,"p-mr-2","p-mb-2",3,"disabled","click"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","N\xfamero de cadastro MEI (CPNJ)"],[1,"p-col-12","p-mb-2","p-lg4","p-mb-lg-0"],["optionValue","name","id","office","inputId","office","optionLabel","name","placeholder","Selecionar Fun\xe7\xe3o",3,"options","ngModel","ngModelOptions","ngModelChange"],["type","text","formControlName","note","pInputTextarea","","placeholder","Observa\xe7\xf5es"],["formArrayName","details",4,"ngFor","ngForOf"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],[4,"ngIf"],[3,"ngStyle",4,"ngIf"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[3,"closable","visible"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa*",3,"options","onChange"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","details"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["name","name"],[1,"p-grid","p-formgrid",3,"formGroupName"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-12","p-lg-6","p-mb-lg-12"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["label","Continuar",1,"p-mr-2","p-mb-2",3,"type","click"],["pButton","","label","voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],[3,"ngStyle"],[2,"text-transform","capitalize","font-weight","400"],[1,"pi","pi-check",2,"color","rgb(0, 180, 0)","font-size","1.5rem"],["pButton","","label","Voltar ao in\xedcio","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],["label","Colaboradores",1,"p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Pessoais"),k.Rb(),k.Sb(8,"form",5),k.Sb(9,"div",6),k.Ic(10,Ai,3,1,"div",7),k.Sb(11,"div",8),k.Nb(12,"input",9),k.Rb(),k.Sb(13,"div",8),k.Nb(14,"p-dropdown",10),k.Rb(),k.Sb(15,"div",8),k.Nb(16,"input",11),k.Rb(),k.Sb(17,"div",12),k.Nb(18,"p-selectButton",13),k.Sb(19,"span",14),k.Kc(20,"*"),k.Rb(),k.Rb(),k.Sb(21,"div",8),k.Nb(22,"input",15),k.Rb(),k.Rb(),k.Sb(23,"div",6),k.Sb(24,"div",16),k.Sb(25,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(26,"mat-step"),k.Sb(27,"h4"),k.Kc(28,"RG"),k.Rb(),k.Sb(29,"form",5),k.Sb(30,"div",6),k.Sb(31,"div",8),k.Nb(32,"input",18),k.Rb(),k.Sb(33,"div",8),k.Nb(34,"input",19),k.Rb(),k.Sb(35,"div",8),k.Nb(36,"input",20),k.Rb(),k.Sb(37,"div",8),k.Nb(38,"input",21),k.Rb(),k.Rb(),k.Sb(39,"div",6),k.Sb(40,"div",16),k.Sb(41,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(42,"div",16),k.Sb(43,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(44,"mat-step"),k.Sb(45,"h4"),k.Kc(46,"Endere\xe7o"),k.Rb(),k.Sb(47,"form",23),k.Sb(48,"div",6),k.Sb(49,"div",8),k.Sb(50,"input",24),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value)})),k.Rb(),k.Rb(),k.Sb(51,"div",8),k.Nb(52,"input",25),k.Rb(),k.Sb(53,"div",8),k.Nb(54,"input",26),k.Rb(),k.Sb(55,"div",8),k.Nb(56,"input",27),k.Rb(),k.Sb(57,"div",8),k.Nb(58,"input",28),k.Rb(),k.Sb(59,"div",8),k.Nb(60,"input",29),k.Rb(),k.Sb(61,"div",8),k.Nb(62,"input",30),k.Rb(),k.Rb(),k.Sb(63,"div",6),k.Sb(64,"div",16),k.Sb(65,"button",31),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(66,"div",16),k.Sb(67,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(68,"mat-step"),k.Sb(69,"h4"),k.Kc(70,"Contato"),k.Rb(),k.Sb(71,"form",5),k.Sb(72,"div",6),k.Sb(73,"div",8),k.Nb(74,"br"),k.Nb(75,"input",32),k.Rb(),k.Ic(76,Pi,5,2,"div",33),k.Rb(),k.Sb(77,"div",6),k.Sb(78,"div",16),k.Sb(79,"button",34),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.loadTypeEmployee(i)})),k.Rb(),k.Rb(),k.Sb(80,"div",16),k.Sb(81,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(82,"div",16),k.Sb(83,"i",35),k.ac("click",(function(){return t.addPhone()})),k.Kc(84,"smartphone "),k.Sb(85,"small"),k.Kc(86,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(87,"mat-step"),k.Sb(88,"h4"),k.Kc(89,"Dados profissionais"),k.Rb(),k.Sb(90,"form",5),k.Sb(91,"div",6),k.Sb(92,"div",8),k.Nb(93,"input",36),k.Rb(),k.Sb(94,"div",37),k.Sb(95,"p-dropdown",38),k.ac("ngModelChange",(function(e){return t.profession=e})),k.Rb(),k.Nb(96,"br"),k.Rb(),k.Sb(97,"div",8),k.Sb(98,"textarea",39),k.Kc(99," "),k.Rb(),k.Rb(),k.Rb(),k.Sb(100,"div",6),k.Sb(101,"div",16),k.Sb(102,"button",34),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(103,"div",16),k.Sb(104,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(105,"mat-step"),k.Sb(106,"h4"),k.Kc(107,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(108,"form",5),k.Sb(109,"div"),k.Ic(110,Mi,16,3,"div",40),k.Rb(),k.Sb(111,"div",6),k.Sb(112,"div",16),k.Sb(113,"button",41),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(114,"div",16),k.Sb(115,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(116,"div",42),k.Sb(117,"i",43),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(118," info "),k.Sb(119,"small"),k.Kc(120,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(121,"mat-step"),k.Sb(122,"h4"),k.Kc(123,"Registrar"),k.Rb(),k.Nb(124,"br"),k.Ic(125,Li,13,3,"form",44),k.Ic(126,Vi,13,5,"form",45),k.Rb(),k.Ic(127,ji,19,3,"mat-step",44),k.Rb(),k.Sb(128,"div",6),k.Sb(129,"div",42),k.Sb(130,"small"),k.Kc(131,"Campos obrigat\xf3rios "),k.Sb(132,"span",46),k.Kc(133,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(134,Ui,4,0,"div",47),k.Sb(135,"p-dialog",48),k.Ic(136,qi,2,4,"div",44),k.Rb(),k.Sb(137,"p-dialog",48),k.Ic(138,$i,2,3,"div",44),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(5),k.lc("formGroup",t.personalDataFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("readonly",!t.personalDataFormGroup.value.teamId)("ngStyle",k.oc(38,Xi)),k.zb(2),k.lc("options",t.maritalStatus)("readonly",!t.personalDataFormGroup.value.teamId),k.zb(2),k.lc("dropSpecialCharacters",!1)("readonly",!t.personalDataFormGroup.value.teamId)("hiddenInput",!0),k.zb(2),k.lc("options",t.genders),k.zb(4),k.lc("readonly",!t.personalDataFormGroup.value.teamId),k.zb(3),k.lc("disabled",!t.personalDataFormGroup.valid),k.zb(4),k.lc("formGroup",t.docFormGroup),k.zb(12),k.lc("disabled",!t.docFormGroup.valid),k.zb(6),k.lc("formGroup",t.addressFormGroup)("ngStyle",k.oc(39,Bi)),k.zb(18),k.lc("disabled",!t.addressFormGroup.valid),k.zb(6),k.lc("formGroup",t.contactFormGroup),k.zb(5),k.lc("ngForOf",t.contactFormGroup.get("phones").controls),k.zb(3),k.lc("disabled",!t.contactFormGroup.valid),k.zb(11),k.lc("formGroup",t.professionalDataFormGroup),k.zb(5),k.lc("options",t.functions)("ngModel",t.profession)("ngModelOptions",k.oc(40,Yi)),k.zb(7),k.lc("disabled",!t.profession||!t.professionalDataFormGroup.valid),k.zb(6),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(15),k.lc("ngIf",t.ifTypeEmployeeDrivre()),k.zb(1),k.lc("ngIf",!t.ifTypeEmployeeDrivre()),k.zb(1),k.lc("ngIf",!t.ifTypeEmployeeDrivre()),k.zb(7),k.lc("ngIf",e.selectedIndex>=7&&!t.ifTypeEmployeeDrivre()),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,h.c,h.q,h.h,$.a,r.w,B.a,q.a,it.a,j.b,X.a,r.s,h.t,V.a,H.a,h.e,h.j,h.s,j.a,ae,me],styles:[""]}),e})();var Ji=i("iskm");class Wi{constructor(e,t,i,o,r,n){var a;this.formBuilder=e,this.msg=t,this.spinner=i,this.service=o,this.menuModel=r,this.router=n,this.loadRecurses=[],this.menuItes=new Array,this.searchModule="",this.searchConfig="",this.panelOpenState=!1,this.panelOpenState1=!1,this.maxHiearchy=null===(a=this.service.myStorage.get())||void 0===a?void 0:a.profile.hierarchy}loadFormGroup(){var e,t,i;this.perfilFormGroup=this.formBuilder.group({name:["",[h.E.required]],description:["",[h.E.required]],hierarchy:[10,[h.E.required]],teamId:[null===(t=null===(e=this.service.myStorage.get())||void 0===e?void 0:e.team)||void 0===t?void 0:t.id],teamOwnerId:[null===(i=this.service.myStorage.get())||void 0===i?void 0:i.teamOwnerId],wordsKeys:[""],menuItens:[""]})}onChangeHb(e,t){var i;try{if(e.checked){this.menuItes.push(t.key);for(let e=0;e<t.items.length;e++)t.items[e].profile=!0,this.menuItes.push(t.items[e].key);for(var o=0;o<(null===(i=null==t?void 0:t.otherKeys)||void 0===i?void 0:i.length);o++)t.otherKeys[o].profile=!0,this.menuItes.push(t.otherKeys[o].key)}else{const e=this.menuItes.indexOf(t.key);for(this.menuItes.splice(e,1),o=0;o<t.items.length;o++){const e=this.menuItes.indexOf(t.items[o].key);if(e>-1&&(t.items[o].profile=!1,this.menuItes.splice(e,1)),null==t?void 0:t.otherKey)for(o=0;o<(null==t?void 0:t.otherKeys.length);o++){const e=this.menuItes.indexOf(t.otherKeys[o].key);e>-1&&(t.otherKeys[o].profile=!1,this.menuItes.splice(e,1))}}}}catch(r){console.error(r)}}onChange(e,t){if(e.checked)this.menuItes.push(t.key);else{const e=this.menuItes.indexOf(t.key);this.menuItes.splice(e,1)}}forceProfileFalse(){var e;const t=[0,2];for(const i of t){const t=null===(e=this.loadRecurses[i].items)||void 0===e?void 0:e.filter(e=>null==e?void 0:e.profile);for(const e of t)e.profile=!1}}changeStatusProfile(e){var t,i,o;const r=[0,2];for(const n of r){for(const i of this.menuItes){const o=null===(t=this.loadRecurses[n].items)||void 0===t?void 0:t.findIndex(e=>(null==e?void 0:e.key)==i);o>-1&&(this.loadRecurses[n].items[o].profile=e)}const r=null===(i=this.loadRecurses[n].items)||void 0===i?void 0:i.filter(e=>null==e?void 0:e.profile);for(const t of r)for(const i of this.menuItes){const r=null===(o=t.items)||void 0===o?void 0:o.findIndex(e=>(null==e?void 0:e.key)==i);r>-1&&(t.items[r].profile=e)}}}}var Zi=i("q5oI"),Qi=i("ws7N"),eo=i("lay6");let to=(()=>{class e{transform(t,i){return i&&t?e.filter(t,i):t}static filter(e,t){const i=t.toLowerCase();return e.filter((function(e){return function e(t,o){for(let r in t)if(null!==t[r]&&null!=t[r]){if("object"==typeof t[r]&&e(t[r],o))return!0;if(t[r].toString().toLowerCase().includes(i))return!0}return!1}(e,t)}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=k.Kb({name:"filter",type:e,pure:!1}),e.\u0275prov=k.Hb({token:e,factory:e.\u0275fac}),e})(),io=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)}}),e})();const oo=function(){return{standalone:!0}};function ro(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",22),k.Sb(1,"div"),k.Sb(2,"h6"),k.Kc(3),k.Rb(),k.Sb(4,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec().onChange(t,i)})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(3),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,oo))("ngModel",e.profile)}}function no(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"h6"),k.Kc(2),k.Rb(),k.Sb(3,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec(2).onChange(t,i)})),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(2),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,oo))("ngModel",e.profile)}}function ao(e,t){if(1&e&&(k.Sb(0,"div",22),k.Ic(1,no,4,4,"div",23),k.Rb()),2&e){const e=k.ec().$implicit,t=k.ec();k.zb(1),k.lc("ngIf",t.menuItes.indexOf(e.key)>-1)}}function so(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",2),k.Sb(1,"div",4),k.Sb(2,"div",5),k.Sb(3,"h5",18),k.Kc(4),k.Sb(5,"p-inputSwitch",19),k.ac("ngModelChange",(function(i){return k.zc(e),t.$implicit.profile=i}))("onChange",(function(i){k.zc(e);const o=t.$implicit;return k.ec().onChangeHb(i,o)})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(6,"div",4),k.Ic(7,ro,5,4,"div",20),k.Ic(8,ao,2,1,"div",21),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.label," "),k.zb(1),k.lc("ngModelOptions",k.oc(5,oo))("ngModel",e.profile),k.zb(2),k.lc("ngIf",!e.items),k.zb(1),k.lc("ngForOf",e.items)}}function lo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",22),k.Sb(1,"div"),k.Sb(2,"h6"),k.Kc(3),k.Rb(),k.Sb(4,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec().onChange(t,i)})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(3),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,oo))("ngModel",e.profile)}}function co(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"h6"),k.Kc(2),k.Rb(),k.Sb(3,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec(2).onChange(t,i)})),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(2),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,oo))("ngModel",e.profile)}}function bo(e,t){if(1&e&&(k.Sb(0,"div",22),k.Ic(1,co,4,4,"div",23),k.Rb()),2&e){const e=k.ec().$implicit,t=k.ec();k.zb(1),k.lc("ngIf",t.menuItes.indexOf(e.key)>-1)}}function po(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",2),k.Sb(1,"div",4),k.Sb(2,"div",5),k.Sb(3,"h5",18),k.Kc(4),k.Sb(5,"p-inputSwitch",19),k.ac("ngModelChange",(function(i){return k.zc(e),t.$implicit.profile=i}))("onChange",(function(i){k.zc(e);const o=t.$implicit;return k.ec().onChangeHb(i,o)})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(6,"div",4),k.Ic(7,lo,5,4,"div",20),k.Ic(8,bo,2,1,"div",21),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.label," "),k.zb(1),k.lc("ngModelOptions",k.oc(5,oo))("ngModel",e.profile),k.zb(2),k.lc("ngIf",!e.items),k.zb(1),k.lc("ngForOf",e.items)}}let uo=(()=>{class e extends Wi{constructor(e,t,i,o,r,n,a){super(e,t,i,o,r,n),this.breadcrumbService=a,this.breadcrumbService.setItems([{label:"Registrar Perfil"}])}save(){this.perfilFormGroup.value.menuItens=this.menuItes,this.perfilFormGroup.value.wordsKeys=this.perfilFormGroup.value.name,this.spinner.show(),this.service.post(l.a.PROFILE,this.perfilFormGroup.value).subscribe(()=>{this.msg.toast(Object(s.c)("Perfil cadastrado com sucesso")),this.spinner.hide(),this.router.navigate(["/query/type/perfil"])})}ngOnInit(){this.loadRecurses=[...this.menuModel.model],this.forceProfileFalse(),this.loadFormGroup()}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(Zi.a),k.Lb(P.c),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-register-perfil"]],features:[k.wb],decls:58,vars:21,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],[1,"p-col-12","p-mb-4","p-lg-6","p-mb-lg-4"],["pInputText","","name","name","formControlName","name","placeholder","Nome"],["pInputTextarea","","name","name","formControlName","description","placeholder","Descri\xe7\xe3o"],["formControlName","hierarchy",3,"min","max","step","animate"],[3,"opened","closed"],[1,"light-color"],["pInputText","","placeholder","Pesquisar Modulos",3,"ngModelOptions","ngModel","ngModelChange"],["class","card",4,"ngFor","ngForOf"],["pInputText","","placeholder","Pesquisar configura\xe7\xf5es",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Salvar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[2,"font-weight","700","color","#848484"],[3,"ngModelOptions","ngModel","ngModelChange","onChange"],["class","p-col-3 p-mb-2 p-lg-2 p-mb-lg-3",4,"ngIf"],["class","p-col-3 p-mb-2 p-lg-2 p-mb-lg-3",4,"ngFor","ngForOf"],[1,"p-col-3","p-mb-2","p-lg-2","p-mb-lg-3"],[4,"ngIf"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"form",3),k.Sb(4,"div",2),k.Sb(5,"div",4),k.Sb(6,"div",5),k.Sb(7,"h5",6),k.Kc(8,"Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(9,"div",4),k.Sb(10,"div",7),k.Nb(11,"input",8),k.Rb(),k.Sb(12,"div",7),k.Sb(13,"textarea",9),k.Kc(14,"              "),k.Rb(),k.Rb(),k.Sb(15,"div",7),k.Sb(16,"label"),k.Kc(17),k.Rb(),k.Nb(18,"br"),k.Nb(19,"br"),k.Nb(20,"p-slider",10),k.Rb(),k.Rb(),k.Rb(),k.Sb(21,"div",4),k.Sb(22,"div",7),k.Sb(23,"h4"),k.Kc(24,"Conceder permiss\xf5es"),k.Rb(),k.Sb(25,"small"),k.Kc(26,"Conceda permiss\xf5es aos recursos e eles ser\xe3o liberados ao colaborador vinculado a este perfil."),k.Rb(),k.Rb(),k.Rb(),k.Sb(27,"mat-accordion"),k.Sb(28,"mat-expansion-panel",11),k.ac("opened",(function(){return t.panelOpenState1=!0}))("closed",(function(){return t.panelOpenState1=!1})),k.Sb(29,"mat-expansion-panel-header"),k.Sb(30,"mat-panel-title"),k.Sb(31,"span",12),k.Kc(32,"Modulos"),k.Rb(),k.Rb(),k.Sb(33,"mat-panel-description"),k.Sb(34,"span",12),k.Kc(35,"Gerenciar Modulos do Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(36,"div",4),k.Sb(37,"div",7),k.Sb(38,"input",13),k.ac("ngModelChange",(function(e){return t.searchModule=e})),k.Rb(),k.Rb(),k.Rb(),k.Ic(39,so,9,6,"div",14),k.fc(40,"filter"),k.Rb(),k.Sb(41,"mat-expansion-panel",11),k.ac("opened",(function(){return t.panelOpenState=!0}))("closed",(function(){return t.panelOpenState=!1})),k.Sb(42,"mat-expansion-panel-header"),k.Sb(43,"mat-panel-title"),k.Sb(44,"span",12),k.Kc(45,"Configura\xe7\xf5es"),k.Rb(),k.Rb(),k.Sb(46,"mat-panel-description"),k.Sb(47,"span",12),k.Kc(48,"Gerenciar Configura\xe7\xf5es do Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(49,"div",4),k.Sb(50,"div",7),k.Sb(51,"input",15),k.ac("ngModelChange",(function(e){return t.searchConfig=e})),k.Rb(),k.Rb(),k.Rb(),k.Ic(52,po,9,6,"div",14),k.fc(53,"filter"),k.Rb(),k.Rb(),k.Nb(54,"br"),k.Sb(55,"div",4),k.Sb(56,"div",16),k.Sb(57,"button",17),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(3),k.lc("formGroup",t.perfilFormGroup),k.zb(14),k.Mc("Hierarquia N\xedvel: ",100==t.perfilFormGroup.value.hierarchy?t.perfilFormGroup.value.hierarchy+" Master":t.perfilFormGroup.value.hierarchy,""),k.zb(3),k.lc("min",10)("max",t.maxHiearchy)("step",10)("animate",!0),k.zb(18),k.lc("ngModelOptions",k.oc(19,oo))("ngModel",t.searchModule),k.zb(1),k.lc("ngForOf",k.hc(40,13,t.loadRecurses[0].items,t.searchConfig)),k.zb(12),k.lc("ngModelOptions",k.oc(20,oo))("ngModel",t.searchConfig),k.zb(1),k.lc("ngForOf",k.hc(53,16,t.loadRecurses[2].items,t.searchConfig)),k.zb(5),k.lc("disabled",!t.perfilFormGroup.valid||t.menuItes.length<2))},directives:[h.G,h.r,h.i,h.c,$.a,h.q,h.h,V.a,Qi.a,eo.a,eo.c,eo.e,eo.f,eo.d,h.t,r.s,j.b,Yt.a,r.t],pipes:[to],styles:[".p-inputswitch{position:relative!important;top:8px!important;left:4px!important}  .mat-expansion-panel{background-color:transparent!important;color:#848484}.light-color[_ngcontent-%COMP%]{color:#848484}"]}),e})();function mo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",38),k.Sb(1,"p-dropdown",39),k.ac("onChange",(function(t){return k.zc(e),k.ec(2).onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec(2);k.zb(1),k.lc("options",e.teams)}}function ho(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",57),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec(2).removeAddress(t)})),k.Rb()}}function vo(e,t){1&e&&k.Nb(0,"br")}function fo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",57),k.ac("click",(function(){k.zc(e);const t=k.ec(2).index;return k.ec(2).removePhone(t)})),k.Rb()}}function go(e,t){if(1&e&&(k.Sb(0,"div",58),k.Sb(1,"div",59),k.Ic(2,fo,1,0,"i",42),k.Nb(3,"input",60),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec().index,o=k.ec(2);k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",o.addressFormGroup.get("address").controls[i].get("phones").controls.length>1)}}function So(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",40),k.Sb(1,"div",41),k.Ic(2,ho,1,0,"i",42),k.Rb(),k.Sb(3,"div",43),k.Sb(4,"div",12),k.Sb(5,"input",44),k.ac("keyup",(function(i){k.zc(e);const o=t.index;return k.ec(2).keyUpcep(i.target.value,o)})),k.Rb(),k.Rb(),k.Sb(6,"div",12),k.Nb(7,"input",45),k.Rb(),k.Sb(8,"div",12),k.Nb(9,"input",46),k.Rb(),k.Sb(10,"div",12),k.Nb(11,"input",47),k.Rb(),k.Sb(12,"div",12),k.Nb(13,"input",48),k.Rb(),k.Sb(14,"div",12),k.Nb(15,"input",49),k.Rb(),k.Sb(16,"div",12),k.Nb(17,"input",50),k.Rb(),k.Sb(18,"div",12),k.Nb(19,"input",51),k.Nb(20,"br"),k.Nb(21,"br"),k.Rb(),k.Sb(22,"div",52),k.Sb(23,"a",53),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec(2).buildLinkGoogleMaps(i)})),k.Sb(24,"small"),k.Kc(25," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(26,"br"),k.Nb(27,"br"),k.Rb(),k.Sb(28,"div",52),k.Sb(29,"strong"),k.Kc(30,"Contatos"),k.Rb(),k.Nb(31,"br"),k.Nb(32,"br"),k.Rb(),k.Sb(33,"div",12),k.Ic(34,vo,1,0,"br",3),k.Nb(35,"input",54),k.Rb(),k.Ic(36,go,4,2,"div",55),k.Rb(),k.Sb(37,"div",18),k.Sb(38,"i",56),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec(2).addPhone(i)})),k.Kc(39,"smartphone "),k.Sb(40,"small"),k.Kc(41,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.index,i=k.ec(2);k.zb(2),k.lc("ngIf",i.addressFormGroup.get("address").controls.length>1),k.zb(1),k.lc("formGroupName",e),k.zb(31),k.lc("ngIf",i.addressFormGroup.get("address").controls[e].get("phones").controls.length>1),k.zb(2),k.lc("ngForOf",i.addressFormGroup.get("address").controls[e].get("phones").controls)}}function Ro(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",57),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec(2);return i.removeDetail(i,t)})),k.Rb()}}function yo(e,t){if(1&e&&(k.Sb(0,"div",61),k.Sb(1,"div",41),k.Sb(2,"h6"),k.Ic(3,Ro,1,0,"i",42),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",28),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",43),k.Sb(9,"div",12),k.Nb(10,"br"),k.Nb(11,"input",62),k.Rb(),k.Sb(12,"div",12),k.Nb(13,"br"),k.Sb(14,"textarea",63),k.Kc(15,"                  "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec(2);k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}const Io=function(){return{"text-transform":"capitalize"}},No=function(){return{"text-align":"center"}};function xo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",4),k.Sb(1,"div",5),k.Sb(2,"div",6),k.Sb(3,"mat-horizontal-stepper",7,8),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais"),k.Rb(),k.Sb(8,"form",9),k.Sb(9,"div",10),k.Ic(10,mo,3,1,"div",11),k.Sb(11,"div",12),k.Nb(12,"input",13),k.Rb(),k.Sb(13,"div",12),k.Nb(14,"input",14),k.Rb(),k.Sb(15,"div",12),k.Nb(16,"input",15),k.Rb(),k.Sb(17,"div",12),k.Nb(18,"input",16),k.Rb(),k.Sb(19,"div",12),k.Nb(20,"input",17),k.Rb(),k.Rb(),k.Sb(21,"div",10),k.Sb(22,"div",18),k.Sb(23,"button",19),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step"),k.Sb(25,"h4"),k.Kc(26,"Endere\xe7o"),k.Rb(),k.Sb(27,"form",9),k.Sb(28,"div"),k.Ic(29,So,42,4,"div",20),k.Rb(),k.Sb(30,"div",10),k.Sb(31,"div",18),k.Sb(32,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(33,"div",18),k.Sb(34,"button",22),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(35,"div",23),k.Sb(36,"i",24),k.ac("click",(function(){return k.zc(e),k.ec().addPAddress()})),k.Kc(37," info "),k.Sb(38,"small"),k.Kc(39,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"mat-step"),k.Sb(41,"h4"),k.Kc(42,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(43,"form",9),k.Sb(44,"div"),k.Ic(45,yo,16,3,"div",25),k.Rb(),k.Sb(46,"div",10),k.Sb(47,"div",18),k.Sb(48,"button",21),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(49,"div",18),k.Sb(50,"button",26),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(51,"div",23),k.Sb(52,"i",24),k.ac("click",(function(){k.zc(e);const t=k.ec();return t.addDetail(t)})),k.Kc(53," info "),k.Sb(54,"small"),k.Kc(55,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(56,"mat-step"),k.Sb(57,"h4"),k.Kc(58,"Registrar"),k.Rb(),k.Nb(59,"br"),k.Sb(60,"form"),k.Sb(61,"div",10),k.Sb(62,"div",27),k.Sb(63,"h6"),k.Kc(64,"Continuar cadastro do cliente "),k.Sb(65,"span",28),k.Kc(66),k.Rb(),k.Kc(67,". "),k.Rb(),k.Rb(),k.Rb(),k.Sb(68,"div",10),k.Sb(69,"div",29),k.Sb(70,"button",30),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(71,"div",29),k.Sb(72,"p-button",31),k.ac("click",(function(){k.zc(e);const t=k.yc(4);return k.ec().save(t)})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(73,"mat-step"),k.Sb(74,"h4"),k.Sb(75,"span",32),k.Kc(76),k.Rb(),k.Kc(77," Cadastrado com sucesso! "),k.Nb(78,"i",33),k.Rb(),k.Nb(79,"br"),k.Sb(80,"form",34),k.Sb(81,"div",10),k.Sb(82,"div",12),k.Sb(83,"h6"),k.Kc(84,"Cadastrar novo cliente"),k.Rb(),k.Sb(85,"div",6),k.Sb(86,"button",35),k.ac("click",(function(){k.zc(e);const t=k.yc(4);return k.ec().reset(t)})),k.Rb(),k.Rb(),k.Rb(),k.Sb(87,"div",12),k.Sb(88,"h6"),k.Kc(89,"Visualizar Clientes"),k.Rb(),k.Sb(90,"div",6),k.Sb(91,"p-button",36),k.ac("click",(function(){return k.zc(e),k.ec().router.navigate(["/query/type/customer"])})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(92,"div",10),k.Sb(93,"div",23),k.Sb(94,"small"),k.Kc(95,"Campos obrigat\xf3rios "),k.Sb(96,"span",37),k.Kc(97,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(3),k.lc("linear",!0),k.zb(5),k.lc("formGroup",e.companyFormGroup),k.zb(2),k.lc("ngIf",e.userOwner),k.zb(4),k.lc("ngStyle",k.oc(16,Io)),k.zb(2),k.lc("ngStyle",k.oc(17,Io)),k.zb(2),k.lc("ngStyle",k.oc(18,Io)),k.zb(2),k.lc("ngStyle",k.oc(19,Io)),k.zb(3),k.lc("disabled",!e.companyFormGroup.valid),k.zb(4),k.lc("formGroup",e.addressFormGroup),k.zb(2),k.lc("ngForOf",e.addressFormGroup.get("address").controls),k.zb(5),k.lc("disabled",e.addressFormGroup.invalid),k.zb(9),k.lc("formGroup",e.detailsFormGroup),k.zb(2),k.lc("ngForOf",e.detailsFormGroup.get("details").controls),k.zb(21),k.Mc(" ",e.companyFormGroup.value.fantasyName," "),k.zb(10),k.Mc(" ",e.companyFormGroup.value.fantasyName," "),k.zb(4),k.lc("ngStyle",k.oc(20,No))}}function zo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",10),k.Sb(1,"div",52),k.Sb(2,"button",64),k.ac("click",(function(){return k.zc(e),k.ec().showAlert=!0})),k.Rb(),k.Sb(3,"button",65),k.ac("click",(function(){return k.zc(e),k.ec().showImage=!0})),k.Rb(),k.Rb(),k.Rb()}}function Co(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",66),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("path","customer")("loadApp",!0)("id",e.response)("elementDescription",null==e.response?null:e.response.taxId)("dialog",e)}}function _o(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",67),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}let Fo=(()=>{class e{constructor(e,t,i,o,r,n,a,s){this.formBuilder=e,this.loginCookieStorage=t,this.msg=i,this.spinner=o,this.service=r,this.router=n,this.cep=a,this.breadcrumbService=s,this.addDetail=f,this.removeDetail=g,this.subscription=new Ge.a,this.mobile=we.a.mobileType(),this.isLinear=!1,this.teams=new Array,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Registrar Cliente"}])}loadFormGroup(){this.companyFormGroup=this.formBuilder.group({name:[null],fantasyName:["",[h.E.required]],taxId:[""],stateRegistration:[""],municipalRegistration:[""],teamId:["",[h.E.nullValidator]],teamName:["",[h.E.nullValidator]],teamOwnerId:[""]}),this.addressFormGroup=this.formBuilder.group({address:this.formBuilder.array([this.createFormAddress()])}),this.detailsFormGroup=S(this)}createFormAddress(){return this.formBuilder.group({postalCode:["",[h.E.required]],street:["",[h.E.required]],number:["",[h.E.required]],neighborhood:["",[h.E.required]],complement:[""],city:["",[h.E.required]],state:["",[h.E.required]],country:["Brasil"],phones:this.formBuilder.array([this.createFormPhone()]),email:[""]})}addPhoneAddress(){this.phones=this.addressFormGroup.get("address").controls.get("phones").controls,this.phones.push(this.createFormPhone())}createFormPhone(){return this.formBuilder.group({phone:["",[h.E.required]]})}addPhone(e){this.phones=this.addressFormGroup.get("address").controls[e].get("phones"),this.phones.push(this.createFormPhone())}removePhone(e){this.phones.removeAt(e)}addPAddress(){this.address=this.addressFormGroup.get("address"),this.address.push(this.createFormAddress())}removeAddress(e){this.address.removeAt(e)}cancelAlert(){this.alertSh=!1}onChange(e){var t;this.companyFormGroup.get("teamId").setValue(null==e?void 0:e.value),this.companyFormGroup.get("teamName").setValue(null===(t=this.teams.find(({id:t})=>t===(null==e?void 0:e.value)))||void 0===t?void 0:t.name)}reset(e){this.loadFormGroup(),e.reset()}buildLinkGoogleMaps(e){const t=this.addressFormGroup.get("address").controls[e].value;Object(m.a)(t,this)}keyUpcep(e,t){9===e.length&&(this.spinner.show(),this.cep.get(e).subscribe(e=>{e.cep||this.msg.toast(Object(s.a)("CEP n\xe3o encontrado!")),this.spinner.hide(),this.addressFormGroup.get("address").controls[t].get("city").setValue(e.city),this.addressFormGroup.get("address").controls[t].get("neighborhood").setValue(e.neighborhood),this.addressFormGroup.get("address").controls[t].get("state").setValue(e.state),this.addressFormGroup.get("address").controls[t].get("street").setValue(e.street)}))}save(e){this.spinner.show();const t=this.service.post(""+l.a.CUSTOMER,Ee(this)).subscribe(t=>{this.response=t,e.next(),this.spinner.hide(),this.msg.toast(Object(s.c)(a.d))});this.subscription.add(t)}ngOnInit(){this.loadFormGroup(),_.a.loadTeams(this,this.companyFormGroup)}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(w.a),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(D),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-register-customer"]],decls:6,vars:8,consts:[["class","p-grid p-fluid",4,"ngIf"],["class","p-grid p-formgrid",4,"ngIf"],[3,"closable","visible"],[4,"ngIf"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","CNPJ*"],["formControlName","name","type","text","pInputText","","placeholder","Raz\xe3o social*",3,"ngStyle"],["formControlName","fantasyName","type","text","pInputText","","placeholder","Nome fantasia*",3,"ngStyle"],["formControlName","stateRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o estadual*",3,"ngStyle"],["formControlName","municipalRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o municipal*",3,"ngStyle"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],["formArrayName","address",4,"ngFor","ngForOf"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],["formArrayName","details",4,"ngFor","ngForOf"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"click"],[1,"p-col-12","p-mb-12","p-lg-6","p-mb-lg-12"],["name","name"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["label","Continuar",1,"p-mr-2","p-mb-2",3,"click"],[2,"text-transform","capitalize","font-weight","400"],[1,"pi","pi-check",2,"color","rgb(0, 180, 0)","font-size","1.5rem"],[3,"ngStyle"],["pButton","","label","Voltar ao in\xedcio","type","submit",1,"p-mr-2","p-mb-2","p-button-secondary",3,"click"],["label","Clientes",1,"p-mr-2","p-mb-2",3,"click"],[2,"color","red"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","formControlName","teamId","id","temas","inputId","teams","optionLabel","name","placeholder","Selecionar Grupo",3,"options","onChange"],["formArrayName","address"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2",2,"padding","0 !important"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["formControlName","country","type","text","pInputText","","placeholder","Pa\xeds"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formControlName","email","type","text","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],["formArrayName","details"],["name","name","formControlName","title","pInputText","","placeholder","Titulo"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"titleBreadCrum","path","loadApp","id","elementDescription","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){1&e&&(k.Ic(0,xo,98,21,"div",0),k.Ic(1,zo,4,0,"div",1),k.Sb(2,"p-dialog",2),k.Ic(3,Co,2,6,"div",3),k.Rb(),k.Sb(4,"p-dialog",2),k.Ic(5,_o,2,3,"div",3),k.Rb()),2&e&&(k.lc("ngIf",!t.mobile),k.zb(1),k.lc("ngIf",t.response),k.zb(1),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage))},directives:[r.t,H.a,M.a,M.b,h.G,h.r,h.i,q.a,h.c,h.q,h.h,$.a,r.w,j.b,r.s,h.s,j.a,B.a,h.e,h.j,X.a,V.a,ae,me],styles:[".mat-horizontal-stepper-header{pointer-events:none!important}"]}),e})();const ko=["stepper"];function wo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",56),k.Sb(1,"p-dropdown",57),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function Go(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",62),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removePhone(t)})),k.Rb()}}function Oo(e,t){if(1&e&&(k.Sb(0,"div",58),k.Sb(1,"div",59),k.Ic(2,Go,1,0,"i",60),k.Nb(3,"br"),k.Nb(4,"input",61),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",i.contactFormGroup.get("phones").controls.length>1)}}function Do(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",62),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function Eo(e,t){if(1&e&&(k.Sb(0,"div",63),k.Sb(1,"div",64),k.Sb(2,"h6"),k.Ic(3,Do,1,0,"i",60),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",65),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",66),k.Sb(9,"div",9),k.Nb(10,"br"),k.Nb(11,"input",67),k.Rb(),k.Sb(12,"div",9),k.Nb(13,"br"),k.Sb(14,"textarea",68),k.Kc(15,"                    "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function Ao(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",69),k.Sb(1,"button",72),k.ac("click",(function(){return k.zc(e),k.ec(2).goToDriverRegister()})),k.Rb(),k.Rb()}if(2&e){const e=k.ec(2);k.zb(1),k.lc("disabled",e.disabled())}}function Ko(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",7),k.Sb(1,"div",69),k.Sb(2,"button",70),k.ac("click",(function(){return k.zc(e),k.ec().save()})),k.Rb(),k.Rb(),k.Ic(3,Ao,2,1,"div",71),k.Rb()}if(2&e){const e=k.ec();k.zb(2),k.lc("disabled",e.disabled()),k.zb(1),k.lc("ngIf",e.personalDataFormGroup.valid&&e.ifTypeEmployeeDrivre()&&!(null!=e.data&&e.data.driver))}}function Po(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",73),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function To(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",74),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const Mo=function(){return{"text-transform":"capitalize"}},Lo=function(){return{"text-align":"center"}},Bo=function(){return{standalone:!0}};let Vo=(()=>{class e extends tt{constructor(e,t,i,o,r,n,a,s,l,c){super(e,t,i,o,r,n,a,s,l),this.breadcrumbService=c,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Editar Colaborador"}])}goToDriverRegister(){this.save(!0),this.router.navigate(["/register/employee-driver-edit/"+this.id])}save(e){this.spinner.show();const t=this.service.update(`${l.a.EMPLOYEE}/${this.id}`,Je(this)).subscribe(t=>{this.response=t,this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),e||this.router.navigate(["/query/type/employee"])});this.subscription.add(t)}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.personalDataFormGroup)}ngOnInit(){this.startDefault(),this.loadRoutParamsAndloadUpdateData(),this.loadTypeEmployee()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(w.a),k.Lb(P.c),k.Lb(w.a),k.Lb(D),k.Lb(P.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-edit-employee"]],viewQuery:function(e,t){var i;1&e&&k.Oc(ko,!0),2&e&&k.xc(i=k.bc())&&(t.stepper=i.first)},features:[k.wb],decls:124,vars:38,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],["label","Dados Pessoais"],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["formControlName","name","type","text","pInputText","","placeholder","Nome*",3,"readonly","ngStyle"],["formControlName","maritalStatus","placeholder","Estado civ\xedl*",3,"options","readonly"],["formControlName","birthday","mask","00/00/0000","type","text","pInputText","","placeholder","Data de nascimento*",3,"dropSpecialCharacters","readonly","hiddenInput"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4",2,"position","relative"],["optionValue","code","formControlName","gender","optionLabel","name",3,"options"],[2,"position","absolute","top","-10","right","15px","color","#758bb8"],["type","text","formControlName","taxId","mask","000.000.000-00","pInputText","","placeholder","CPF*",3,"readonly"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Pr\xf3ximo",1,"p-mr-2","p-mb-2",3,"disabled","click"],["label","RG"],["type","text","pKeyFilter","int","formControlName","rg","pInputText","","placeholder","RG"],["type","text","formControlName","rgEmitter","pInputText","","placeholder","Emissor/UF",2,"text-transform","uppercase"],["type","text","formControlName","rgDateEmitter","mask","00/00/0000","pInputText","","placeholder","Data de emiss\xe3o"],["type","text","name","name","formControlName","motherName","pInputText","","placeholder","Nome da m\xe3e"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["label","Endere\xe7o"],[3,"formGroup","ngStyle"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["pButton","","label","Pr\xf3ximo","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],["label","Contato"],["type","email","formControlName","email","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["pButton","","label","Pr\xf3ximo","type","submit",1,"p-mr-2","p-mb-2",3,"disabled","click"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],["label","Dados profissionais"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","N\xfamero de cadastro MEI (CPNJ)"],[1,"p-col-12","p-mb-2","p-lg4","p-mb-lg-0"],["optionValue","name","id","office","inputId","office","optionLabel","name","placeholder","Selecionar Fun\xe7\xe3o",3,"options","ngModel","ngModelOptions","ngModelChange"],["type","text","formControlName","note","pInputTextarea","","placeholder","Observa\xe7\xf5es"],["label","Detalhes e Informa\xe7\xf5es"],["formArrayName","details",4,"ngFor","ngForOf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"closable","visible"],[4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["optionValue","id","id","teams","inputId","teams","optionLabel","name","formControlName","teamId","placeholder","Selecionar Empresa*",3,"options","onChange"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","details"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2"],["name","name"],[1,"p-grid","p-formgrid",3,"formGroupName"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","Salvar",1,"p-button-success","p-mr-2","p-mb-2",3,"disabled","click"],["class","p-col-12 p-mb-4 p-lg-2 p-mb-lg-4",4,"ngIf"],["pButton","","label","Continuar Cadastro do motorista",1,"p-button-secondary","p-mr-2","p-mb-2",3,"disabled","click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step",5),k.Sb(6,"form",6),k.Sb(7,"div",7),k.Ic(8,wo,3,1,"div",8),k.Sb(9,"div",9),k.Nb(10,"input",10),k.Rb(),k.Sb(11,"div",9),k.Nb(12,"p-dropdown",11),k.Rb(),k.Sb(13,"div",9),k.Nb(14,"input",12),k.Rb(),k.Sb(15,"div",13),k.Nb(16,"p-selectButton",14),k.Sb(17,"span",15),k.Kc(18,"*"),k.Rb(),k.Rb(),k.Sb(19,"div",9),k.Nb(20,"input",16),k.Rb(),k.Rb(),k.Sb(21,"div",7),k.Sb(22,"div",17),k.Sb(23,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step",19),k.Sb(25,"form",6),k.Sb(26,"div",7),k.Sb(27,"div",9),k.Nb(28,"input",20),k.Rb(),k.Sb(29,"div",9),k.Nb(30,"input",21),k.Rb(),k.Sb(31,"div",9),k.Nb(32,"input",22),k.Rb(),k.Sb(33,"div",9),k.Nb(34,"input",23),k.Rb(),k.Rb(),k.Sb(35,"div",7),k.Sb(36,"div",17),k.Sb(37,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(38,"div",17),k.Sb(39,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"mat-step",25),k.Sb(41,"form",26),k.Sb(42,"div",7),k.Sb(43,"div",9),k.Sb(44,"input",27),k.ac("keyup",(function(e){return t.keyUpcep(e.target.value)})),k.Rb(),k.Rb(),k.Sb(45,"div",9),k.Nb(46,"input",28),k.Rb(),k.Sb(47,"div",9),k.Nb(48,"input",29),k.Rb(),k.Sb(49,"div",9),k.Nb(50,"input",30),k.Rb(),k.Sb(51,"div",9),k.Nb(52,"input",31),k.Rb(),k.Sb(53,"div",9),k.Nb(54,"input",32),k.Rb(),k.Sb(55,"div",9),k.Nb(56,"input",33),k.Rb(),k.Rb(),k.Sb(57,"div",7),k.Sb(58,"div",17),k.Sb(59,"button",34),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(60,"div",17),k.Sb(61,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(62,"mat-step",35),k.Sb(63,"form",6),k.Sb(64,"div",7),k.Sb(65,"div",9),k.Nb(66,"br"),k.Nb(67,"input",36),k.Rb(),k.Ic(68,Oo,5,2,"div",37),k.Rb(),k.Sb(69,"div",7),k.Sb(70,"div",17),k.Sb(71,"button",38),k.ac("click",(function(){k.zc(e);const i=k.yc(4);return t.loadTypeEmployee(i)})),k.Rb(),k.Rb(),k.Sb(72,"div",17),k.Sb(73,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(74,"div",17),k.Sb(75,"i",39),k.ac("click",(function(){return t.addPhone()})),k.Kc(76,"smartphone "),k.Sb(77,"small"),k.Kc(78,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(79,"mat-step",40),k.Sb(80,"form",6),k.Sb(81,"div",7),k.Sb(82,"div",9),k.Nb(83,"input",41),k.Rb(),k.Sb(84,"div",42),k.Sb(85,"p-dropdown",43),k.ac("ngModelChange",(function(e){return t.profession=e})),k.Rb(),k.Nb(86,"br"),k.Rb(),k.Sb(87,"div",9),k.Sb(88,"textarea",44),k.Kc(89," "),k.Rb(),k.Rb(),k.Rb(),k.Sb(90,"div",7),k.Sb(91,"div",17),k.Sb(92,"button",38),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(93,"div",17),k.Sb(94,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(95,"mat-step",45),k.Sb(96,"form",6),k.Sb(97,"div"),k.Ic(98,Eo,16,3,"div",46),k.Rb(),k.Sb(99,"div",7),k.Sb(100,"div",17),k.Sb(101,"button",24),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(102,"div",47),k.Sb(103,"i",48),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(104," info "),k.Sb(105,"small"),k.Kc(106,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(107,"div",7),k.Sb(108,"div",47),k.Sb(109,"small"),k.Kc(110,"Campos obrigat\xf3rios "),k.Sb(111,"span",49),k.Kc(112,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Nb(113,"br"),k.Nb(114,"br"),k.Ic(115,Ko,4,2,"div",50),k.Rb(),k.Rb(),k.Rb(),k.Sb(116,"div",7),k.Sb(117,"div",51),k.Sb(118,"button",52),k.ac("click",(function(){return t.showAlert=!0})),k.Rb(),k.Sb(119,"button",53),k.ac("click",(function(){return t.showImage=!0})),k.Rb(),k.Rb(),k.Rb(),k.Sb(120,"p-dialog",54),k.Ic(121,Po,2,4,"div",55),k.Rb(),k.Sb(122,"p-dialog",54),k.Ic(123,To,2,3,"div",55),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(3),k.lc("formGroup",t.personalDataFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(2),k.lc("readonly",!t.personalDataFormGroup.value.teamId)("ngStyle",k.oc(35,Mo)),k.zb(2),k.lc("options",t.maritalStatus)("readonly",!t.personalDataFormGroup.value.teamId),k.zb(2),k.lc("dropSpecialCharacters",!1)("readonly",!t.personalDataFormGroup.value.teamId)("hiddenInput",!0),k.zb(2),k.lc("options",t.genders),k.zb(4),k.lc("readonly",!t.personalDataFormGroup.value.teamId),k.zb(3),k.lc("disabled",!t.personalDataFormGroup.valid),k.zb(2),k.lc("formGroup",t.docFormGroup),k.zb(12),k.lc("disabled",!t.docFormGroup.valid),k.zb(4),k.lc("formGroup",t.addressFormGroup)("ngStyle",k.oc(36,Lo)),k.zb(18),k.lc("disabled",!t.addressFormGroup.valid),k.zb(4),k.lc("formGroup",t.contactFormGroup),k.zb(5),k.lc("ngForOf",t.contactFormGroup.get("phones").controls),k.zb(3),k.lc("disabled",!t.contactFormGroup.valid),k.zb(9),k.lc("formGroup",t.professionalDataFormGroup),k.zb(5),k.lc("options",t.functions)("ngModel",t.profession)("ngModelOptions",k.oc(37,Bo)),k.zb(7),k.lc("disabled",!t.profession||!t.professionalDataFormGroup.valid),k.zb(4),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(17),k.lc("ngIf",e.selectedIndex<=5),k.zb(5),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,h.c,h.q,h.h,$.a,r.w,B.a,q.a,it.a,j.b,X.a,r.s,h.t,V.a,H.a,h.e,h.j,ae,me],styles:[""]}),e})();const jo=function(){return{standalone:!0}};function Uo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",22),k.Sb(1,"div"),k.Sb(2,"h6"),k.Kc(3),k.Rb(),k.Sb(4,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec().onChange(t,i)})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(3),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,jo))("ngModel",e.profile)}}function qo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"h6"),k.Kc(2),k.Rb(),k.Sb(3,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec(2).onChange(t,i)})),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(2),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,jo))("ngModel",e.profile)}}function $o(e,t){if(1&e&&(k.Sb(0,"div",22),k.Ic(1,qo,4,4,"div",23),k.Rb()),2&e){const e=k.ec().$implicit,t=k.ec();k.zb(1),k.lc("ngIf",t.menuItes.indexOf(e.key)>-1)}}function Xo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",2),k.Sb(1,"div",4),k.Sb(2,"div",5),k.Sb(3,"h5",18),k.Kc(4),k.Sb(5,"p-inputSwitch",19),k.ac("ngModelChange",(function(i){return k.zc(e),t.$implicit.profile=i}))("onChange",(function(i){k.zc(e);const o=t.$implicit;return k.ec().onChangeHb(i,o)})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(6,"div",4),k.Ic(7,Uo,5,4,"div",20),k.Ic(8,$o,2,1,"div",21),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.label," "),k.zb(1),k.lc("ngModelOptions",k.oc(5,jo))("ngModel",e.profile),k.zb(2),k.lc("ngIf",!e.items),k.zb(1),k.lc("ngForOf",e.items)}}function Yo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",22),k.Sb(1,"div"),k.Sb(2,"h6"),k.Kc(3),k.Rb(),k.Sb(4,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec().onChange(t,i)})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(3),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,jo))("ngModel",e.profile)}}function Ho(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div"),k.Sb(1,"h6"),k.Kc(2),k.Rb(),k.Sb(3,"p-inputSwitch",19),k.ac("ngModelChange",(function(t){return k.zc(e),k.ec().$implicit.profile=t}))("onChange",(function(t){k.zc(e);const i=k.ec().$implicit;return k.ec(2).onChange(t,i)})),k.Rb(),k.Rb()}if(2&e){const e=k.ec().$implicit;k.zb(2),k.Lc(e.label),k.zb(1),k.lc("ngModelOptions",k.oc(3,jo))("ngModel",e.profile)}}function Jo(e,t){if(1&e&&(k.Sb(0,"div",22),k.Ic(1,Ho,4,4,"div",23),k.Rb()),2&e){const e=k.ec().$implicit,t=k.ec();k.zb(1),k.lc("ngIf",t.menuItes.indexOf(e.key)>-1)}}function Wo(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",2),k.Sb(1,"div",4),k.Sb(2,"div",5),k.Sb(3,"h5",18),k.Kc(4),k.Sb(5,"p-inputSwitch",19),k.ac("ngModelChange",(function(i){return k.zc(e),t.$implicit.profile=i}))("onChange",(function(i){k.zc(e);const o=t.$implicit;return k.ec().onChangeHb(i,o)})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(6,"div",4),k.Ic(7,Yo,5,4,"div",20),k.Ic(8,Jo,2,1,"div",21),k.Rb(),k.Rb()}if(2&e){const e=t.$implicit;k.zb(4),k.Mc(" ",e.label," "),k.zb(1),k.lc("ngModelOptions",k.oc(5,jo))("ngModel",e.profile),k.zb(2),k.lc("ngIf",!e.items),k.zb(1),k.lc("ngForOf",e.items)}}let Zo=(()=>{class e extends Wi{constructor(e,t,i,o,r,n,a,s){super(e,t,i,o,r,n),this.breadcrumbService=a,this.route=s,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Editar Perfil"}])}loadUpdateData(){this.spinner.show(),this.service.get(`${l.a.PROFILE}/${this.id}`,{}).subscribe(e=>{this.setData(e),this.data=e,this.spinner.hide()})}setData(e){this.perfilFormGroup.get("name").setValue(null==e?void 0:e.name),this.perfilFormGroup.get("description").setValue(null==e?void 0:e.description),this.perfilFormGroup.get("hierarchy").setValue(null==e?void 0:e.hierarchy),this.perfilFormGroup.get("teamId").setValue(null==e?void 0:e.teamId),this.perfilFormGroup.get("teamOwnerId").setValue(null==e?void 0:e.teamOwnerId),this.perfilFormGroup.get("wordsKeys").setValue(null==e?void 0:e.wordsKeys),this.menuItes=null==e?void 0:e.menuItens,this.changeStatusProfile(!0)}save(){var e;this.perfilFormGroup.value.menuItens=this.menuItes,this.perfilFormGroup.value.wordsKeys=this.perfilFormGroup.value.name,this.spinner.show(),this.service.update(`${l.a.PROFILE}/${null===(e=this.data)||void 0===e?void 0:e.id}`,this.perfilFormGroup.value).subscribe(()=>{this.msg.toast(Object(s.c)("Perfil editado com sucesso")),this.spinner.hide(),this.router.navigate(["/query/type/perfil"])})}ngOnInit(){this.route.params.subscribe(e=>{this.id=null==e?void 0:e.id,this.loadUpdateData()}),this.loadRecurses=[...this.menuModel.model],this.changeStatusProfile(!1),this.loadFormGroup()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(Zi.a),k.Lb(P.c),k.Lb(T.a),k.Lb(P.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-edit-perfil"]],features:[k.wb],decls:58,vars:21,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],[1,"p-col-12","p-mb-4","p-lg-6","p-mb-lg-4"],["pInputText","","name","name","formControlName","name","placeholder","Nome"],["pInputTextarea","","name","name","formControlName","description","placeholder","Descri\xe7\xe3o"],["formControlName","hierarchy",3,"min","max","step","animate"],[3,"opened","closed"],[1,"light-color"],["pInputText","","placeholder","Pesquisar Modulos",3,"ngModelOptions","ngModel","ngModelChange"],["class","card",4,"ngFor","ngForOf"],["pInputText","","placeholder","Pesquisar configura\xe7\xf5es",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Salvar",1,"p-mr-2","p-mb-2",3,"disabled","click"],[2,"font-weight","700","color","#848484"],[3,"ngModelOptions","ngModel","ngModelChange","onChange"],["class","p-col-3 p-mb-2 p-lg-2 p-mb-lg-3",4,"ngIf"],["class","p-col-3 p-mb-2 p-lg-2 p-mb-lg-3",4,"ngFor","ngForOf"],[1,"p-col-3","p-mb-2","p-lg-2","p-mb-lg-3"],[4,"ngIf"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"form",3),k.Sb(4,"div",2),k.Sb(5,"div",4),k.Sb(6,"div",5),k.Sb(7,"h5",6),k.Kc(8,"Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(9,"div",4),k.Sb(10,"div",7),k.Nb(11,"input",8),k.Rb(),k.Sb(12,"div",7),k.Sb(13,"textarea",9),k.Kc(14,"              "),k.Rb(),k.Rb(),k.Sb(15,"div",7),k.Sb(16,"label"),k.Kc(17),k.Rb(),k.Nb(18,"br"),k.Nb(19,"br"),k.Nb(20,"p-slider",10),k.Rb(),k.Rb(),k.Rb(),k.Sb(21,"div",4),k.Sb(22,"div",7),k.Sb(23,"h4"),k.Kc(24,"Conceder permiss\xf5es"),k.Rb(),k.Sb(25,"small"),k.Kc(26,"Conceda permiss\xf5es aos recursos e eles ser\xe3o liberados ao colaborador vinculado a este perfil."),k.Rb(),k.Rb(),k.Rb(),k.Sb(27,"mat-accordion"),k.Sb(28,"mat-expansion-panel",11),k.ac("opened",(function(){return t.panelOpenState1=!0}))("closed",(function(){return t.panelOpenState1=!1})),k.Sb(29,"mat-expansion-panel-header"),k.Sb(30,"mat-panel-title"),k.Sb(31,"span",12),k.Kc(32,"Modulos"),k.Rb(),k.Rb(),k.Sb(33,"mat-panel-description"),k.Sb(34,"span",12),k.Kc(35,"Gerenciar Modulos do Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(36,"div",4),k.Sb(37,"div",7),k.Sb(38,"input",13),k.ac("ngModelChange",(function(e){return t.searchModule=e})),k.Rb(),k.Rb(),k.Rb(),k.Ic(39,Xo,9,6,"div",14),k.fc(40,"filter"),k.Rb(),k.Sb(41,"mat-expansion-panel",11),k.ac("opened",(function(){return t.panelOpenState=!0}))("closed",(function(){return t.panelOpenState=!1})),k.Sb(42,"mat-expansion-panel-header"),k.Sb(43,"mat-panel-title"),k.Sb(44,"span",12),k.Kc(45,"Configura\xe7\xf5es"),k.Rb(),k.Rb(),k.Sb(46,"mat-panel-description"),k.Sb(47,"span",12),k.Kc(48,"Gerenciar Configura\xe7\xf5es do Perfil"),k.Rb(),k.Rb(),k.Rb(),k.Sb(49,"div",4),k.Sb(50,"div",7),k.Sb(51,"input",15),k.ac("ngModelChange",(function(e){return t.searchConfig=e})),k.Rb(),k.Rb(),k.Rb(),k.Ic(52,Wo,9,6,"div",14),k.fc(53,"filter"),k.Rb(),k.Rb(),k.Nb(54,"br"),k.Sb(55,"div",4),k.Sb(56,"div",16),k.Sb(57,"button",17),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(3),k.lc("formGroup",t.perfilFormGroup),k.zb(14),k.Mc("Hierarquia N\xedvel: ",100==t.perfilFormGroup.value.hierarchy?t.perfilFormGroup.value.hierarchy+" Master":t.perfilFormGroup.value.hierarchy,""),k.zb(3),k.lc("min",10)("max",t.maxHiearchy)("step",10)("animate",!0),k.zb(18),k.lc("ngModelOptions",k.oc(19,jo))("ngModel",t.searchModule),k.zb(1),k.lc("ngForOf",k.hc(40,13,t.loadRecurses[0].items,t.searchConfig)),k.zb(12),k.lc("ngModelOptions",k.oc(20,jo))("ngModel",t.searchConfig),k.zb(1),k.lc("ngForOf",k.hc(53,16,t.loadRecurses[2].items,t.searchConfig)),k.zb(5),k.lc("disabled",!t.perfilFormGroup.valid||t.menuItes.length<2))},directives:[h.G,h.r,h.i,h.c,$.a,h.q,h.h,V.a,Qi.a,eo.a,eo.c,eo.e,eo.f,eo.d,h.t,r.s,j.b,Yt.a,r.t],pipes:[to],styles:[".p-inputswitch{position:relative!important;top:8px!important;left:4px!important}  .mat-expansion-panel{background-color:transparent!important;color:#848484}.light-color[_ngcontent-%COMP%]{color:#848484}"]}),e})();const Qo=["stepper"];function er(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",29),k.Sb(1,"p-dropdown",30),k.ac("onChange",(function(t){return k.zc(e),k.ec().onChange(t)})),k.Rb(),k.Nb(2,"br"),k.Rb()}if(2&e){const e=k.ec();k.zb(1),k.lc("options",e.teams)}}function tr(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec().index;return k.ec().removeAddress(t)})),k.Rb()}}function ir(e,t){1&e&&k.Nb(0,"br")}function or(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec(2).index;return k.ec().removePhone(t)})),k.Rb()}}function rr(e,t){if(1&e&&(k.Sb(0,"div",48),k.Sb(1,"div",49),k.Ic(2,or,1,0,"i",33),k.Nb(3,"input",50),k.Rb(),k.Rb()),2&e){const e=t.index,i=k.ec().index,o=k.ec();k.zb(1),k.lc("formGroupName",e),k.zb(1),k.lc("ngIf",o.addressFormGroup.get("address").controls[i].get("phones").controls.length>1)}}function nr(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",31),k.Sb(1,"div",32),k.Ic(2,tr,1,0,"i",33),k.Rb(),k.Sb(3,"div",34),k.Sb(4,"div",8),k.Sb(5,"input",35),k.ac("keyup",(function(i){k.zc(e);const o=t.index;return k.ec().keyUpcep(i.target.value,o)})),k.Rb(),k.Rb(),k.Sb(6,"div",8),k.Nb(7,"input",36),k.Rb(),k.Sb(8,"div",8),k.Nb(9,"input",37),k.Rb(),k.Sb(10,"div",8),k.Nb(11,"input",38),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"input",39),k.Rb(),k.Sb(14,"div",8),k.Nb(15,"input",40),k.Rb(),k.Sb(16,"div",8),k.Nb(17,"input",41),k.Nb(18,"br"),k.Nb(19,"br"),k.Rb(),k.Sb(20,"div",8),k.Nb(21,"input",42),k.Rb(),k.Sb(22,"div",24),k.Sb(23,"a",43),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().buildLinkGoogleMaps(i)})),k.Sb(24,"small"),k.Kc(25," Obter latitude e longitude no google maps "),k.Rb(),k.Rb(),k.Nb(26,"br"),k.Nb(27,"br"),k.Rb(),k.Sb(28,"div",24),k.Sb(29,"strong"),k.Kc(30,"Contatos"),k.Rb(),k.Nb(31,"br"),k.Nb(32,"br"),k.Rb(),k.Sb(33,"div",8),k.Ic(34,ir,1,0,"br",28),k.Nb(35,"input",44),k.Rb(),k.Ic(36,rr,4,2,"div",45),k.Rb(),k.Sb(37,"div",14),k.Sb(38,"i",46),k.ac("click",(function(){k.zc(e);const i=t.index;return k.ec().addPhone(i)})),k.Kc(39,"smartphone "),k.Sb(40,"small"),k.Kc(41,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=t.index,i=k.ec();k.zb(2),k.lc("ngIf",i.addressFormGroup.get("address").controls.length>1),k.zb(1),k.lc("formGroupName",e),k.zb(31),k.lc("ngIf",i.addressFormGroup.get("address").controls[e].get("phones").controls.length>1),k.zb(2),k.lc("ngForOf",i.addressFormGroup.get("address").controls[e].get("phones").controls)}}function ar(e,t){if(1&e){const e=k.Ub();k.Sb(0,"i",47),k.ac("click",(function(){k.zc(e);const t=k.ec().index,i=k.ec();return i.removeDetail(i,t)})),k.Rb()}}function sr(e,t){if(1&e&&(k.Sb(0,"div",51),k.Sb(1,"div",32),k.Sb(2,"h6"),k.Ic(3,ar,1,0,"i",33),k.Kc(4," T\xedtulo: "),k.Sb(5,"span",52),k.Sb(6,"small"),k.Kc(7),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",34),k.Sb(9,"div",8),k.Nb(10,"br"),k.Nb(11,"input",53),k.Rb(),k.Sb(12,"div",8),k.Nb(13,"br"),k.Sb(14,"textarea",54),k.Kc(15,"                  "),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e){const e=t.$implicit,i=t.index,o=k.ec();k.zb(3),k.lc("ngIf",o.detailsFormGroup.get("details").controls.length>1),k.zb(4),k.Mc(" ",e.value.title," "),k.zb(1),k.lc("formGroupName",i)}}function lr(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",6),k.Sb(1,"div",55),k.Sb(2,"button",56),k.ac("click",(function(){return k.zc(e),k.ec().save()})),k.Rb(),k.Rb(),k.Rb()}if(2&e){const e=k.ec();k.zb(2),k.lc("disabled",!e.companyFormGroup.valid||!e.addressFormGroup.valid||!e.detailsFormGroup.valid)}}function cr(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-alert",57),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("titleBreadCrum",!1)("loadApp",!0)("id",e.response)("dialog",e)}}function br(e,t){if(1&e&&(k.Sb(0,"div"),k.Nb(1,"app-img",58),k.Rb()),2&e){const e=k.ec();k.zb(1),k.lc("loadApp",!1)("dialog",e)("data",e.response)}}const pr=function(){return{"text-transform":"capitalize"}};let dr=(()=>{class e extends De{constructor(e,t,i,o,r,n,a,s,l){super(e,t,i,o,r,n,a),this.route=s,this.breadcrumbService=l,this.userOwner=F.a.isOwner(),this.breadcrumbService.setItems([{label:"Editar Fornecedor"}])}setData(e){var t,i,o,r,n,a,s,l,c;const b=Object.assign(Object.assign(Object.assign({},this.companyFormGroup.value),this.detailsFormGroup.value),{details:[],wordsKeys:""});for(const d in b)if(Object.prototype.hasOwnProperty.call(b,d)){try{e[d]&&this.companyFormGroup.get(d).setValue(e[d])}catch(p){}try{if("details"==d){for(let l=0;l<(null===(t=e[d])||void 0===t?void 0:t.length);l++)this.addDetail(this),null===(o=null===(i=this.detailsFormGroup.get("details").controls[l])||void 0===i?void 0:i.get("title"))||void 0===o||o.setValue(null===(r=e[d][l])||void 0===r?void 0:r.title),null===(a=null===(n=this.detailsFormGroup.get("details").controls[l])||void 0===n?void 0:n.get("description"))||void 0===a||a.setValue(null===(s=e[d][l])||void 0===s?void 0:s.description);(null===(l=e[d])||void 0===l?void 0:l.length)||this.removeDetail(this,(null===(c=this.detailsFormGroup.value.details)||void 0===c?void 0:c.length)-1)}}catch(p){}}this.setAddress(e),this.setContact(e)}setContact(e){var t,i,o,r;let n;if(null===(t=null==e?void 0:e.companyData)||void 0===t?void 0:t.length){n=null===(i=null==e?void 0:e.companyData[0])||void 0===i?void 0:i.contact;const t=Object.assign({},n);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))try{if("phones"==e){const t=n[e];for(let e=0;e<(null==t?void 0:t.length);e++)null===(r=null===(o=this.addressFormGroup.get("address").controls[0].get("phones").controls[e])||void 0===o?void 0:o.get("phone"))||void 0===r||r.setValue(t[e])}else{const t=n[e];t&&this.addressFormGroup.get("address").controls[0].get(e).setValue(t)}}catch(a){console.error(a);continue}}}setAddress(e){var t,i,o,r,n,a,s,l,c;let b;if(null===(t=null==e?void 0:e.companyData)||void 0===t?void 0:t.length){b=null===(i=null==e?void 0:e.companyData[0])||void 0===i?void 0:i.address;const t=Object.assign({},b);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&("location"==e&&(null===(r=null===(o=this.addressFormGroup.get("address").controls[0])||void 0===o?void 0:o.get("latlng"))||void 0===r||r.setValue(`${null===(n=b[e])||void 0===n?void 0:n.lat},${null===(a=b[e])||void 0===a?void 0:a.lng}`)),null===(l=null===(s=this.addressFormGroup.get("address").controls[0])||void 0===s?void 0:s.get(e))||void 0===l||l.setValue(b[e]));this.removeDetail(this,(null===(c=this.detailsFormGroup.value.details)||void 0===c?void 0:c.length)-1)}}save(){this.spinner.show();const e=this.service.update(`${l.a.SUPPLIERS}/${this.id}`,Ee(this)).subscribe(e=>{this.response=e,this.spinner.hide(),this.msg.toast(Object(s.c)(a.d)),this.router.navigate(["/query/type/supplier"])});this.subscription.add(e)}loadUpdateData(){this.spinner.show(),this.service.get(`${l.a.SUPPLIERS}/${this.id}`,{}).subscribe(e=>{this.setData(e),this.data=e,this.spinner.hide()})}loadRoutParamsAndloadUpdateData(){this.route.params.subscribe(e=>{this.id=null==e?void 0:e.id,this.loadUpdateData()})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.companyFormGroup)}ngOnInit(){this.startDefault(),this.loadRoutParamsAndloadUpdateData()}ngOnDestroy(){this.teams=new Array,this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(w.a),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(P.c),k.Lb(D),k.Lb(P.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-edit-supplier"]],viewQuery:function(e,t){var i;1&e&&k.Oc(Qo,!0),2&e&&k.xc(i=k.bc())&&(t.stepper=i.first)},features:[k.wb],decls:69,vars:24,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"linear"],["stepper",""],[3,"formGroup"],[1,"p-grid","p-formgrid"],["class","p-col-12 p-mb-2 p-lg-4 p-mb-lg-0",4,"ngIf"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],["mask","00.000.000/0000-00","formControlName","taxId","type","text","pInputText","","placeholder","CNPJ*"],["formControlName","name","type","text","pInputText","","placeholder","Raz\xe3o social",3,"ngStyle"],["formControlName","fantasyName","type","text","pInputText","","placeholder","Nome fantasia*",3,"ngStyle"],["formControlName","stateRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o estadual",3,"ngStyle"],["formControlName","municipalRegistration","type","text","pInputText","","placeholder","Inscri\xe7\xe3o municipal",3,"ngStyle"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Continuar",1,"p-mr-2","p-mb-2",3,"disabled","click"],["formArrayName","address",4,"ngFor","ngForOf"],["pButton","","label","Voltar","type","button",1,"p-button-secondary","p-mr-2","p-mb-2",3,"click"],["pButton","","label","Continuar","type","button",1,"p-mr-2","p-mb-2",3,"disabled","click"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-0"],["title","Adicionar detalhes e informa\xe7oes",1,"material-icons",2,"cursor","pointer","font-size","1.5rem",3,"click"],["formArrayName","details",4,"ngFor","ngForOf"],[2,"color","red"],["class","p-grid p-formgrid",4,"ngIf"],[1,"p-col-12","p-mb-12","p-lg-12","p-mb-lg-12"],["pButton","","pRipple","","label","Cadastrar Alertas",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],["pButton","","pRipple","","label","Enviar Imagens",1,"p-button-outlined","p-mr-2","p-mb-2",3,"click"],[3,"closable","visible"],[4,"ngIf"],[1,"p-col-12","p-mb-2","p-lg-4","p-mb-lg-0"],["formControlName","teamId","optionValue","id","id","teams","inputId","teams","optionLabel","name","placeholder","Selecionar Empresa",3,"options","onChange"],["formArrayName","address"],[1,"p-col-12","p-mb-6","p-lg-4","p-mb-lg-2",2,"padding","0 !important"],["class","pi pi-times-circle","style","cursor: pointer; font-size: 1rem",3,"click",4,"ngIf"],[1,"p-grid","p-formgrid",3,"formGroupName"],["formControlName","postalCode","mask","00000-000","type","text","pInputText","","placeholder","CEP*",3,"keyup"],["type","text","formControlName","street","pInputText","","placeholder","Rua*"],["type","text","pKeyFilter","int","formControlName","number","pInputText","","placeholder","N\xfamero*"],["type","text","formControlName","complement","pInputText","","placeholder","Complemento"],["type","text","formControlName","neighborhood","pInputText","","placeholder","Bairro*"],["type","text","formControlName","city","pInputText","","placeholder","Cidade*"],["formControlName","state","type","text","pInputText","","placeholder","UF*"],["required","","formControlName","latlng","type","text","pInputText","","placeholder","Latitude/Longitude*"],[1,"p-mr-2","p-mb-2",2,"cursor","pointer",3,"click"],["formControlName","email","type","text","pInputText","","placeholder","E-mail"],["formArrayName","phones","class","p-col-12 p-mb-4 p-lg-4 p-mb-lg-4",4,"ngFor","ngForOf"],["title","Adicionar novo contato",1,"material-icons",2,"cursor","pointer","font-size","2rem",3,"click"],[1,"pi","pi-times-circle",2,"cursor","pointer","font-size","1rem",3,"click"],["formArrayName","phones",1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[3,"formGroupName"],["formControlName","phone","mask","(00) 00000-0000||(00) 0000-0000","type","phone","pInputText","","placeholder","Telefone*"],["formArrayName","details"],["name","name"],["name","name","formControlName","title","pInputText","","placeholder","Titulo*"],["type","text","formControlName","description","pInputTextarea","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-4"],["pButton","","label","Salvar",1,"p-mr-2","p-mb-2","p-button-success",3,"disabled","click"],[3,"titleBreadCrum","loadApp","id","dialog"],[3,"loadApp","dialog","data"]],template:function(e,t){if(1&e){const e=k.Ub();k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"mat-horizontal-stepper",3,4),k.Sb(5,"mat-step"),k.Sb(6,"h4"),k.Kc(7,"Dados Iniciais"),k.Rb(),k.Sb(8,"form",5),k.Sb(9,"div",6),k.Ic(10,er,3,1,"div",7),k.Sb(11,"div",8),k.Nb(12,"input",9),k.Rb(),k.Sb(13,"div",8),k.Nb(14,"input",10),k.Rb(),k.Sb(15,"div",8),k.Nb(16,"input",11),k.Rb(),k.Sb(17,"div",8),k.Nb(18,"input",12),k.Rb(),k.Sb(19,"div",8),k.Nb(20,"input",13),k.Rb(),k.Rb(),k.Sb(21,"div",6),k.Sb(22,"div",14),k.Sb(23,"button",15),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(24,"mat-step"),k.Sb(25,"h4"),k.Kc(26,"Endere\xe7o"),k.Rb(),k.Sb(27,"form",5),k.Sb(28,"div"),k.Ic(29,nr,42,4,"div",16),k.Rb(),k.Sb(30,"div",6),k.Sb(31,"div",14),k.Sb(32,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(33,"div",14),k.Sb(34,"button",18),k.ac("click",(function(){return k.zc(e),k.yc(4).next()})),k.Rb(),k.Rb(),k.Sb(35,"div",19),k.Sb(36,"i",20),k.ac("click",(function(){return t.addPAddress()})),k.Kc(37," info "),k.Sb(38,"small"),k.Kc(39,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(40,"mat-step"),k.Sb(41,"h4"),k.Kc(42,"Detalhes e Informa\xe7\xf5es"),k.Rb(),k.Sb(43,"form",5),k.Sb(44,"div"),k.Ic(45,sr,16,3,"div",21),k.Rb(),k.Sb(46,"div",6),k.Sb(47,"div",14),k.Sb(48,"button",17),k.ac("click",(function(){return k.zc(e),k.yc(4).previous()})),k.Rb(),k.Rb(),k.Sb(49,"div",19),k.Sb(50,"i",20),k.ac("click",(function(){return t.addDetail(t)})),k.Kc(51," info "),k.Sb(52,"small"),k.Kc(53,"+"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Sb(54,"div",6),k.Sb(55,"div",19),k.Sb(56,"small"),k.Kc(57,"Campos obrigat\xf3rios "),k.Sb(58,"span",22),k.Kc(59,"*"),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Ic(60,lr,3,1,"div",23),k.Rb(),k.Rb(),k.Sb(61,"div",6),k.Sb(62,"div",24),k.Sb(63,"button",25),k.ac("click",(function(){return t.showAlert=!0})),k.Rb(),k.Sb(64,"button",26),k.ac("click",(function(){return t.showImage=!0})),k.Rb(),k.Rb(),k.Rb(),k.Sb(65,"p-dialog",27),k.Ic(66,cr,2,4,"div",28),k.Rb(),k.Sb(67,"p-dialog",27),k.Ic(68,br,2,3,"div",28),k.Rb()}if(2&e){const e=k.yc(4);k.zb(3),k.lc("linear",!0),k.zb(5),k.lc("formGroup",t.companyFormGroup),k.zb(2),k.lc("ngIf",t.userOwner),k.zb(4),k.lc("ngStyle",k.oc(20,pr)),k.zb(2),k.lc("ngStyle",k.oc(21,pr)),k.zb(2),k.lc("ngStyle",k.oc(22,pr)),k.zb(2),k.lc("ngStyle",k.oc(23,pr)),k.zb(3),k.lc("disabled",!t.companyFormGroup.valid),k.zb(4),k.lc("formGroup",t.addressFormGroup),k.zb(2),k.lc("ngForOf",t.addressFormGroup.get("address").controls),k.zb(5),k.lc("disabled",!t.addressFormGroup.valid),k.zb(9),k.lc("formGroup",t.detailsFormGroup),k.zb(2),k.lc("ngForOf",t.detailsFormGroup.get("details").controls),k.zb(15),k.lc("ngIf",e.selectedIndex<=2),k.zb(5),k.lc("closable",!1)("visible",t.showAlert),k.zb(1),k.lc("ngIf",t.showAlert),k.zb(1),k.lc("closable",!1)("visible",t.showImage),k.zb(1),k.lc("ngIf",t.showImage)}},directives:[M.a,M.b,h.G,h.r,h.i,r.t,q.a,h.c,h.q,h.h,$.a,r.w,j.b,r.s,H.a,B.a,h.e,h.j,X.a,h.B,V.a,ae,me],styles:[""]}),e})();var ur=i("cYJw");let mr=(()=>{class e{constructor(e,t,i,o,r){this.formBuilder=e,this.msg=t,this.spinner=i,this.service=o,this.breadcrumbService=r,this.breadcrumbService.setItems([{label:"Registrar tipo de eventos"}])}loadFormGroup(){var e,t,i,o;this.registerFormGroup=this.formBuilder.group({name:["",[h.E.required]],description:["",[h.E.required]],teamId:[null===(e=this.service.myStorage.get())||void 0===e?void 0:e.teamId],teamOwnerId:[null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId],teamName:[null===(o=null===(i=this.service.myStorage.get())||void 0===i?void 0:i.companiesView.find(({id:e})=>{var t;return e===(null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamId)}))||void 0===o?void 0:o.name],wordsKeys:[""]})}save(){this.registerFormGroup.value.wordsKeys=Object(N.a)(this.registerFormGroup.value),this.spinner.show(),this.service.post(l.a.TYPE_EVENTS,this.registerFormGroup.value).subscribe(()=>{W.builder().reset(this.registerFormGroup),this.spinner.hide(),this.msg.toast(Object(s.c)(a.d))})}startDefault(){this.loadFormGroup(),_.a.loadTeams(this,this.registerFormGroup)}ngOnInit(){this.startDefault()}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(h.f),k.Lb(G.a),k.Lb(A.c),k.Lb(K.a),k.Lb(T.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-type-alert"]],decls:16,vars:2,consts:[[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-12"],[1,"card"],[3,"formGroup"],[1,"p-grid","p-formgrid"],[1,"p-col-12","p-mb-4","p-lg-4","p-mb-lg-4"],[2,"font-weight","700"],["name","name","formControlName","name","type","text","pInputText","","placeholder","Nome*"],["formControlName","description","type","text","pInputText","","placeholder","Descri\xe7\xe3o*"],[1,"p-col-12","p-mb-4","p-lg-2","p-mb-lg-0"],["pButton","","label","Cadastrar",1,"p-mr-2","p-mb-2",3,"disabled","click"]],template:function(e,t){1&e&&(k.Sb(0,"div",0),k.Sb(1,"div",1),k.Sb(2,"div",2),k.Sb(3,"form",3),k.Sb(4,"div",4),k.Sb(5,"div",5),k.Sb(6,"h6",6),k.Kc(7,"Registrar Tipo de Eventos"),k.Rb(),k.Rb(),k.Rb(),k.Sb(8,"div",4),k.Sb(9,"div",5),k.Nb(10,"input",7),k.Rb(),k.Sb(11,"div",5),k.Nb(12,"input",8),k.Rb(),k.Rb(),k.Sb(13,"div",4),k.Sb(14,"div",9),k.Sb(15,"button",10),k.ac("click",(function(){return t.save()})),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb(),k.Rb()),2&e&&(k.zb(3),k.lc("formGroup",t.registerFormGroup),k.zb(12),k.lc("disabled",!t.registerFormGroup.valid))},directives:[h.G,h.r,h.i,h.c,h.q,h.h,$.a,j.b],styles:[""]}),e})();var hr=i("Yvnh"),vr=i.n(hr),fr=i("ZWVR"),gr=i.n(fr),Sr=i("fBc7"),Rr=i.n(Sr),yr=i("CRri"),Ir=i.n(yr),Nr=i("y0Cw"),xr=i("tYJx"),zr=i("LLb3");const Cr=["fullCalendar"],_r={registerRoutes:[{path:"employee",children:[{path:"",canActivate:[Ji.a],component:Hi,data:{key:"employee_post"}}]},{path:"employee-edit/:id",component:Vo,canActivate:[Ji.a],data:{key:"employee_patch"}},{path:"employee-double/:id",component:vt,canActivate:[Ji.a],data:{key:"employee_post"}},{path:"employee_type",component:Ei,canActivate:[Ji.a],data:{key:"employee_type_post"}},{path:"perfil",component:uo,canActivate:[Ji.a],data:{key:"profile_post"}},{path:"perfil-edit/:id",component:Zo,canActivate:[Ji.a],data:{key:"profile_patch"}},{path:"event",component:ae,canActivate:[Ji.a],data:{key:"event_post"}},{path:"event-type",component:mr,canActivate:[Ji.a],data:{key:"event_type_post"}},{path:"event-calendar",component:(()=>{class e{constructor(e,t,i,o,r){this.primengConfig=e,this.apiService=t,this.productss=i,this.breadcrumbService=o,this.position=r,this.value6=60,this.dateToday=new Date,this.teams=new Array,this.years=new Array,this.grossAmount=0,this.totalExpense=0,this.totalBalance=0,this.breadcrumbService.setItems([{label:"Dashboard",routerLink:["/"]}]),this.productss.getProducts().then(e=>{this.products=e})}gotoDate(e){this.fullCalendar.getCalendar().gotoDate(e)}generateYears(){this.year=this.dateToday.getFullYear();const e=[];let t=this.dateToday.getFullYear(),i=t-3;for(;t>=i;)e.push(t),t--;this.years=e}getByYear(e){var t;this.year=null==e?void 0:e.value,this.loadDashboardStartGraphicsPeriods(null===(t=this.company)||void 0===t?void 0:t.id)}loadDashboardStartGraphicsPeriods(e){this.totalExpense=0,this.totalBalance=0,this.grossAmount=0,this.apiService.getById(`${l.a.DASHBOARD_START}/graphics-periods/${e}`,{year:this.year}).subscribe(e=>{var t,i,o,r,n,a,s,l,c,b;this.basicData={labels:C.a.monthNames,datasets:[{label:"Despesa",backgroundColor:"#d2002f",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{label:"L\xedquido",backgroundColor:"#63b7ac",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},this.basicDataJustExpense={labels:C.a.monthNames,datasets:[{label:"Despesa",backgroundColor:"#d2002f",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]},this.basicDataJustOperations={labels:C.a.monthNames,datasets:[{label:"L\xedquido",backgroundColor:"#63b7ac",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]};const p=(e,t)=>e+t;(null===(t=null==e?void 0:e.expenses)||void 0===t?void 0:t.length)&&(this.totalExpense=null===(o=null===(i=null==e?void 0:e.expenses)||void 0===i?void 0:i.map(e=>e.amount))||void 0===o?void 0:o.reduce(p)),(null===(r=null==e?void 0:e.operations)||void 0===r?void 0:r.length)&&(this.totalBalance=null===(a=null===(n=null==e?void 0:e.operations)||void 0===n?void 0:n.map(e=>e.amount))||void 0===a?void 0:a.reduce(p),this.grossAmount=null===(l=null===(s=null==e?void 0:e.operations)||void 0===s?void 0:s.map(e=>e.grossAmount))||void 0===l?void 0:l.reduce(p));for(let d=0;d<(null===(c=null==e?void 0:e.expenses)||void 0===c?void 0:c.length);d++){const t=null==e?void 0:e.expenses[d],i=(null==t?void 0:t.month)-1;this.basicData.datasets[0].data[i]=null==t?void 0:t.amount,this.basicDataJustExpense.datasets[0].data[i]=null==t?void 0:t.amount}for(let d=0;d<(null===(b=null==e?void 0:e.operations)||void 0===b?void 0:b.length);d++){const t=null==e?void 0:e.operations[d],i=(null==t?void 0:t.month)-1;this.basicData.datasets[1].data[(null==t?void 0:t.month)-1]=null==t?void 0:t.amount,this.basicDataJustOperations.datasets[0].data[i]=null==t?void 0:t.amount}})}loadDashboardStart(e){this.apiService.getById(`${l.a.DASHBOARD_START}/${e}`).subscribe(e=>{var t,i,o,r,n,a,s,l,c,b,p,d,u,m,h,v,f,g,S,R,y,I,N,x,z,C;try{if(this.data=e,this.revenueChart={labels:["Despesa: ","L\xedquido: ","Economizado: ","Margem: "],datasets:[{data:[null===(t=this.data)||void 0===t?void 0:t.expensePercentage.toFixed(2),null===(i=this.data)||void 0===i?void 0:i.balancePercentage.toFixed(2),null===(o=this.data)||void 0===o?void 0:o.discountPercentage.toFixed(2),null===(r=this.data)||void 0===r?void 0:r.marginNegotiatedPercentage.toFixed(2)],backgroundColor:["#7986CB","#4DB6AC","#79e21e","#f7e500"]}]},this.revenueChart.labels[0]=`${this.revenueChart.labels[0]} ${this.calculateValueByPercent(100*(null===(n=this.data)||void 0===n?void 0:n.expenseTotalAmount)/(null===(a=this.data)||void 0===a?void 0:a.totalAmount),null===(s=this.data)||void 0===s?void 0:s.totalAmount)}`,this.revenueChart.labels[1]=`${this.revenueChart.labels[1]} ${this.calculateValueByPercent(100*(null===(l=this.data)||void 0===l?void 0:l.balance)/(null===(c=this.data)||void 0===c?void 0:c.totalAmount),null===(b=this.data)||void 0===b?void 0:b.totalAmount)}`,this.revenueChart.labels[2]=`${this.revenueChart.labels[2]} ${this.calculateValueByPercent(100*(null===(p=this.data)||void 0===p?void 0:p.discountTotalAmount)/(null===(d=this.data)||void 0===d?void 0:d.totalAmount),null===(u=this.data)||void 0===u?void 0:u.totalAmount)}`,this.revenueChart.labels[3]=`${this.revenueChart.labels[3]} ${this.calculateValueByPercent(100*(null===(m=this.data)||void 0===m?void 0:m.marginNegotiated)/(null===(h=this.data)||void 0===h?void 0:h.totalAmount),null===(v=this.data)||void 0===v?void 0:v.totalAmount)}`,this.revenueChart2={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.revenueChart3={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.options2={title:{display:!1,text:"",fontSize:16},tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){return`  ${t.datasets[0].data[e.index]}%`}}},legend:{position:"bottom",hover:!1}},(null===(f=this.data)||void 0===f?void 0:f.expensesGroup.length)>0){const e=(null===(S=null===(g=this.data)||void 0===g?void 0:g.expensesGroup)||void 0===S?void 0:S.map(e=>+(null==e?void 0:e.description))).reduce((e,t)=>e+t);null===(y=null===(R=this.data)||void 0===R?void 0:R.expensesGroup)||void 0===y||y.filter(t=>{var i;let o=100*+(null==t?void 0:t.description)/e;null===(i=this.revenueChart2.labels)||void 0===i||i.push(`${null==t?void 0:t.title}: ${this.calculateValueByPercent(o,this.data.expenseTotalAmount)}`),this.revenueChart2.datasets[0].data.push(o.toFixed(2)),this.revenueChart2.datasets[0].backgroundColor.push(this.getRandomColor())})}if((null===(I=this.data)||void 0===I?void 0:I.discountExpenses.length)>0){const e=(null===(x=null===(N=this.data)||void 0===N?void 0:N.discountExpenses)||void 0===x?void 0:x.map(e=>+(null==e?void 0:e.description))).reduce((e,t)=>e+t);null===(C=null===(z=this.data)||void 0===z?void 0:z.discountExpenses)||void 0===C||C.filter(t=>{var i;let o=100*+(null==t?void 0:t.description)/e;null===(i=this.revenueChart3.labels)||void 0===i||i.push(`${null==t?void 0:t.title}: ${this.calculateValueByPercent(o,this.data.discountTotalAmount)}`),this.revenueChart3.datasets[0].data.push(o.toFixed(2)),this.revenueChart3.datasets[0].backgroundColor.push(this.getRandomColor())})}}catch(_){}})}getRandomColor(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}loadteams(){this.apiService.get(l.a.TEAM+"/all",{}).subscribe(e=>{var t,i;this.teams=e,this.company=this.teams.find(e=>{var t;return(null==e?void 0:e.id)==(null===(t=this.apiService.myStorage.get())||void 0===t?void 0:t.teamId)}),this.loadDashboardStart(null===(t=this.company)||void 0===t?void 0:t.id),this.loadDashboardStartGraphicsPeriods(null===(i=this.company)||void 0===i?void 0:i.id)})}calculateValueByPercent(e,t){var i;return null===(i=e*t/100)||void 0===i?void 0:i.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}handleDateClick(e){console.log("teste")}ngOnInit(){this.apiService.get(l.a.EVENT+"/filters?active=true&page=0&size=999",{}).subscribe(e=>{const t=[];console.log(e),e.elements.forEach(e=>{console.log(e),t.push({id:e.id,title:`${e.typeName}, ${e.title}`,start:e.alertDay})}),this.events=t}),this.options={plugins:[vr.a,gr.a,Rr.a],defaultDate:(new Date).toISOString(),locale:Ir.a,header:{left:"prev,next,today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},dayMaxEvents:!0,editable:!1,dateClick:e=>{console.log(e)},eventClick:function(e){var t;console.log(null===(t=e.event)||void 0===t?void 0:t._def),e.jsEvent.preventDefault(),e.event.url&&window.open(e.event.url)}},this.primengConfig.setTranslation(C.a)}selectCompany(){var e,t;this.loadDashboardStart(null===(e=this.company)||void 0===e?void 0:e.id),this.loadDashboardStartGraphicsPeriods(null===(t=this.company)||void 0===t?void 0:t.id)}ngAfterViewInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(k.Lb(E.k),k.Lb(K.a),k.Lb(Nr.a),k.Lb(T.a),k.Lb(xr.a))},e.\u0275cmp=k.Fb({type:e,selectors:[["app-alert-calendar"]],viewQuery:function(e,t){var i;1&e&&k.Oc(Cr,!0),2&e&&k.xc(i=k.bc())&&(t.fullCalendar=i.first)},decls:2,vars:2,consts:[[3,"events","options"],["fullCalendar",""]],template:function(e,t){1&e&&k.Nb(0,"p-fullCalendar",0,1),2&e&&k.lc("events",t.events)("options",t.options)},directives:[zr.a],styles:[""]}),e})(),canActivate:[Ji.a],data:{key:"event_calendar"}},{path:"expenses",component:Di,canActivate:[Ji.a],data:{key:"expense_post"}},{path:"customer",component:Fo,canActivate:[Ji.a],data:{key:"customer_post"}},{path:"customer-edit/:id",component:He,canActivate:[Ji.a],data:{key:"customer_patch"}},{path:"supplier",component:Xt,canActivate:[Ji.a],data:{key:"supplier_post"}},{path:"supplier-edit/:id",component:dr,canActivate:[Ji.a],data:{key:"supplier_patch"}},{path:"expense_type",component:Ht,canActivate:[Ji.a],data:{key:"expense_type_post"}},{path:"operation",component:Ot,canActivate:[Ji.a],data:{key:"operation_post"}},{path:"operational-edit/:id",component:ke,canActivate:[Ji.a],data:{key:"operation_patch"}},{path:"operation-type",component:ft,canActivate:[Ji.a],data:{key:"operation_type_post"}},{path:"team",loadChildren:()=>Promise.resolve().then(i.bind(null,"LGBX")).then(e=>e.TeamModule)},{path:"team",component:ur.a,canActivate:[Ji.a]}],consultRouts:i("fNxr").a};let Fr=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},imports:[[P.g.forChild(_r.registerRoutes)],P.g]}),e})();i("owBi");var kr=i("f6B5"),wr=(i("PmaJ"),i("EYJY")),Gr=i("ERl3"),Or=(i("jV/k"),i("vQeL"),i("Y8if"),i("XA6Z"),i("WKA6")),Dr=(i("70cc"),i("ccoi")),Er=(i("XRyL"),i("WRsz"),i("ital")),Ar=i("1rLY"),Kr=i("Hw5D"),Pr=i("Hj8T"),Tr=i("GvDd");i("OX4D");class Mr{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Object(kr.c)(-this._previousScrollPosition.left),e.style.top=Object(kr.c)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,i=this._document.body.style,o=t.scrollBehavior||"",r=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=o,i.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class Lr{constructor(e,t,i,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Br{enable(){}disable(){}attach(){}}function Vr(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function jr(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class Ur{constructor(e,t,i,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();Vr(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qr=(()=>{class e{constructor(e,t,i,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new Br,this.close=e=>new Lr(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new Mr(this._viewportRuler,this._document),this.reposition=e=>new Ur(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=o}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(Kr.f),k.Xb(Kr.h),k.Xb(k.z),k.Xb(r.e))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(Kr.f),Object(k.Xb)(Kr.h),Object(k.Xb)(k.z),Object(k.Xb)(r.e))},token:e,providedIn:"root"}),e})();class $r{constructor(e){if(this.scrollStrategy=new Br,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Xr{constructor(e,t,i,o,r){this.offsetX=i,this.offsetY=o,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Yr{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Hr=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(r.e))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(r.e))},token:e,providedIn:"root"}),e})(),Jr=(()=>{class e extends Hr{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--)if(t[i]._keydownEvents.observers.length>0){t[i]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(r.e))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(r.e))},token:e,providedIn:"root"}),e})(),Wr=(()=>{class e extends Hr{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,i=this._attachedOverlays.slice();for(let o=i.length-1;o>-1;o--){const r=i[o];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(t))break;r._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(r.e),k.Xb(Pr.a))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(r.e),Object(k.Xb)(Pr.a))},token:e,providedIn:"root"}),e})();const Zr=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Qr=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||Zr){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),Zr?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(r.e),k.Xb(Pr.a))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(r.e),Object(k.Xb)(Pr.a))},token:e,providedIn:"root"}),e})();class en{constructor(e,t,i,o,r,n,a,s,l){this._portalOutlet=e,this._host=t,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=n,this._document=a,this._location=s,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new wr.a,this._attachments=new wr.a,this._detachments=new wr.a,this._locationChanges=Ge.a.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new wr.a,this._outsidePointerEvents=new wr.a,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(Or.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Object(kr.c)(this._config.width),e.height=Object(kr.c)(this._config.height),e.minWidth=Object(kr.c)(this._config.minWidth),e.minHeight=Object(kr.c)(this._config.minHeight),e.maxWidth=Object(kr.c)(this._config.maxWidth),e.maxHeight=Object(kr.c)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const o=e.classList;Object(kr.a)(t).forEach(e=>{e&&(i?o.add(e):o.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Object(Dr.a)(Object(Gr.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const tn=/([A-Za-z%]+)$/;class on{constructor(e,t,i,o,r){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wr.a,this._resizeSubscription=Ge.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,o=[];let r;for(let n of this._preferredPositions){let a=this._getOriginPoint(e,n),s=this._getOverlayPoint(a,t,n),l=this._getOverlayFit(s,t,i,n);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(n,a);this._canFitWithFlexibleDimensions(l,s,i)?o.push({position:n,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,n)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:s,originPoint:a,position:n,overlayRect:t})}if(o.length){let e=null,t=-1;for(const i of o){const o=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);o>t&&(t=o,e=i)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,o;if("center"==t.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;i="start"==t.originX?o:r}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:o}}_getOverlayPoint(e,t,i){let o,r;return o="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+o,y:e.y+r}}_getOverlayFit(e,t,i,o){let{x:r,y:n}=e,a=this._getOffset(o,"x"),s=this._getOffset(o,"y");a&&(r+=a),s&&(n+=s);let l=0-n,c=n+t.height-i.height,b=this._subtractOverflows(t.width,0-r,r+t.width-i.width),p=this._subtractOverflows(t.height,l,c),d=b*p;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:p===t.height,fitsInViewportHorizontally:b==t.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const o=i.bottom-t.y,r=i.right-t.x,n=nn(this._overlayRef.getConfig().minHeight),a=nn(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=a&&a<=r;return(e.fitsInViewportVertically||null!=n&&n<=o)&&s}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=this._viewportRect,r=Math.max(e.x+t.width-o.width,0),n=Math.max(e.y+t.height-o.height,0),a=Math.max(o.top-i.top-e.y,0),s=Math.max(o.left-i.left-e.x,0);let l=0,c=0;return l=t.width<=o.width?s||-r:e.x<this._viewportMargin?o.left-i.left-e.x:0,c=t.height<=o.height?a||-n:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:l,y:c},{x:e.x+l,y:e.y+c}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),i=new Yr(e,t);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,o=this._isRtl();let r,n,a,s,l,c;if("top"===t.overlayY)n=e.y,r=i.height-n+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const t=Math.min(i.bottom-e.y+i.top,e.y),o=this._lastBoundingBoxSize.height;r=2*t,n=e.y-t,r>o&&!this._isInitialRender&&!this._growAfterOpen&&(n=e.y-o/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)c=i.width-e.x+this._viewportMargin,s=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)l=e.x,s=i.right-e.x;else{const t=Math.min(i.right-e.x+i.left,e.x),o=this._lastBoundingBoxSize.width;s=2*t,l=e.x-t,s>o&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-o/2)}return{top:n,left:l,bottom:a,right:c,width:s,height:r}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;o.height=Object(kr.c)(i.height),o.top=Object(kr.c)(i.top),o.bottom=Object(kr.c)(i.bottom),o.width=Object(kr.c)(i.width),o.left=Object(kr.c)(i.left),o.right=Object(kr.c)(i.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(o.maxHeight=Object(kr.c)(e)),r&&(o.maxWidth=Object(kr.c)(r))}this._lastBoundingBoxSize=i,rn(this._boundingBox.style,o)}_resetBoundingBoxStyles(){rn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(o){const o=this._viewportRuler.getViewportScrollPosition();rn(i,this._getExactOverlayY(t,e,o)),rn(i,this._getExactOverlayX(t,e,o))}else i.position="static";let a="",s=this._getOffset(t,"x"),l=this._getOffset(t,"y");s&&(a+=`translateX(${s}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),n.maxHeight&&(o?i.maxHeight=Object(kr.c)(n.maxHeight):r&&(i.maxHeight="")),n.maxWidth&&(o?i.maxWidth=Object(kr.c)(n.maxWidth):r&&(i.maxWidth="")),rn(this._pane.style,i)}_getExactOverlayY(e,t,i){let o={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let n=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=n,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":o.top=Object(kr.c)(r.y),o}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},n=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(n.x+this._overlayRect.width)+"px":r.left=Object(kr.c)(n.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jr(e,i),isOriginOutsideView:Vr(e,i),isOverlayClipped:jr(t,i),isOverlayOutsideView:Vr(t,i)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Object(kr.a)(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof k.l)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rn(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function nn(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(tn);return i&&"px"!==i?null:parseFloat(t)}return e||null}class an{constructor(e,t,i,o,r,n,a){this._preferredPositions=[],this._positionStrategy=new on(i,o,r,n,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,o){const r=new Xr(e,t,i,o);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class sn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:n,maxHeight:a}=i,s=!("100%"!==o&&"100vw"!==o||n&&"100%"!==n&&"100vw"!==n),l=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ln=(()=>{class e{constructor(e,t,i,o){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=o}global(){return new sn}connectedTo(e,t,i){return new an(t,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new on(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(Kr.h),k.Xb(r.e),k.Xb(Pr.a),k.Xb(Qr))},e.\u0275prov=Object(k.Hb)({factory:function(){return new e(Object(k.Xb)(Kr.h),Object(k.Xb)(r.e),Object(k.Xb)(Pr.a),Object(k.Xb)(Qr))},token:e,providedIn:"root"}),e})(),cn=0,bn=(()=>{class e{constructor(e,t,i,o,r,n,a,s,l,c,b){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=r,this._injector=n,this._ngZone=a,this._document=s,this._directionality=l,this._location=c,this._outsideClickDispatcher=b}create(e){const t=this._createHostElement(),i=this._createPaneElement(t),o=this._createPortalOutlet(i),r=new $r(e);return r.direction=r.direction||this._directionality.value,new en(o,t,i,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+cn++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(k.g)),new Er.b(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(k.Xb(qr),k.Xb(Qr),k.Xb(k.j),k.Xb(ln),k.Xb(Jr),k.Xb(k.r),k.Xb(k.z),k.Xb(r.e),k.Xb(Tr.c),k.Xb(r.n),k.Xb(Wr))},e.\u0275prov=k.Hb({token:e,factory:e.\u0275fac}),e})();const pn={provide:new k.q("cdk-connected-overlay-scroll-strategy"),deps:[bn],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let dn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[bn,pn],imports:[[Tr.a,Er.c,Kr.g],Kr.g]}),e})();const un={provide:new k.q("mat-menu-scroll-strategy"),deps:[bn],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let mn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[un],imports:[Ar.e]}),e})(),hn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[un],imports:[[r.c,Ar.e,Ar.j,dn,mn],Kr.c,Ar.e,mn]}),e})();i("YMV5");var vn=i("2ZL/");i("tCLk");let fn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},imports:[[r.c,Ar.e,vn.c],Ar.e]}),e})();i("vfyW");const gn={provide:new k.q("mat-autocomplete-scroll-strategy"),deps:[bn],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Sn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[gn],imports:[[dn,Ar.g,Ar.e,r.c],Kr.c,Ar.g,Ar.e]}),e})();i("lUmN"),i("S5zL");const Rn={provide:new k.q("mat-select-scroll-strategy"),deps:[bn],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let yn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[Rn],imports:[[r.c,dn,Ar.g,Ar.e],Kr.c,fn,Ar.g,Ar.e]}),e})();i("UGNb"),i("wZkZ");let In=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},imports:[[Pr.b]]}),e})(),Nn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[Ar.a],imports:[[In,fn],In,fn]}),e})();var xn=i("hqWh"),zn=i("1xOk"),Cn=i("NcHL");i("NAhb");const _n=new k.q("ng-select-selection-model");class Fn{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,i){if(e.selected=!0,(!e.children||!t&&i)&&this._selected.push(e),t)if(e.parent){const t=e.parent.children.length,i=e.parent.children.filter(e=>e.selected).length;e.parent.selected=t===i}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=i&&this._activeChildren(e)?[...this._selected.filter(t=>t.parent!==e),e]:[...this._selected,...e.children.filter(e=>!e.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(t=>t!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const t=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...t.filter(t=>t!==e&&!t.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(e,t){for(const i of e)i.disabled||(i.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(e=>!e.disabled||e.selected)}}const kn=function(){return new Fn};let wn=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[{provide:_n,useValue:kn}],imports:[[r.c]]}),e})();var Gn=i("4uYR"),On=i("LGBX");const Dn=null;let En=(()=>{class e{}return e.\u0275mod=k.Jb({type:e}),e.\u0275inj=k.Ib({factory:function(t){return new(t||e)},providers:[{provide:Y.a,useValue:o.a}],imports:[[Gn.b,j.c,r.c,yn,Qt.b,Cn.u,Nn,xn.b,$.b,h.A,Y.c,h.k,Sn,zn.a,hn,eo.b,H.b,V.b,B.b,it.b,L.b,M.c,X.b,le.b,Qi.b,ee.b,U.b,Yt.b,te.b,io,wn,q.c.forRoot(),Fr,zr.b,On.TeamModule]]}),e})()},Ja9u:function(e,t,i){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},LGBX:function(e,t,i){"use strict";i.r(t),i.d(t,"TeamModule",(function(){return v}));var o=i("Yvf7"),r=i("4n0u"),n=i("Cj2L"),a=i("8VHZ"),s=i("yFoz"),l=i("DT98"),c=i("I0xz"),b=i("1W9G"),p=i("nZmZ"),d=i("Fk62"),u=i("cYJw"),m=i("Ub9n");let h=(()=>{class e{}return e.\u0275mod=m.Jb({type:e}),e.\u0275inj=m.Ib({factory:function(t){return new(t||e)},imports:[[d.g.forChild([{path:"create",component:u.a,data:{key:"team_post"}}])],d.g]}),e})(),v=(()=>{class e{}return e.\u0275mod=m.Jb({type:e}),e.\u0275inj=m.Ib({factory:function(t){return new(t||e)},imports:[[o.c,r.b,n.b,a.k,a.A,s.c,l.b,c.b,b.c,p.b],h]}),e})()},QNc9:function(e,t,i){"use strict";var o=i("AHN0"),r=i("Ja9u"),n=i("ojM8"),a=i("2niU");function s(e){return e.reduce((function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var i=this._parentOrParents,l=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(var b=0;b<i.length;++b)i[b].remove(this);if(n.isFunction(l))try{l.call(this)}catch(u){t=u instanceof a.UnsubscriptionError?s(u.errors):[u]}if(o.isArray(c)){b=-1;for(var p=c.length;++b<p;){var d=c[b];if(r.isObject(d))try{d.unsubscribe()}catch(u){t=t||[],u instanceof a.UnsubscriptionError?t=t.concat(s(u.errors)):t.push(u)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){var o=i;(i=new e)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=i._parentOrParents;if(null===r)i._parentOrParents=this;else if(r instanceof e){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}var n=this._subscriptions;return null===n?this._subscriptions=[i]:n.push(i),i},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},cYJw:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var o=i("8VHZ"),r=i("frK+"),n=i("O5/X"),a=i("DqYx"),s=i("acuM"),l=i("01gL"),c=i("Ub9n"),b=i("VZx1"),p=i("RYuo"),d=i("dPOq"),u=i("989Q"),m=i("4n0u"),h=i("yFoz");let v=(()=>{class e{constructor(e,t,i,o,r){this.breadcrumbService=e,this.formBuilder=t,this.msg=i,this.service=o,this.spinner=r,this.user=null,this.myStore="",this.edit=!1,this.profiles=new Array,this.teams=new Array,this.img={base64:null,img:"assets/layout/images/avatar.jpg"},this.driver=null,this.userOwner=l.a.isOwner(),this.breadcrumbService.setItems([{label:"Cadastrar Grupo"}]),this.myStore=this.service.myStorage.get()}loadFormGroup(){this.dataFormGroup=this.formBuilder.group({name:["",[o.E.required]],title:["",[o.E.required]],imgUrl:[""],description:["",[o.E.required]],teamOwnerId:[""],wordsKeys:[""]})}save(){this.spinner.show(),this.service.post(r.a.TEAM,this.buildPayload()).subscribe(()=>{this.spinner.hide(),this.dataFormGroup.reset(),this.confirmPassWord=null,this.msg.toast(Object(n.c)("Grupo cadastrado com sucesso"))})}buildPayload(){var e,t,i,o;this.img.base64&&this.dataFormGroup.get("imgUrl").setValue(this.img.base64),(null===(e=this.service.myStorage.get())||void 0===e?void 0:e.teamId)!==(null===(t=this.service.myStorage.get())||void 0===t?void 0:t.teamOwnerId)?this.dataFormGroup.get("teamOwnerId").setValue(null===(i=this.service.myStorage.get())||void 0===i?void 0:i.teamOwnerId):this.dataFormGroup.get("teamOwnerId").setValue(null===(o=this.service.myStorage.get())||void 0===o?void 0:o.teamOwnerId);const r=this.dataFormGroup.value;return this.dataFormGroup.get("wordsKeys").setValue(Object(a.a)({a:null==r?void 0:r.name,b:null==r?void 0:r.title,c:null==r?void 0:r.description})),this.dataFormGroup.value}updateImage(){document.getElementById("inputFile").click()}setImage(e){const t=new FileReader;t.onload=this._handleReaderLoaded.bind(this),t.readAsBinaryString(e.target.files[0])}_handleReaderLoaded(e){const t=e.target.result;this.img.img="data:image/jpeg;base64,"+btoa(t),this.img.base64=btoa(t)}ngOnInit(){this.loadFormGroup(),s.a.loadTeams(this,this.dataFormGroup)}ngOnDestroy(){this.teams=new Array}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(b.a),c.Lb(o.f),c.Lb(p.a),c.Lb(d.a),c.Lb(u.c))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-team"]],decls:31,vars:7,consts:[[1,"p-grid"],[1,"p-col-12","p-md-6"],[1,"card"],[1,"p-fluid",3,"formGroup"],[1,"p-field"],["id","inputFile","type","file","accept","image/*",2,"display","none",3,"change"],[1,"avatar"],[2,"cursor","pointer"],[1,"img-fluid","ml-2",2,"border-radius","122px","width","90px","height","90px",3,"src","click"],["for","fullName"],["autocomplete","false","name","name","id","fullName","formControlName","name","type","text","pInputText",""],["for","userLogin"],["maxlength","14","name","title","formControlName","title","type","text","pInputText","",3,"readonly","autocomplete"],["name","desciption","formControlName","description","type","text","pInputText","",3,"autocomplete"],["label","Salvar",3,"disabled","click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"input",5),c.ac("change",(function(e){return t.setImage(e)})),c.Rb(),c.Sb(6,"h2",6),c.Sb(7,"a",7),c.Sb(8,"img",8),c.ac("click",(function(){return t.updateImage()})),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"label",9),c.Sb(10,"strong"),c.Kc(11,"Logo"),c.Rb(),c.Rb(),c.Nb(12,"br"),c.Nb(13,"br"),c.Rb(),c.Sb(14,"div",4),c.Sb(15,"label",9),c.Kc(16,"Nome"),c.Rb(),c.Nb(17,"input",10),c.Rb(),c.Sb(18,"div",4),c.Sb(19,"label",11),c.Kc(20,"T\xedtulo"),c.Rb(),c.Nb(21,"input",12),c.Sb(22,"small"),c.Sb(23,"span"),c.Kc(24),c.Rb(),c.Rb(),c.Rb(),c.Sb(25,"div",4),c.Sb(26,"label"),c.Kc(27,"Desci\xe7\xe3o"),c.Rb(),c.Nb(28,"input",13),c.Rb(),c.Rb(),c.Sb(29,"div",4),c.Sb(30,"p-button",14),c.ac("click",(function(){return t.save()})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.zb(3),c.lc("formGroup",t.dataFormGroup),c.zb(5),c.lc("src",t.img.img,c.Bc),c.zb(13),c.lc("readonly",t.edit)("autocomplete",!1),c.zb(3),c.Mc("Limite ",null==t.dataFormGroup||null==t.dataFormGroup.value||null==t.dataFormGroup.value.title?null:t.dataFormGroup.value.title.length," - 14"),c.zb(4),c.lc("autocomplete",!1),c.zb(2),c.lc("disabled",t.dataFormGroup.invalid))},directives:[o.r,o.i,o.c,o.q,o.h,m.a,o.l,h.a],styles:[""]}),e})()},ojM8:function(e,t,i){"use strict";t.isFunction=function(e){return"function"==typeof e}}}]);